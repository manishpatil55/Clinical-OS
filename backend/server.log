INFO:     Will watch for changes in these directories: ['/Users/manishpatil/Developer/GitHub/Clinical-OS/backend']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [23183] using WatchFiles
INFO:     Started server process [23245]
INFO:     Waiting for application startup.
2025-12-23 13:58:10,411 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 13:58:10,411 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 13:58:10,412 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 13:58:10,412 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 13:58:10,412 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 13:58:10,412 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 13:58:10,414 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 13:58:10,416 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 13:58:10,416 INFO sqlalchemy.engine.Engine [generated in 0.00008s] {'table_name': 'tenants', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 13:58:10,417 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 13:58:10,417 INFO sqlalchemy.engine.Engine [cached since 0.001151s ago] {'table_name': 'tenant_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 13:58:10,417 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 13:58:10,417 INFO sqlalchemy.engine.Engine [cached since 0.001475s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 13:58:10,417 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 13:58:10,417 INFO sqlalchemy.engine.Engine [cached since 0.001753s ago] {'table_name': 'patients', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 13:58:10,418 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 13:58:10,418 INFO sqlalchemy.engine.Engine [cached since 0.002027s ago] {'table_name': 'clinical_records', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 13:58:10,418 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 13:58:10,418 INFO sqlalchemy.engine.Engine [cached since 0.002276s ago] {'table_name': 'appointments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 13:58:10,418 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 13:58:10,418 INFO sqlalchemy.engine.Engine [cached since 0.00266s ago] {'table_name': 'attachments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 13:58:10,418 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 13:58:10,418 INFO sqlalchemy.engine.Engine [cached since 0.002883s ago] {'table_name': 'prescriptions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 13:58:10,419 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 13:58:10,419 INFO sqlalchemy.engine.Engine [cached since 0.003099s ago] {'table_name': 'invoices', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 13:58:10,419 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-12-23 13:58:40,482 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 13:58:40,491 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 13:58:40,491 INFO sqlalchemy.engine.Engine [generated in 0.00037s] {'username_1': 'admin'}
2025-12-23 13:58:40,505 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 13:58:40,505 INFO sqlalchemy.engine.Engine [generated in 0.00007s] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:58633 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 13:58:40,508 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 13:58:40,539 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 13:58:40,540 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 13:58:40,540 INFO sqlalchemy.engine.Engine [cached since 0.04908s ago] {'username_1': 'admin'}
2025-12-23 13:58:40,541 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 13:58:40,541 INFO sqlalchemy.engine.Engine [generated in 0.00007s] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:58633 - "GET /users HTTP/1.1" 200 OK
2025-12-23 13:58:40,542 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:58730 - "OPTIONS /users HTTP/1.1" 200 OK
2025-12-23 14:04:59,444 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:04:59,449 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:04:59,450 INFO sqlalchemy.engine.Engine [cached since 379s ago] {'username_1': 'admin'}
2025-12-23 14:04:59,569 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:04:59,571 INFO sqlalchemy.engine.Engine [cached since 379s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:58730 - "GET /users HTTP/1.1" 200 OK
2025-12-23 14:04:59,579 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:58732 - "OPTIONS /users/f250e4eb-9e80-4ee3-8f3e-c2443c41db4f HTTP/1.1" 200 OK
2025-12-23 14:05:10,539 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:05:10,541 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:05:10,541 INFO sqlalchemy.engine.Engine [cached since 390.1s ago] {'username_1': 'admin'}
2025-12-23 14:05:10,554 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:05:10,554 INFO sqlalchemy.engine.Engine [cached since 390.1s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:05:10,560 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.tenant_id AS users_tenant_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.roles AS users_roles, users.is_active AS users_is_active, users.created_at AS users_created_at 
FROM users 
WHERE users.id = %(pk_1)s::VARCHAR
2025-12-23 14:05:10,560 INFO sqlalchemy.engine.Engine [generated in 0.00018s] {'pk_1': 'f250e4eb-9e80-4ee3-8f3e-c2443c41db4f'}
2025-12-23 14:05:10,568 INFO sqlalchemy.engine.Engine DELETE FROM users WHERE users.id = %(id)s::VARCHAR
2025-12-23 14:05:10,568 INFO sqlalchemy.engine.Engine [generated in 0.00015s] {'id': 'f250e4eb-9e80-4ee3-8f3e-c2443c41db4f'}
2025-12-23 14:05:10,592 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:58732 - "DELETE /users/f250e4eb-9e80-4ee3-8f3e-c2443c41db4f HTTP/1.1" 200 OK
2025-12-23 14:05:10,599 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:05:10,599 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:05:10,599 INFO sqlalchemy.engine.Engine [cached since 390.1s ago] {'username_1': 'admin'}
2025-12-23 14:05:10,600 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:05:10,600 INFO sqlalchemy.engine.Engine [cached since 390.1s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:58732 - "GET /users HTTP/1.1" 200 OK
2025-12-23 14:05:10,601 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:58736 - "OPTIONS /tenants HTTP/1.1" 200 OK
INFO:     127.0.0.1:58737 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 14:05:18,663 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:05:18,664 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:05:18,664 INFO sqlalchemy.engine.Engine [cached since 398.2s ago] {'username_1': 'admin'}
2025-12-23 14:05:18,669 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:05:18,669 INFO sqlalchemy.engine.Engine [cached since 398.2s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:05:18,671 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 14:05:18,671 INFO sqlalchemy.engine.Engine [generated in 0.00052s] {}
2025-12-23 14:05:18,680 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:05:18,680 INFO sqlalchemy.engine.Engine [generated in 0.00081s] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 14:05:18,683 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:05:18,683 INFO sqlalchemy.engine.Engine [cached since 0.003664s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:58736 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 14:05:18,685 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:05:18,756 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:05:18,756 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:05:18,756 INFO sqlalchemy.engine.Engine [cached since 398.3s ago] {'username_1': 'admin'}
2025-12-23 14:05:18,759 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:05:18,759 INFO sqlalchemy.engine.Engine [cached since 398.3s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:58737 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:05:18,761 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:05:20,050 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:05:20,051 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:05:20,051 INFO sqlalchemy.engine.Engine [cached since 399.6s ago] {'username_1': 'admin'}
2025-12-23 14:05:20,051 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:05:20,052 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:05:20,052 INFO sqlalchemy.engine.Engine [cached since 399.6s ago] {'username_1': 'admin'}
2025-12-23 14:05:20,053 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:05:20,053 INFO sqlalchemy.engine.Engine [cached since 399.5s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:05:20,054 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:05:20,054 INFO sqlalchemy.engine.Engine [cached since 399.6s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:58736 - "GET /users HTTP/1.1" 200 OK
2025-12-23 14:05:20,054 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:58737 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:05:20,055 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:09:17,614 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:09:17,621 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:09:17,621 INFO sqlalchemy.engine.Engine [cached since 637.1s ago] {'username_1': 'admin'}
2025-12-23 14:09:17,659 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:09:17,659 INFO sqlalchemy.engine.Engine [cached since 637.2s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:58784 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:09:17,661 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:09:17,689 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:09:17,690 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:09:17,690 INFO sqlalchemy.engine.Engine [cached since 637.2s ago] {'username_1': 'admin'}
2025-12-23 14:09:17,692 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:09:17,692 INFO sqlalchemy.engine.Engine [cached since 637.2s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:58784 - "GET /users HTTP/1.1" 200 OK
2025-12-23 14:09:17,693 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:09:40,905 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:09:40,907 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:09:40,907 INFO sqlalchemy.engine.Engine [cached since 660.4s ago] {'username_1': 'admin'}
2025-12-23 14:09:40,910 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:09:40,910 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:09:40,910 INFO sqlalchemy.engine.Engine [cached since 660.4s ago] {'username_1': 'admin'}
2025-12-23 14:09:40,912 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:09:40,912 INFO sqlalchemy.engine.Engine [cached since 660.4s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:09:40,913 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 14:09:40,913 INFO sqlalchemy.engine.Engine [cached since 262.2s ago] {}
2025-12-23 14:09:40,914 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:09:40,914 INFO sqlalchemy.engine.Engine [cached since 660.4s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:09:40,914 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:09:40,914 INFO sqlalchemy.engine.Engine [cached since 262.2s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:58795 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:09:40,916 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:09:40,916 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:09:40,916 INFO sqlalchemy.engine.Engine [cached since 262.2s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:58794 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 14:09:40,917 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:58797 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
2025-12-23 14:09:48,912 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:09:48,912 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:09:48,913 INFO sqlalchemy.engine.Engine [cached since 668.4s ago] {'username_1': 'admin'}
2025-12-23 14:09:48,917 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:09:48,917 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:09:48,917 INFO sqlalchemy.engine.Engine [cached since 668.4s ago] {'username_1': 'admin'}
2025-12-23 14:09:48,918 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:09:48,918 INFO sqlalchemy.engine.Engine [cached since 668.4s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:09:48,919 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:09:48,919 INFO sqlalchemy.engine.Engine [cached since 668.4s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:58798 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:09:48,920 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:09:48,939 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants
2025-12-23 14:09:48,939 INFO sqlalchemy.engine.Engine [generated in 0.00027s] {}
2025-12-23 14:09:48,944 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 14:09:48,944 INFO sqlalchemy.engine.Engine [generated in 0.00012s] {}
2025-12-23 14:09:48,948 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
2025-12-23 14:09:48,948 INFO sqlalchemy.engine.Engine [generated in 0.00008s] {}
INFO:     127.0.0.1:58797 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 14:09:48,948 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:58812 - "OPTIONS /users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:58814 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 14:10:08,909 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:10:08,911 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:10:08,911 INFO sqlalchemy.engine.Engine [cached since 688.4s ago] {'username_1': 'admin'}
2025-12-23 14:10:08,917 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:10:08,917 INFO sqlalchemy.engine.Engine [cached since 688.4s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:58812 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:10:08,920 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:10:08,922 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:10:08,922 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:10:08,922 INFO sqlalchemy.engine.Engine [cached since 688.4s ago] {'username_1': 'admin'}
2025-12-23 14:10:08,924 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:10:08,924 INFO sqlalchemy.engine.Engine [cached since 688.4s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:58812 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:10:08,925 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:58812 - "OPTIONS /users/global-admins HTTP/1.1" 200 OK
INFO:     127.0.0.1:58814 - "OPTIONS /users/global-admins HTTP/1.1" 200 OK
2025-12-23 14:10:08,946 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:10:08,947 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:10:08,947 INFO sqlalchemy.engine.Engine [cached since 688.5s ago] {'username_1': 'admin'}
2025-12-23 14:10:08,950 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:10:08,950 INFO sqlalchemy.engine.Engine [cached since 688.4s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:10:08,953 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at, tenants.id AS id_1, tenants.name, tenants.domain, tenants.created_at AS created_at_1, tenants.is_super_admin 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> %(roles_1)s::JSONB
2025-12-23 14:10:08,953 INFO sqlalchemy.engine.Engine [generated in 0.00010s] {'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:58816 - "GET /users/global-admins HTTP/1.1" 200 OK
2025-12-23 14:10:08,959 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:10:08,959 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:10:08,959 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:10:08,959 INFO sqlalchemy.engine.Engine [cached since 688.5s ago] {'username_1': 'admin'}
2025-12-23 14:10:08,960 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:10:08,960 INFO sqlalchemy.engine.Engine [cached since 688.5s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:10:08,960 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at, tenants.id AS id_1, tenants.name, tenants.domain, tenants.created_at AS created_at_1, tenants.is_super_admin 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> %(roles_1)s::JSONB
2025-12-23 14:10:08,961 INFO sqlalchemy.engine.Engine [cached since 0.007878s ago] {'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:58816 - "GET /users/global-admins HTTP/1.1" 200 OK
2025-12-23 14:10:08,963 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:58816 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
2025-12-23 14:10:10,515 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:10:10,516 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:10:10,516 INFO sqlalchemy.engine.Engine [cached since 690s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:58812 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
2025-12-23 14:10:10,517 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:10:10,518 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:10:10,518 INFO sqlalchemy.engine.Engine [cached since 690s ago] {'username_1': 'admin'}
2025-12-23 14:10:10,520 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:10:10,520 INFO sqlalchemy.engine.Engine [cached since 690s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:10:10,521 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:10:10,521 INFO sqlalchemy.engine.Engine [cached since 690s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:10:10,522 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants
2025-12-23 14:10:10,522 INFO sqlalchemy.engine.Engine [cached since 21.58s ago] {}
INFO:     127.0.0.1:58814 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:10:10,523 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:10:10,524 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 14:10:10,524 INFO sqlalchemy.engine.Engine [cached since 21.58s ago] {}
2025-12-23 14:10:10,525 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
2025-12-23 14:10:10,525 INFO sqlalchemy.engine.Engine [cached since 21.58s ago] {}
INFO:     127.0.0.1:58816 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 14:10:10,526 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:10:10,527 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:10:10,527 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:10:10,527 INFO sqlalchemy.engine.Engine [cached since 690s ago] {'username_1': 'admin'}
2025-12-23 14:10:10,528 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:10:10,528 INFO sqlalchemy.engine.Engine [cached since 690s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:10:10,529 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants
2025-12-23 14:10:10,529 INFO sqlalchemy.engine.Engine [cached since 21.59s ago] {}
2025-12-23 14:10:10,530 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 14:10:10,530 INFO sqlalchemy.engine.Engine [cached since 21.59s ago] {}
2025-12-23 14:10:10,532 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
2025-12-23 14:10:10,532 INFO sqlalchemy.engine.Engine [cached since 21.58s ago] {}
INFO:     127.0.0.1:58816 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 14:10:10,533 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:10:10,559 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:10:10,559 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:10:10,559 INFO sqlalchemy.engine.Engine [cached since 690.1s ago] {'username_1': 'admin'}
2025-12-23 14:10:10,561 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:10:10,561 INFO sqlalchemy.engine.Engine [cached since 690.1s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:10:10,561 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants
2025-12-23 14:10:10,561 INFO sqlalchemy.engine.Engine [cached since 21.62s ago] {}
2025-12-23 14:10:10,562 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 14:10:10,562 INFO sqlalchemy.engine.Engine [cached since 21.62s ago] {}
2025-12-23 14:10:10,563 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
2025-12-23 14:10:10,563 INFO sqlalchemy.engine.Engine [cached since 21.62s ago] {}
INFO:     127.0.0.1:58816 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 14:10:10,564 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:58816 - "OPTIONS /tenants HTTP/1.1" 200 OK
2025-12-23 14:10:11,813 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:10:11,813 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:10:11,814 INFO sqlalchemy.engine.Engine [cached since 691.3s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:58812 - "OPTIONS /tenants HTTP/1.1" 200 OK
2025-12-23 14:10:11,816 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:10:11,816 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:10:11,816 INFO sqlalchemy.engine.Engine [cached since 691.3s ago] {'username_1': 'admin'}
2025-12-23 14:10:11,818 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:10:11,818 INFO sqlalchemy.engine.Engine [cached since 691.3s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:10:11,818 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:10:11,819 INFO sqlalchemy.engine.Engine [cached since 691.3s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:10:11,819 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 14:10:11,819 INFO sqlalchemy.engine.Engine [cached since 293.1s ago] {}
INFO:     127.0.0.1:58814 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:10:11,821 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:10:11,822 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:10:11,822 INFO sqlalchemy.engine.Engine [cached since 293.1s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 14:10:11,824 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:10:11,824 INFO sqlalchemy.engine.Engine [cached since 293.1s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:58818 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 14:10:11,825 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:10:11,826 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:10:11,827 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:10:11,827 INFO sqlalchemy.engine.Engine [cached since 691.3s ago] {'username_1': 'admin'}
2025-12-23 14:10:11,828 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:10:11,828 INFO sqlalchemy.engine.Engine [cached since 691.3s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:10:11,829 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 14:10:11,829 INFO sqlalchemy.engine.Engine [cached since 293.2s ago] {}
2025-12-23 14:10:11,830 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:10:11,830 INFO sqlalchemy.engine.Engine [cached since 293.2s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 14:10:11,831 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:10:11,831 INFO sqlalchemy.engine.Engine [cached since 293.2s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:58818 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 14:10:11,832 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:58818 - "OPTIONS /users HTTP/1.1" 200 OK
2025-12-23 14:10:13,548 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:10:13,548 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:10:13,549 INFO sqlalchemy.engine.Engine [cached since 693.1s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:58812 - "OPTIONS /users HTTP/1.1" 200 OK
2025-12-23 14:10:13,550 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:10:13,550 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:10:13,550 INFO sqlalchemy.engine.Engine [cached since 693.1s ago] {'username_1': 'admin'}
2025-12-23 14:10:13,552 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:10:13,552 INFO sqlalchemy.engine.Engine [cached since 693s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:10:13,554 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:10:13,554 INFO sqlalchemy.engine.Engine [cached since 693.1s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:58816 - "GET /users HTTP/1.1" 200 OK
2025-12-23 14:10:13,555 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:58814 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:10:13,557 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:10:13,637 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:10:13,638 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:10:13,638 INFO sqlalchemy.engine.Engine [cached since 693.1s ago] {'username_1': 'admin'}
2025-12-23 14:10:13,641 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:10:13,641 INFO sqlalchemy.engine.Engine [cached since 693.1s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:58816 - "GET /users HTTP/1.1" 200 OK
2025-12-23 14:10:13,642 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:10:19,522 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:10:19,523 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:10:19,523 INFO sqlalchemy.engine.Engine [cached since 699s ago] {'username_1': 'admin'}
2025-12-23 14:10:19,524 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:10:19,525 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:10:19,525 INFO sqlalchemy.engine.Engine [cached since 699s ago] {'username_1': 'admin'}
2025-12-23 14:10:19,526 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:10:19,526 INFO sqlalchemy.engine.Engine [cached since 699s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:10:19,527 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:10:19,527 INFO sqlalchemy.engine.Engine [cached since 699s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:10:19,528 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 14:10:19,528 INFO sqlalchemy.engine.Engine [cached since 300.9s ago] {}
INFO:     127.0.0.1:58823 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:10:19,529 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:10:19,529 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:10:19,530 INFO sqlalchemy.engine.Engine [cached since 300.9s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 14:10:19,530 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:10:19,530 INFO sqlalchemy.engine.Engine [cached since 300.9s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:58822 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 14:10:19,531 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:10:19,533 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:10:19,533 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:10:19,533 INFO sqlalchemy.engine.Engine [cached since 699s ago] {'username_1': 'admin'}
2025-12-23 14:10:19,535 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:10:19,535 INFO sqlalchemy.engine.Engine [cached since 699s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:10:19,538 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 14:10:19,538 INFO sqlalchemy.engine.Engine [cached since 300.9s ago] {}
2025-12-23 14:10:19,540 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:10:19,541 INFO sqlalchemy.engine.Engine [cached since 300.9s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 14:10:19,543 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:10:19,543 INFO sqlalchemy.engine.Engine [cached since 300.9s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:58822 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 14:10:19,544 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:10:24,296 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:10:24,296 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:10:24,296 INFO sqlalchemy.engine.Engine [cached since 703.8s ago] {'username_1': 'admin'}
2025-12-23 14:10:24,298 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:10:24,298 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:10:24,298 INFO sqlalchemy.engine.Engine [cached since 703.8s ago] {'username_1': 'admin'}
2025-12-23 14:10:24,300 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:10:24,300 INFO sqlalchemy.engine.Engine [cached since 703.8s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:10:24,301 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:10:24,301 INFO sqlalchemy.engine.Engine [cached since 703.8s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:58822 - "GET /users HTTP/1.1" 200 OK
2025-12-23 14:10:24,302 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:58823 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:10:24,303 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:10:24,304 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:10:24,304 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:10:24,304 INFO sqlalchemy.engine.Engine [cached since 703.8s ago] {'username_1': 'admin'}
2025-12-23 14:10:24,305 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:10:24,305 INFO sqlalchemy.engine.Engine [cached since 703.8s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:58822 - "GET /users HTTP/1.1" 200 OK
2025-12-23 14:10:24,306 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:13:45,297 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:13:45,311 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:13:45,312 INFO sqlalchemy.engine.Engine [cached since 904.8s ago] {'username_1': 'admin'}
2025-12-23 14:13:45,348 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:13:45,348 INFO sqlalchemy.engine.Engine [cached since 904.8s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:58890 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:13:45,351 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:13:45,352 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:13:45,352 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:13:45,352 INFO sqlalchemy.engine.Engine [cached since 904.9s ago] {'username_1': 'admin'}
2025-12-23 14:13:45,353 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:13:45,353 INFO sqlalchemy.engine.Engine [cached since 904.8s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:58890 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:13:45,353 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:13:45,413 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:13:45,414 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:13:45,414 INFO sqlalchemy.engine.Engine [cached since 904.9s ago] {'username_1': 'admin'}
2025-12-23 14:13:45,416 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:13:45,416 INFO sqlalchemy.engine.Engine [cached since 904.9s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:58892 - "GET /users HTTP/1.1" 200 OK
2025-12-23 14:13:45,417 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:13:45,417 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:13:45,417 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:13:45,417 INFO sqlalchemy.engine.Engine [cached since 904.9s ago] {'username_1': 'admin'}
2025-12-23 14:13:45,418 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:13:45,418 INFO sqlalchemy.engine.Engine [cached since 904.9s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:58892 - "GET /users HTTP/1.1" 200 OK
2025-12-23 14:13:45,419 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:14:53,189 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:14:53,191 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:14:53,191 INFO sqlalchemy.engine.Engine [cached since 972.7s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:58919 - "OPTIONS /settings HTTP/1.1" 200 OK
2025-12-23 14:14:53,201 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:14:53,201 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:14:53,201 INFO sqlalchemy.engine.Engine [cached since 972.7s ago] {'username_1': 'admin'}
2025-12-23 14:14:53,202 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:14:53,202 INFO sqlalchemy.engine.Engine [cached since 972.7s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:58918 - "GET /users HTTP/1.1" 200 OK
2025-12-23 14:14:53,204 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:14:53,224 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:14:53,225 INFO sqlalchemy.engine.Engine [generated in 0.00051s] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:58919 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 14:14:53,242 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:58951 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 14:16:34,458 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:16:34,460 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:16:34,461 INFO sqlalchemy.engine.Engine [cached since 1074s ago] {'username_1': 'admin'}
2025-12-23 14:16:34,499 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:16:34,499 INFO sqlalchemy.engine.Engine [cached since 1074s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:58951 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:16:34,501 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:16:34,547 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:16:34,547 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:16:34,547 INFO sqlalchemy.engine.Engine [cached since 1074s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:58952 - "OPTIONS /tenants HTTP/1.1" 200 OK
2025-12-23 14:16:34,549 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:16:34,549 INFO sqlalchemy.engine.Engine [cached since 1074s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:16:34,554 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:16:34,554 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:16:34,554 INFO sqlalchemy.engine.Engine [cached since 1074s ago] {'username_1': 'admin'}
2025-12-23 14:16:34,558 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants
2025-12-23 14:16:34,559 INFO sqlalchemy.engine.Engine [cached since 405.6s ago] {}
2025-12-23 14:16:34,562 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:16:34,562 INFO sqlalchemy.engine.Engine [cached since 1074s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:16:34,563 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 14:16:34,563 INFO sqlalchemy.engine.Engine [cached since 675.9s ago] {}
2025-12-23 14:16:34,565 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 14:16:34,565 INFO sqlalchemy.engine.Engine [cached since 405.6s ago] {}
2025-12-23 14:16:34,567 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:16:34,567 INFO sqlalchemy.engine.Engine [cached since 675.9s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 14:16:34,567 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
2025-12-23 14:16:34,567 INFO sqlalchemy.engine.Engine [cached since 405.6s ago] {}
2025-12-23 14:16:34,568 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:16:34,568 INFO sqlalchemy.engine.Engine [cached since 675.9s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:58951 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 14:16:34,569 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:58952 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 14:16:34,569 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:16:36,571 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:16:36,572 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:16:36,572 INFO sqlalchemy.engine.Engine [cached since 1076s ago] {'username_1': 'admin'}
2025-12-23 14:16:36,574 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:16:36,574 INFO sqlalchemy.engine.Engine [cached since 1076s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:58951 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:16:36,575 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:16:36,587 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:16:36,588 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:16:36,588 INFO sqlalchemy.engine.Engine [cached since 1076s ago] {'username_1': 'admin'}
2025-12-23 14:16:36,589 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:16:36,589 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:16:36,589 INFO sqlalchemy.engine.Engine [cached since 1076s ago] {'username_1': 'admin'}
2025-12-23 14:16:36,591 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:16:36,591 INFO sqlalchemy.engine.Engine [cached since 1076s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:16:36,592 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:16:36,592 INFO sqlalchemy.engine.Engine [cached since 1076s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:16:36,592 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants
2025-12-23 14:16:36,593 INFO sqlalchemy.engine.Engine [cached since 407.7s ago] {}
2025-12-23 14:16:36,593 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 14:16:36,593 INFO sqlalchemy.engine.Engine [cached since 677.9s ago] {}
2025-12-23 14:16:36,593 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 14:16:36,593 INFO sqlalchemy.engine.Engine [cached since 407.7s ago] {}
2025-12-23 14:16:36,594 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:16:36,594 INFO sqlalchemy.engine.Engine [cached since 677.9s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 14:16:36,595 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
2025-12-23 14:16:36,595 INFO sqlalchemy.engine.Engine [cached since 407.6s ago] {}
2025-12-23 14:16:36,595 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:16:36,595 INFO sqlalchemy.engine.Engine [cached since 677.9s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:58952 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 14:16:36,596 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:58951 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 14:16:36,597 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:17:04,555 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:17:04,563 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:17:04,563 INFO sqlalchemy.engine.Engine [cached since 1104s ago] {'username_1': 'admin'}
2025-12-23 14:17:04,571 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:17:04,571 INFO sqlalchemy.engine.Engine [cached since 1104s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:58965 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:17:04,573 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:17:04,585 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:17:04,585 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:17:04,585 INFO sqlalchemy.engine.Engine [cached since 1104s ago] {'username_1': 'admin'}
2025-12-23 14:17:04,586 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:17:04,586 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:17:04,586 INFO sqlalchemy.engine.Engine [cached since 1104s ago] {'username_1': 'admin'}
2025-12-23 14:17:04,588 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:17:04,588 INFO sqlalchemy.engine.Engine [cached since 1104s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:17:04,589 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:17:04,589 INFO sqlalchemy.engine.Engine [cached since 1104s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:17:04,590 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 14:17:04,590 INFO sqlalchemy.engine.Engine [cached since 705.9s ago] {}
2025-12-23 14:17:04,591 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants
2025-12-23 14:17:04,591 INFO sqlalchemy.engine.Engine [cached since 435.7s ago] {}
2025-12-23 14:17:04,592 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:17:04,592 INFO sqlalchemy.engine.Engine [cached since 705.9s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 14:17:04,593 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 14:17:04,593 INFO sqlalchemy.engine.Engine [cached since 435.6s ago] {}
2025-12-23 14:17:04,593 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:17:04,593 INFO sqlalchemy.engine.Engine [cached since 705.9s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 14:17:04,594 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
2025-12-23 14:17:04,594 INFO sqlalchemy.engine.Engine [cached since 435.6s ago] {}
INFO:     127.0.0.1:58966 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 14:17:04,595 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:58965 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 14:17:04,595 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:17:13,328 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:17:13,329 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:17:13,329 INFO sqlalchemy.engine.Engine [cached since 1113s ago] {'username_1': 'admin'}
2025-12-23 14:17:13,331 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:17:13,331 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:17:13,331 INFO sqlalchemy.engine.Engine [cached since 1113s ago] {'username_1': 'admin'}
2025-12-23 14:17:13,332 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:17:13,332 INFO sqlalchemy.engine.Engine [cached since 1113s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:17:13,333 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 14:17:13,334 INFO sqlalchemy.engine.Engine [cached since 714.7s ago] {}
2025-12-23 14:17:13,334 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:17:13,334 INFO sqlalchemy.engine.Engine [cached since 1113s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:58969 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:17:13,337 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:17:13,338 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:17:13,338 INFO sqlalchemy.engine.Engine [cached since 714.7s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 14:17:13,339 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:17:13,339 INFO sqlalchemy.engine.Engine [cached since 714.7s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:58968 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 14:17:13,341 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:58969 - "OPTIONS /users HTTP/1.1" 200 OK
INFO:     127.0.0.1:58968 - "OPTIONS /settings HTTP/1.1" 200 OK
2025-12-23 14:17:15,560 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:17:15,560 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:17:15,560 INFO sqlalchemy.engine.Engine [cached since 1115s ago] {'username_1': 'admin'}
2025-12-23 14:17:15,560 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:17:15,560 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:17:15,560 INFO sqlalchemy.engine.Engine [cached since 1115s ago] {'username_1': 'admin'}
2025-12-23 14:17:15,561 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:17:15,561 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:17:15,561 INFO sqlalchemy.engine.Engine [cached since 1115s ago] {'username_1': 'admin'}
2025-12-23 14:17:15,562 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:17:15,562 INFO sqlalchemy.engine.Engine [cached since 1115s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:17:15,563 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:17:15,563 INFO sqlalchemy.engine.Engine [cached since 1115s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:17:15,563 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:17:15,563 INFO sqlalchemy.engine.Engine [cached since 142.3s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:58970 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:17:15,563 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:58969 - "GET /users HTTP/1.1" 200 OK
2025-12-23 14:17:15,564 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:58968 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 14:17:15,567 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:19:42,883 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:19:42,887 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:19:42,888 INFO sqlalchemy.engine.Engine [cached since 1262s ago] {'username_1': 'admin'}
2025-12-23 14:19:42,891 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:19:42,891 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:19:42,891 INFO sqlalchemy.engine.Engine [cached since 1262s ago] {'username_1': 'admin'}
2025-12-23 14:19:42,891 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:19:42,892 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:19:42,892 INFO sqlalchemy.engine.Engine [cached since 1262s ago] {'username_1': 'admin'}
2025-12-23 14:19:42,907 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:19:42,907 INFO sqlalchemy.engine.Engine [cached since 1262s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:19:42,907 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:19:42,907 INFO sqlalchemy.engine.Engine [cached since 1262s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:19:42,908 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:19:42,908 INFO sqlalchemy.engine.Engine [cached since 1262s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:19:42,908 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 14:19:42,908 INFO sqlalchemy.engine.Engine [cached since 864.2s ago] {}
INFO:     127.0.0.1:59001 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:19:42,909 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants
2025-12-23 14:19:42,909 INFO sqlalchemy.engine.Engine [cached since 594s ago] {}
2025-12-23 14:19:42,910 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:19:42,910 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:19:42,910 INFO sqlalchemy.engine.Engine [cached since 864.2s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 14:19:42,910 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 14:19:42,910 INFO sqlalchemy.engine.Engine [cached since 594s ago] {}
2025-12-23 14:19:42,911 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:19:42,911 INFO sqlalchemy.engine.Engine [cached since 864.2s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 14:19:42,911 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
2025-12-23 14:19:42,911 INFO sqlalchemy.engine.Engine [cached since 594s ago] {}
INFO:     127.0.0.1:59000 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 14:19:42,911 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:58999 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 14:19:42,911 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:19:42,922 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:19:42,922 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:19:42,922 INFO sqlalchemy.engine.Engine [cached since 1262s ago] {'username_1': 'admin'}
2025-12-23 14:19:42,923 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:19:42,923 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:19:42,923 INFO sqlalchemy.engine.Engine [cached since 1262s ago] {'username_1': 'admin'}
2025-12-23 14:19:42,924 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:19:42,924 INFO sqlalchemy.engine.Engine [cached since 1262s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:19:42,924 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:19:42,924 INFO sqlalchemy.engine.Engine [cached since 1262s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:19:42,924 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants
2025-12-23 14:19:42,924 INFO sqlalchemy.engine.Engine [cached since 594s ago] {}
2025-12-23 14:19:42,925 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 14:19:42,925 INFO sqlalchemy.engine.Engine [cached since 864.3s ago] {}
2025-12-23 14:19:42,927 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:19:42,927 INFO sqlalchemy.engine.Engine [cached since 864.2s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 14:19:42,928 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:19:42,928 INFO sqlalchemy.engine.Engine [cached since 864.2s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59000 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 14:19:42,929 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:19:42,936 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 14:19:42,936 INFO sqlalchemy.engine.Engine [cached since 594s ago] {}
2025-12-23 14:19:42,942 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
2025-12-23 14:19:42,942 INFO sqlalchemy.engine.Engine [cached since 594s ago] {}
INFO:     127.0.0.1:59001 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 14:19:42,943 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:19:46,844 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:19:46,845 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:19:46,845 INFO sqlalchemy.engine.Engine [cached since 1266s ago] {'username_1': 'admin'}
2025-12-23 14:19:46,846 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:19:46,846 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:19:46,846 INFO sqlalchemy.engine.Engine [cached since 1266s ago] {'username_1': 'admin'}
2025-12-23 14:19:46,847 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:19:46,847 INFO sqlalchemy.engine.Engine [cached since 1266s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:19:46,848 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:19:46,848 INFO sqlalchemy.engine.Engine [cached since 1266s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:19:46,849 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 14:19:46,849 INFO sqlalchemy.engine.Engine [cached since 868.2s ago] {}
INFO:     127.0.0.1:59000 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:19:46,849 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:19:46,850 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:19:46,850 INFO sqlalchemy.engine.Engine [cached since 868.2s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 14:19:46,851 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:19:46,851 INFO sqlalchemy.engine.Engine [cached since 868.2s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:58999 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 14:19:46,852 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59000 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
2025-12-23 14:19:51,514 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:19:51,514 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:19:51,514 INFO sqlalchemy.engine.Engine [cached since 1271s ago] {'username_1': 'admin'}
2025-12-23 14:19:51,517 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:19:51,517 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:19:51,517 INFO sqlalchemy.engine.Engine [cached since 1271s ago] {'username_1': 'admin'}
2025-12-23 14:19:51,518 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:19:51,518 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:19:51,518 INFO sqlalchemy.engine.Engine [cached since 1271s ago] {'username_1': 'admin'}
2025-12-23 14:19:51,519 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:19:51,519 INFO sqlalchemy.engine.Engine [cached since 1271s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:19:51,520 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 14:19:51,520 INFO sqlalchemy.engine.Engine [cached since 872.8s ago] {}
2025-12-23 14:19:51,521 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:19:51,521 INFO sqlalchemy.engine.Engine [cached since 1271s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:19:51,521 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:19:51,521 INFO sqlalchemy.engine.Engine [cached since 1271s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:19:51,522 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:19:51,522 INFO sqlalchemy.engine.Engine [cached since 872.8s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59002 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:19:51,523 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:19:51,523 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants
2025-12-23 14:19:51,523 INFO sqlalchemy.engine.Engine [cached since 602.6s ago] {}
2025-12-23 14:19:51,524 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:19:51,524 INFO sqlalchemy.engine.Engine [cached since 872.8s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 14:19:51,524 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 14:19:51,524 INFO sqlalchemy.engine.Engine [cached since 602.6s ago] {}
INFO:     127.0.0.1:58999 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 14:19:51,526 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:19:51,526 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
2025-12-23 14:19:51,526 INFO sqlalchemy.engine.Engine [cached since 602.6s ago] {}
INFO:     127.0.0.1:59000 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 14:19:51,527 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:19:51,545 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:19:51,546 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:19:51,546 INFO sqlalchemy.engine.Engine [cached since 1271s ago] {'username_1': 'admin'}
2025-12-23 14:19:51,547 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:19:51,548 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:19:51,548 INFO sqlalchemy.engine.Engine [cached since 1271s ago] {'username_1': 'admin'}
2025-12-23 14:19:51,549 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:19:51,549 INFO sqlalchemy.engine.Engine [cached since 1271s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:19:51,549 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:19:51,549 INFO sqlalchemy.engine.Engine [cached since 1271s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:19:51,549 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 14:19:51,549 INFO sqlalchemy.engine.Engine [cached since 872.9s ago] {}
2025-12-23 14:19:51,550 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants
2025-12-23 14:19:51,550 INFO sqlalchemy.engine.Engine [cached since 602.6s ago] {}
2025-12-23 14:19:51,550 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:19:51,550 INFO sqlalchemy.engine.Engine [cached since 872.9s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 14:19:51,550 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 14:19:51,551 INFO sqlalchemy.engine.Engine [cached since 602.6s ago] {}
2025-12-23 14:19:51,551 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:19:51,551 INFO sqlalchemy.engine.Engine [cached since 872.9s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 14:19:51,551 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
2025-12-23 14:19:51,551 INFO sqlalchemy.engine.Engine [cached since 602.6s ago] {}
INFO:     127.0.0.1:58999 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 14:19:51,552 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59002 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 14:19:51,553 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:22:48,502 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:22:48,515 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:22:48,516 INFO sqlalchemy.engine.Engine [cached since 1448s ago] {'username_1': 'admin'}
2025-12-23 14:22:48,523 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:22:48,523 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:22:48,523 INFO sqlalchemy.engine.Engine [cached since 1448s ago] {'username_1': 'admin'}
2025-12-23 14:22:48,552 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:22:48,552 INFO sqlalchemy.engine.Engine [cached since 1448s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:22:48,553 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:22:48,553 INFO sqlalchemy.engine.Engine [cached since 1448s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:22:48,555 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 14:22:48,555 INFO sqlalchemy.engine.Engine [cached since 1050s ago] {}
INFO:     127.0.0.1:59041 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:22:48,558 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:22:48,560 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:22:48,560 INFO sqlalchemy.engine.Engine [cached since 1050s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 14:22:48,560 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:22:48,560 INFO sqlalchemy.engine.Engine [cached since 1050s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59040 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 14:22:48,561 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:22:56,560 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:22:56,561 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:22:56,561 INFO sqlalchemy.engine.Engine [cached since 1456s ago] {'username_1': 'admin'}
2025-12-23 14:22:56,562 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:22:56,563 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:22:56,563 INFO sqlalchemy.engine.Engine [cached since 1456s ago] {'username_1': 'admin'}
2025-12-23 14:22:56,564 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:22:56,564 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:22:56,564 INFO sqlalchemy.engine.Engine [cached since 1456s ago] {'username_1': 'admin'}
2025-12-23 14:22:56,565 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:22:56,565 INFO sqlalchemy.engine.Engine [cached since 1456s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:22:56,566 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:22:56,566 INFO sqlalchemy.engine.Engine [cached since 1456s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:22:56,567 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants
2025-12-23 14:22:56,567 INFO sqlalchemy.engine.Engine [cached since 787.6s ago] {}
2025-12-23 14:22:56,567 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:22:56,568 INFO sqlalchemy.engine.Engine [cached since 1456s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:22:56,568 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 14:22:56,568 INFO sqlalchemy.engine.Engine [cached since 1058s ago] {}
2025-12-23 14:22:56,569 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 14:22:56,569 INFO sqlalchemy.engine.Engine [cached since 787.6s ago] {}
INFO:     127.0.0.1:59046 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:22:56,570 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:22:56,570 INFO sqlalchemy.engine.Engine [cached since 1058s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 14:22:56,571 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:22:56,571 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
2025-12-23 14:22:56,571 INFO sqlalchemy.engine.Engine [cached since 787.6s ago] {}
2025-12-23 14:22:56,572 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:22:56,572 INFO sqlalchemy.engine.Engine [cached since 1058s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59044 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 14:22:56,573 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59045 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 14:22:56,574 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:22:56,604 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:22:56,605 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:22:56,605 INFO sqlalchemy.engine.Engine [cached since 1456s ago] {'username_1': 'admin'}
2025-12-23 14:22:56,606 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:22:56,606 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:22:56,606 INFO sqlalchemy.engine.Engine [cached since 1456s ago] {'username_1': 'admin'}
2025-12-23 14:22:56,607 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:22:56,607 INFO sqlalchemy.engine.Engine [cached since 1456s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:22:56,608 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:22:56,608 INFO sqlalchemy.engine.Engine [cached since 1456s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:22:56,609 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 14:22:56,609 INFO sqlalchemy.engine.Engine [cached since 1058s ago] {}
2025-12-23 14:22:56,609 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants
2025-12-23 14:22:56,609 INFO sqlalchemy.engine.Engine [cached since 787.7s ago] {}
2025-12-23 14:22:56,610 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:22:56,610 INFO sqlalchemy.engine.Engine [cached since 1058s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 14:22:56,610 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 14:22:56,611 INFO sqlalchemy.engine.Engine [cached since 787.7s ago] {}
2025-12-23 14:22:56,611 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:22:56,611 INFO sqlalchemy.engine.Engine [cached since 1058s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 14:22:56,612 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
2025-12-23 14:22:56,612 INFO sqlalchemy.engine.Engine [cached since 787.7s ago] {}
INFO:     127.0.0.1:59044 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 14:22:56,612 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59046 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 14:22:56,613 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:23:59,970 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:23:59,975 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:23:59,975 INFO sqlalchemy.engine.Engine [cached since 1519s ago] {'username_1': 'admin'}
2025-12-23 14:23:59,977 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:23:59,978 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:23:59,978 INFO sqlalchemy.engine.Engine [cached since 1519s ago] {'username_1': 'admin'}
2025-12-23 14:23:59,996 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:23:59,996 INFO sqlalchemy.engine.Engine [cached since 1519s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:23:59,996 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:23:59,996 INFO sqlalchemy.engine.Engine [cached since 1519s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59054 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:23:59,998 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 14:23:59,998 INFO sqlalchemy.engine.Engine [cached since 1121s ago] {}
2025-12-23 14:23:59,998 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:24:00,000 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:24:00,000 INFO sqlalchemy.engine.Engine [cached since 1121s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 14:24:00,001 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:24:00,001 INFO sqlalchemy.engine.Engine [cached since 1121s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59053 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 14:24:00,001 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:24:02,228 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:24:02,230 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:24:02,230 INFO sqlalchemy.engine.Engine [cached since 1522s ago] {'username_1': 'admin'}
2025-12-23 14:24:02,232 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:24:02,232 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:24:02,232 INFO sqlalchemy.engine.Engine [cached since 1522s ago] {'username_1': 'admin'}
2025-12-23 14:24:02,233 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:24:02,233 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:24:02,233 INFO sqlalchemy.engine.Engine [cached since 1522s ago] {'username_1': 'admin'}
2025-12-23 14:24:02,234 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:24:02,234 INFO sqlalchemy.engine.Engine [cached since 1522s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:24:02,235 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:24:02,235 INFO sqlalchemy.engine.Engine [cached since 1522s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:24:02,236 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants
2025-12-23 14:24:02,236 INFO sqlalchemy.engine.Engine [cached since 853.3s ago] {}
2025-12-23 14:24:02,237 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 14:24:02,237 INFO sqlalchemy.engine.Engine [cached since 1124s ago] {}
2025-12-23 14:24:02,237 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:24:02,237 INFO sqlalchemy.engine.Engine [cached since 1522s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:24:02,238 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 14:24:02,238 INFO sqlalchemy.engine.Engine [cached since 853.3s ago] {}
2025-12-23 14:24:02,239 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:24:02,239 INFO sqlalchemy.engine.Engine [cached since 1124s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59055 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:24:02,240 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
2025-12-23 14:24:02,240 INFO sqlalchemy.engine.Engine [cached since 853.3s ago] {}
2025-12-23 14:24:02,240 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:24:02,240 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:24:02,240 INFO sqlalchemy.engine.Engine [cached since 1124s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59054 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 14:24:02,241 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59053 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 14:24:02,242 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:24:02,269 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:24:02,269 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:24:02,270 INFO sqlalchemy.engine.Engine [cached since 1522s ago] {'username_1': 'admin'}
2025-12-23 14:24:02,271 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:24:02,271 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:24:02,271 INFO sqlalchemy.engine.Engine [cached since 1522s ago] {'username_1': 'admin'}
2025-12-23 14:24:02,272 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:24:02,272 INFO sqlalchemy.engine.Engine [cached since 1522s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:24:02,273 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:24:02,273 INFO sqlalchemy.engine.Engine [cached since 1522s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:24:02,274 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants
2025-12-23 14:24:02,274 INFO sqlalchemy.engine.Engine [cached since 853.3s ago] {}
2025-12-23 14:24:02,274 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 14:24:02,274 INFO sqlalchemy.engine.Engine [cached since 1124s ago] {}
2025-12-23 14:24:02,275 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 14:24:02,275 INFO sqlalchemy.engine.Engine [cached since 853.3s ago] {}
2025-12-23 14:24:02,277 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:24:02,278 INFO sqlalchemy.engine.Engine [cached since 1124s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 14:24:02,278 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users
2025-12-23 14:24:02,278 INFO sqlalchemy.engine.Engine [cached since 853.3s ago] {}
2025-12-23 14:24:02,279 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:24:02,279 INFO sqlalchemy.engine.Engine [cached since 1124s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59055 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 14:24:02,280 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59054 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 14:24:02,280 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:24:39,374 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:24:39,377 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:24:39,378 INFO sqlalchemy.engine.Engine [cached since 1559s ago] {'username_1': 'admin'}
2025-12-23 14:24:39,380 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:24:39,380 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:24:39,380 INFO sqlalchemy.engine.Engine [cached since 1559s ago] {'username_1': 'admin'}
2025-12-23 14:24:39,395 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:24:39,395 INFO sqlalchemy.engine.Engine [cached since 1559s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:24:39,395 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:24:39,395 INFO sqlalchemy.engine.Engine [cached since 1559s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:24:39,396 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 14:24:39,396 INFO sqlalchemy.engine.Engine [cached since 1161s ago] {}
INFO:     127.0.0.1:59061 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:24:39,397 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:24:39,397 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:24:39,397 INFO sqlalchemy.engine.Engine [cached since 1161s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 14:24:39,398 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 14:24:39,398 INFO sqlalchemy.engine.Engine [cached since 1161s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59060 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 14:24:39,399 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59061 - "OPTIONS /tenants/68923952-1085-4d0e-85bf-66bbbb8ad0c7/impersonate HTTP/1.1" 200 OK
2025-12-23 14:24:42,562 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:24:42,562 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:24:42,562 INFO sqlalchemy.engine.Engine [cached since 1562s ago] {'username_1': 'admin'}
2025-12-23 14:24:42,583 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:24:42,583 INFO sqlalchemy.engine.Engine [cached since 1562s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 14:24:42,597 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER
2025-12-23 14:24:42,597 INFO sqlalchemy.engine.Engine [generated in 0.00123s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 1}
2025-12-23 14:24:42,610 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:24:42,610 INFO sqlalchemy.engine.Engine [cached since 1562s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59060 - "POST /tenants/68923952-1085-4d0e-85bf-66bbbb8ad0c7/impersonate HTTP/1.1" 200 OK
2025-12-23 14:24:42,620 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:24:43,720 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:24:43,721 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:24:43,721 INFO sqlalchemy.engine.Engine [cached since 1563s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:24:43,722 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:24:43,722 INFO sqlalchemy.engine.Engine [cached since 1563s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59061 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:24:43,723 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:24:43,749 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:24:43,750 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:24:43,750 INFO sqlalchemy.engine.Engine [cached since 1563s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:24:43,751 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:24:43,751 INFO sqlalchemy.engine.Engine [cached since 1563s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:24:43,754 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:24:43,754 INFO sqlalchemy.engine.Engine [generated in 0.00007s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:24:43,756 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:24:43,756 INFO sqlalchemy.engine.Engine [generated in 0.00006s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:24:43,760 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 14:24:43,760 INFO sqlalchemy.engine.Engine [generated in 0.00005s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:59060 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 14:24:43,772 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59061 - "OPTIONS /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:59060 - "OPTIONS /patients HTTP/1.1" 200 OK
2025-12-23 14:24:46,718 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:24:46,719 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:24:46,719 INFO sqlalchemy.engine.Engine [cached since 1566s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:24:46,720 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:24:46,720 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:24:46,720 INFO sqlalchemy.engine.Engine [cached since 1566s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:24:46,721 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:24:46,721 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:24:46,721 INFO sqlalchemy.engine.Engine [cached since 1566s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:24:46,842 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 14:24:46,842 INFO sqlalchemy.engine.Engine [generated in 0.00017s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 200}
2025-12-23 14:24:46,844 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 14:24:46,844 INFO sqlalchemy.engine.Engine [generated in 0.00008s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 100, 'param_2': 0}
2025-12-23 14:24:46,845 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:24:46,845 INFO sqlalchemy.engine.Engine [cached since 1566s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59061 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 14:24:46,848 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59060 - "GET /patients HTTP/1.1" 200 OK
INFO:     127.0.0.1:59069 - "GET /users HTTP/1.1" 200 OK
2025-12-23 14:24:46,852 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:24:46,852 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:24:46,929 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:24:46,930 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:24:46,930 INFO sqlalchemy.engine.Engine [cached since 1566s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:24:46,933 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:24:46,933 INFO sqlalchemy.engine.Engine [cached since 1566s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59070 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:24:46,934 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:24:47,465 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:24:47,465 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:24:47,465 INFO sqlalchemy.engine.Engine [cached since 1567s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:24:47,466 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:24:47,466 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:24:47,466 INFO sqlalchemy.engine.Engine [cached since 1567s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:24:47,468 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:24:47,468 INFO sqlalchemy.engine.Engine [cached since 1567s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:24:47,468 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:24:47,468 INFO sqlalchemy.engine.Engine [cached since 1567s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:24:47,469 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:24:47,469 INFO sqlalchemy.engine.Engine [cached since 3.715s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59069 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:24:47,470 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:24:47,470 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:24:47,470 INFO sqlalchemy.engine.Engine [cached since 3.714s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:24:47,471 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 14:24:47,471 INFO sqlalchemy.engine.Engine [cached since 3.711s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:59061 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 14:24:47,472 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:24:47,478 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:24:47,478 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:24:47,478 INFO sqlalchemy.engine.Engine [cached since 1567s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:24:47,480 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:24:47,480 INFO sqlalchemy.engine.Engine [cached since 1567s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:24:47,481 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:24:47,481 INFO sqlalchemy.engine.Engine [cached since 3.727s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:24:47,481 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:24:47,481 INFO sqlalchemy.engine.Engine [cached since 3.725s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:24:47,482 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 14:24:47,482 INFO sqlalchemy.engine.Engine [cached since 3.722s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:59060 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 14:24:47,483 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:24:48,211 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:24:48,212 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:24:48,212 INFO sqlalchemy.engine.Engine [cached since 1568s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:24:48,213 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:24:48,213 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:24:48,213 INFO sqlalchemy.engine.Engine [cached since 1568s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:24:48,214 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:24:48,214 INFO sqlalchemy.engine.Engine [cached since 1568s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:24:48,215 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:24:48,215 INFO sqlalchemy.engine.Engine [cached since 1568s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59069 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:24:48,216 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59070 - "GET /users HTTP/1.1" 200 OK
2025-12-23 14:24:48,217 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:24:56,103 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:24:56,104 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:24:56,104 INFO sqlalchemy.engine.Engine [cached since 1576s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:24:56,106 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:24:56,106 INFO sqlalchemy.engine.Engine [cached since 1576s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59074 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:24:56,107 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:24:56,806 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:24:56,806 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:24:56,806 INFO sqlalchemy.engine.Engine [cached since 1576s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:24:56,808 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:24:56,808 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:24:56,808 INFO sqlalchemy.engine.Engine [cached since 1576s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:24:56,809 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:24:56,809 INFO sqlalchemy.engine.Engine [cached since 1576s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59074 - "GET /users HTTP/1.1" 200 OK
2025-12-23 14:24:56,810 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:24:56,811 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:24:56,811 INFO sqlalchemy.engine.Engine [cached since 1576s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59075 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:24:56,812 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:24:58,321 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:24:58,321 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:24:58,321 INFO sqlalchemy.engine.Engine [cached since 1578s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:24:58,322 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:24:58,323 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:24:58,323 INFO sqlalchemy.engine.Engine [cached since 1578s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:24:58,324 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:24:58,324 INFO sqlalchemy.engine.Engine [cached since 1578s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:24:58,325 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:24:58,325 INFO sqlalchemy.engine.Engine [cached since 605.1s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59075 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:24:58,326 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59074 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 14:24:58,327 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:24:59,259 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:24:59,260 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:24:59,260 INFO sqlalchemy.engine.Engine [cached since 1579s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:24:59,261 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:24:59,261 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:24:59,262 INFO sqlalchemy.engine.Engine [cached since 1579s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:24:59,264 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:24:59,264 INFO sqlalchemy.engine.Engine [cached since 1579s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:24:59,264 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:24:59,264 INFO sqlalchemy.engine.Engine [cached since 1579s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:24:59,265 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:24:59,265 INFO sqlalchemy.engine.Engine [cached since 15.51s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59074 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:24:59,266 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:24:59,266 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:24:59,267 INFO sqlalchemy.engine.Engine [cached since 15.51s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:24:59,267 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 14:24:59,267 INFO sqlalchemy.engine.Engine [cached since 15.51s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:59075 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 14:24:59,269 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:24:59,273 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:24:59,273 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:24:59,274 INFO sqlalchemy.engine.Engine [cached since 1579s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:24:59,275 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:24:59,275 INFO sqlalchemy.engine.Engine [cached since 1579s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:24:59,276 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:24:59,276 INFO sqlalchemy.engine.Engine [cached since 15.52s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:24:59,277 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:24:59,277 INFO sqlalchemy.engine.Engine [cached since 15.52s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:24:59,278 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 14:24:59,278 INFO sqlalchemy.engine.Engine [cached since 15.52s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:59074 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 14:24:59,279 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:25:12,565 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:25:12,566 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:25:12,566 INFO sqlalchemy.engine.Engine [cached since 1592s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:25:12,567 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:25:12,568 INFO sqlalchemy.engine.Engine [cached since 1592s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59077 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:25:12,570 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59077 - "OPTIONS /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 14:25:12,867 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:25:12,867 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:25:12,867 INFO sqlalchemy.engine.Engine [cached since 1592s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:25:12,869 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 14:25:12,869 INFO sqlalchemy.engine.Engine [cached since 26.03s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:59077 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 14:25:12,870 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:25:19,311 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:25:19,311 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:25:19,311 INFO sqlalchemy.engine.Engine [cached since 1599s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:25:19,313 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:25:19,313 INFO sqlalchemy.engine.Engine [cached since 1599s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59079 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:25:19,313 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:25:20,242 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:25:20,243 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:25:20,243 INFO sqlalchemy.engine.Engine [cached since 1600s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:25:20,245 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:25:20,245 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:25:20,245 INFO sqlalchemy.engine.Engine [cached since 1600s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:25:20,246 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:25:20,246 INFO sqlalchemy.engine.Engine [cached since 1600s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59079 - "GET /users HTTP/1.1" 200 OK
2025-12-23 14:25:20,248 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:25:20,248 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:25:20,248 INFO sqlalchemy.engine.Engine [cached since 1600s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59080 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:25:20,249 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:25:22,028 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:25:22,028 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:25:22,028 INFO sqlalchemy.engine.Engine [cached since 1602s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:25:22,029 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:25:22,029 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:25:22,029 INFO sqlalchemy.engine.Engine [cached since 1602s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:25:22,031 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:25:22,031 INFO sqlalchemy.engine.Engine [cached since 1602s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:25:22,031 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:25:22,031 INFO sqlalchemy.engine.Engine [cached since 628.8s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59080 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:25:22,032 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59079 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 14:25:22,034 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:25:24,760 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:25:24,760 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:25:24,760 INFO sqlalchemy.engine.Engine [cached since 1604s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:25:24,762 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:25:24,762 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:25:24,762 INFO sqlalchemy.engine.Engine [cached since 1604s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:25:24,764 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:25:24,764 INFO sqlalchemy.engine.Engine [cached since 1604s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:25:24,765 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:25:24,765 INFO sqlalchemy.engine.Engine [cached since 1604s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:25:24,766 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:25:24,766 INFO sqlalchemy.engine.Engine [cached since 41.01s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59079 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:25:24,767 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:25:24,767 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:25:24,767 INFO sqlalchemy.engine.Engine [cached since 41.01s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:25:24,769 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 14:25:24,769 INFO sqlalchemy.engine.Engine [cached since 41.01s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:59080 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 14:25:24,770 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:25:25,826 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:25:25,826 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:25:25,826 INFO sqlalchemy.engine.Engine [cached since 1605s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:25:25,827 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:25:25,827 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:25:25,828 INFO sqlalchemy.engine.Engine [cached since 1605s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:25:25,829 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:25:25,829 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:25:25,829 INFO sqlalchemy.engine.Engine [cached since 1605s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:25:25,830 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:25:25,830 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:25:25,830 INFO sqlalchemy.engine.Engine [cached since 1605s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:25:25,831 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 14:25:25,831 INFO sqlalchemy.engine.Engine [cached since 38.99s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 200}
2025-12-23 14:25:25,832 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 14:25:25,832 INFO sqlalchemy.engine.Engine [cached since 38.99s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 100, 'param_2': 0}
INFO:     127.0.0.1:59079 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 14:25:25,833 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59080 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 14:25:25,834 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:25:25,834 INFO sqlalchemy.engine.Engine [cached since 1605s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:25:25,835 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:25:25,835 INFO sqlalchemy.engine.Engine [cached since 1605s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:25:25,836 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59081 - "GET /users HTTP/1.1" 200 OK
2025-12-23 14:25:25,836 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59082 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:25:25,837 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:25:26,353 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:25:26,353 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:25:26,353 INFO sqlalchemy.engine.Engine [cached since 1606s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:25:26,356 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:25:26,356 INFO sqlalchemy.engine.Engine [cached since 1606s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59079 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:25:26,358 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:25:26,654 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:25:26,654 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:25:26,654 INFO sqlalchemy.engine.Engine [cached since 1606s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:25:26,657 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 14:25:26,657 INFO sqlalchemy.engine.Engine [cached since 39.81s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:59080 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 14:25:26,659 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:25:27,119 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:25:27,120 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:25:27,120 INFO sqlalchemy.engine.Engine [cached since 1607s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:25:27,122 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:25:27,122 INFO sqlalchemy.engine.Engine [cached since 1607s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59081 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:25:27,123 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:25:27,723 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:25:27,724 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:25:27,724 INFO sqlalchemy.engine.Engine [cached since 1607s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:25:27,725 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:25:27,725 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:25:27,725 INFO sqlalchemy.engine.Engine [cached since 1607s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:25:27,727 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:25:27,727 INFO sqlalchemy.engine.Engine [cached since 1607s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:25:27,728 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:25:27,728 INFO sqlalchemy.engine.Engine [cached since 1607s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59079 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:25:27,729 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59082 - "GET /users HTTP/1.1" 200 OK
2025-12-23 14:25:27,730 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:25:28,349 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:25:28,350 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:25:28,350 INFO sqlalchemy.engine.Engine [cached since 1608s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:25:28,351 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:25:28,351 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:25:28,351 INFO sqlalchemy.engine.Engine [cached since 1608s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:25:28,353 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:25:28,353 INFO sqlalchemy.engine.Engine [cached since 635.1s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:25:28,354 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:25:28,354 INFO sqlalchemy.engine.Engine [cached since 1608s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59080 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 14:25:28,355 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59081 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:25:28,355 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:25:29,025 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:25:29,026 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:25:29,026 INFO sqlalchemy.engine.Engine [cached since 1609s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:25:29,027 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:25:29,027 INFO sqlalchemy.engine.Engine [cached since 1609s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59079 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:25:29,028 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:25:29,330 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:25:29,331 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:25:29,331 INFO sqlalchemy.engine.Engine [cached since 1609s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:25:29,334 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 14:25:29,334 INFO sqlalchemy.engine.Engine [cached since 42.49s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:59082 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 14:25:29,336 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:25:29,709 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:25:29,710 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:25:29,710 INFO sqlalchemy.engine.Engine [cached since 1609s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:25:29,711 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:25:29,711 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:25:29,711 INFO sqlalchemy.engine.Engine [cached since 1609s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:25:29,712 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:25:29,712 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:25:29,712 INFO sqlalchemy.engine.Engine [cached since 1609s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:25:29,714 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:25:29,714 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:25:29,714 INFO sqlalchemy.engine.Engine [cached since 1609s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:25:29,716 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 14:25:29,716 INFO sqlalchemy.engine.Engine [cached since 42.87s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 200}
2025-12-23 14:25:29,717 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 14:25:29,717 INFO sqlalchemy.engine.Engine [cached since 42.87s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 100, 'param_2': 0}
2025-12-23 14:25:29,718 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:25:29,718 INFO sqlalchemy.engine.Engine [cached since 1609s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:25:29,719 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:25:29,719 INFO sqlalchemy.engine.Engine [cached since 1609s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59080 - "GET /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:59081 - "GET /patients HTTP/1.1" 200 OK
INFO:     127.0.0.1:59079 - "GET /users HTTP/1.1" 200 OK
2025-12-23 14:25:29,721 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:25:29,721 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:25:29,722 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59082 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:25:29,722 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:25:30,294 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:25:30,295 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:25:30,295 INFO sqlalchemy.engine.Engine [cached since 1610s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:25:30,296 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:25:30,296 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:25:30,296 INFO sqlalchemy.engine.Engine [cached since 1610s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:25:30,297 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:25:30,298 INFO sqlalchemy.engine.Engine [cached since 1610s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:25:30,298 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:25:30,299 INFO sqlalchemy.engine.Engine [cached since 1610s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:25:30,299 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:25:30,299 INFO sqlalchemy.engine.Engine [cached since 46.55s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59081 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:25:30,300 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:25:30,301 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:25:30,301 INFO sqlalchemy.engine.Engine [cached since 46.54s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:25:30,303 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 14:25:30,303 INFO sqlalchemy.engine.Engine [cached since 46.54s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:59080 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 14:25:30,304 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:25:32,046 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:25:32,047 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:25:32,047 INFO sqlalchemy.engine.Engine [cached since 1612s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:25:32,048 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:25:32,048 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:25:32,048 INFO sqlalchemy.engine.Engine [cached since 1612s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:25:32,050 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:25:32,050 INFO sqlalchemy.engine.Engine [cached since 1612s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:25:32,051 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:25:32,051 INFO sqlalchemy.engine.Engine [cached since 1612s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59082 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:25:32,052 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59079 - "GET /users HTTP/1.1" 200 OK
2025-12-23 14:25:32,053 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:26:44,458 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:26:44,465 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:26:44,465 INFO sqlalchemy.engine.Engine [cached since 1684s ago] {'username_1': 'apollo_admin'}
INFO:     127.0.0.1:59097 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 14:26:44,469 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:26:44,469 INFO sqlalchemy.engine.Engine [cached since 1684s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:26:44,471 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:26:44,471 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:26:44,471 INFO sqlalchemy.engine.Engine [cached since 1684s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:26:44,472 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:26:44,472 INFO sqlalchemy.engine.Engine [cached since 120.7s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:26:44,474 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:26:44,474 INFO sqlalchemy.engine.Engine [cached since 1684s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59097 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:26:44,475 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 14:26:44,477 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:26:44,477 INFO sqlalchemy.engine.Engine [cached since 120.7s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:26:44,477 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 14:26:44,477 INFO sqlalchemy.engine.Engine [cached since 120.7s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:59096 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 14:26:44,481 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59100 - "OPTIONS /users HTTP/1.1" 200 OK
2025-12-23 14:27:20,859 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:27:20,861 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:27:20,861 INFO sqlalchemy.engine.Engine [cached since 1720s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:27:20,863 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:27:20,863 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 14:27:20,863 INFO sqlalchemy.engine.Engine [cached since 1720s ago] {'username_1': 'apollo_admin'}
2025-12-23 14:27:20,887 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 14:27:20,887 INFO sqlalchemy.engine.Engine [cached since 1720s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 14:27:20,888 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 14:27:20,888 INFO sqlalchemy.engine.Engine [cached since 1720s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59103 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 14:27:20,889 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59100 - "GET /users HTTP/1.1" 200 OK
2025-12-23 14:27:20,890 INFO sqlalchemy.engine.Engine ROLLBACK
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [23245]
INFO:     Started server process [24358]
INFO:     Waiting for application startup.
2025-12-23 14:34:36,375 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 14:34:36,375 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 14:34:36,389 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 14:34:36,389 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 14:34:36,391 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 14:34:36,391 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 14:34:36,403 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 14:34:36,405 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 14:34:36,405 INFO sqlalchemy.engine.Engine [generated in 0.00013s] {'table_name': 'tenants', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 14:34:36,410 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 14:34:36,410 INFO sqlalchemy.engine.Engine [cached since 0.0052s ago] {'table_name': 'tenant_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 14:34:36,410 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 14:34:36,410 INFO sqlalchemy.engine.Engine [cached since 0.005608s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 14:34:36,411 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 14:34:36,411 INFO sqlalchemy.engine.Engine [cached since 0.005959s ago] {'table_name': 'patients', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 14:34:36,411 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 14:34:36,411 INFO sqlalchemy.engine.Engine [cached since 0.006293s ago] {'table_name': 'clinical_records', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 14:34:36,411 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 14:34:36,411 INFO sqlalchemy.engine.Engine [cached since 0.006614s ago] {'table_name': 'appointments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 14:34:36,412 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 14:34:36,412 INFO sqlalchemy.engine.Engine [cached since 0.007257s ago] {'table_name': 'attachments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 14:34:36,412 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 14:34:36,412 INFO sqlalchemy.engine.Engine [cached since 0.007533s ago] {'table_name': 'prescriptions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 14:34:36,412 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 14:34:36,413 INFO sqlalchemy.engine.Engine [cached since 0.007809s ago] {'table_name': 'invoices', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 14:34:36,413 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     127.0.0.1:59577 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 15:07:27,048 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:07:27,067 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:07:27,067 INFO sqlalchemy.engine.Engine [generated in 0.00244s] {'username_1': 'apollo_admin'}
2025-12-23 15:07:27,112 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:07:27,112 INFO sqlalchemy.engine.Engine [generated in 0.00012s] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59577 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:07:27,114 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59577 - "OPTIONS /users HTTP/1.1" 200 OK
2025-12-23 15:07:27,144 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:07:27,144 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:07:27,145 INFO sqlalchemy.engine.Engine [cached since 0.08012s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:07:27,146 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:07:27,146 INFO sqlalchemy.engine.Engine [generated in 0.00007s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59577 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:07:27,147 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59579 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:07:33,946 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:07:33,947 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:07:33,947 INFO sqlalchemy.engine.Engine [cached since 6.883s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:07:33,955 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:07:33,955 INFO sqlalchemy.engine.Engine [cached since 6.844s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59580 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:07:33,956 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:07:34,108 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:07:34,108 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:07:34,108 INFO sqlalchemy.engine.Engine [cached since 7.044s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:07:34,115 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:07:34,115 INFO sqlalchemy.engine.Engine [cached since 7.004s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:07:34,124 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:07:34,125 INFO sqlalchemy.engine.Engine [generated in 0.00028s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:07:34,129 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:07:34,129 INFO sqlalchemy.engine.Engine [generated in 0.00017s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:07:34,131 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 15:07:34,131 INFO sqlalchemy.engine.Engine [generated in 0.00014s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:59579 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:07:34,135 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:07:35,720 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:07:35,721 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:07:35,721 INFO sqlalchemy.engine.Engine [cached since 8.656s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:07:35,722 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:07:35,723 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:07:35,723 INFO sqlalchemy.engine.Engine [cached since 8.658s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:07:35,724 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:07:35,724 INFO sqlalchemy.engine.Engine [cached since 8.612s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:07:35,725 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:07:35,725 INFO sqlalchemy.engine.Engine [cached since 8.579s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59579 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:07:35,725 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59580 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:07:35,726 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:07:37,407 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:07:37,408 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:07:37,408 INFO sqlalchemy.engine.Engine [cached since 10.34s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:07:37,412 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:07:37,413 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:07:37,413 INFO sqlalchemy.engine.Engine [cached since 10.35s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:07:37,414 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:07:37,414 INFO sqlalchemy.engine.Engine [cached since 10.3s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:07:37,415 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:07:37,415 INFO sqlalchemy.engine.Engine [cached since 10.3s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59580 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:07:37,416 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:07:37,417 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:07:37,417 INFO sqlalchemy.engine.Engine [cached since 3.292s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:07:37,417 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:07:37,417 INFO sqlalchemy.engine.Engine [cached since 3.289s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:07:37,418 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 15:07:37,418 INFO sqlalchemy.engine.Engine [cached since 3.287s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:59579 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:07:37,419 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:07:37,423 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:07:37,424 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:07:37,424 INFO sqlalchemy.engine.Engine [cached since 10.36s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:07:37,425 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:07:37,425 INFO sqlalchemy.engine.Engine [cached since 10.31s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:07:37,426 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:07:37,426 INFO sqlalchemy.engine.Engine [cached since 3.301s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:07:37,429 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:07:37,429 INFO sqlalchemy.engine.Engine [cached since 3.3s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:07:37,430 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 15:07:37,430 INFO sqlalchemy.engine.Engine [cached since 3.299s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:59580 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:07:37,432 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:07:38,514 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:07:38,514 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:07:38,514 INFO sqlalchemy.engine.Engine [cached since 11.45s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:07:38,516 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:07:38,516 INFO sqlalchemy.engine.Engine [cached since 11.4s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59579 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:07:38,518 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59580 - "OPTIONS /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:07:38,826 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:07:38,827 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:07:38,827 INFO sqlalchemy.engine.Engine [cached since 11.76s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:07:38,849 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 15:07:38,849 INFO sqlalchemy.engine.Engine [generated in 0.00026s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:59579 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:07:38,852 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:07:39,674 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:07:39,675 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:07:39,675 INFO sqlalchemy.engine.Engine [cached since 12.61s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:07:39,676 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:07:39,677 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:07:39,677 INFO sqlalchemy.engine.Engine [cached since 12.61s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:07:39,679 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:07:39,679 INFO sqlalchemy.engine.Engine [cached since 12.57s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:07:39,680 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:07:39,680 INFO sqlalchemy.engine.Engine [cached since 12.57s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:07:39,681 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:07:39,681 INFO sqlalchemy.engine.Engine [cached since 5.557s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59579 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:07:39,682 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:07:39,683 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:07:39,683 INFO sqlalchemy.engine.Engine [cached since 5.554s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:07:39,684 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 15:07:39,684 INFO sqlalchemy.engine.Engine [cached since 5.553s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:59580 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:07:39,685 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:07:39,690 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:07:39,691 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:07:39,691 INFO sqlalchemy.engine.Engine [cached since 12.63s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:07:39,692 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:07:39,692 INFO sqlalchemy.engine.Engine [cached since 12.58s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:07:39,693 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:07:39,693 INFO sqlalchemy.engine.Engine [cached since 5.568s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:07:39,693 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:07:39,694 INFO sqlalchemy.engine.Engine [cached since 5.565s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:07:39,694 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 15:07:39,694 INFO sqlalchemy.engine.Engine [cached since 5.563s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:59579 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:07:39,695 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59580 - "OPTIONS /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:59579 - "OPTIONS /patients HTTP/1.1" 200 OK
2025-12-23 15:07:40,562 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:07:40,562 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:07:40,562 INFO sqlalchemy.engine.Engine [cached since 13.5s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:07:40,563 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:07:40,563 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:07:40,564 INFO sqlalchemy.engine.Engine [cached since 13.5s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:07:40,569 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 15:07:40,569 INFO sqlalchemy.engine.Engine [generated in 0.00024s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 200}
2025-12-23 15:07:40,570 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 15:07:40,570 INFO sqlalchemy.engine.Engine [cached since 1.721s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 100, 'param_2': 0}
INFO:     127.0.0.1:59579 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 15:07:40,571 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59580 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 15:07:40,572 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:07:40,603 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:07:40,604 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:07:40,604 INFO sqlalchemy.engine.Engine [cached since 13.54s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:07:40,604 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:07:40,605 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:07:40,605 INFO sqlalchemy.engine.Engine [cached since 13.54s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:07:40,607 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:07:40,607 INFO sqlalchemy.engine.Engine [cached since 13.46s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:07:40,608 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:07:40,608 INFO sqlalchemy.engine.Engine [cached since 13.5s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59582 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:07:40,609 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59583 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:07:40,609 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:07:42,939 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:07:42,940 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:07:42,940 INFO sqlalchemy.engine.Engine [cached since 15.88s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:07:42,941 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:07:42,941 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:07:42,941 INFO sqlalchemy.engine.Engine [cached since 15.88s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:07:42,942 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:07:42,943 INFO sqlalchemy.engine.Engine [cached since 15.83s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:07:42,943 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:07:42,943 INFO sqlalchemy.engine.Engine [cached since 15.83s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:07:42,944 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:07:42,944 INFO sqlalchemy.engine.Engine [cached since 8.82s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59580 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:07:42,945 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:07:42,945 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:07:42,945 INFO sqlalchemy.engine.Engine [cached since 8.817s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:07:42,946 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 15:07:42,946 INFO sqlalchemy.engine.Engine [cached since 8.815s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:59579 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:07:42,948 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59582 - "OPTIONS /settings HTTP/1.1" 200 OK
2025-12-23 15:07:44,744 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:07:44,745 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:07:44,745 INFO sqlalchemy.engine.Engine [cached since 17.68s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:07:44,746 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:07:44,746 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:07:44,746 INFO sqlalchemy.engine.Engine [cached since 17.68s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:07:44,749 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:07:44,749 INFO sqlalchemy.engine.Engine [generated in 0.00017s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:07:44,750 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:07:44,750 INFO sqlalchemy.engine.Engine [cached since 17.64s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59583 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:07:44,751 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59580 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:07:44,752 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:07:46,874 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:07:46,874 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:07:46,874 INFO sqlalchemy.engine.Engine [cached since 19.81s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:07:46,875 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:07:46,876 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:07:46,876 INFO sqlalchemy.engine.Engine [cached since 19.81s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:07:46,878 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:07:46,879 INFO sqlalchemy.engine.Engine [cached since 19.77s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:07:46,880 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:07:46,880 INFO sqlalchemy.engine.Engine [cached since 19.73s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59582 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:07:46,882 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59579 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:07:46,884 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:07:47,955 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:07:47,955 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:07:47,955 INFO sqlalchemy.engine.Engine [cached since 20.89s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:07:47,956 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:07:47,956 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:07:47,956 INFO sqlalchemy.engine.Engine [cached since 20.89s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:07:47,958 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:07:47,958 INFO sqlalchemy.engine.Engine [cached since 20.85s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:07:47,959 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:07:47,959 INFO sqlalchemy.engine.Engine [cached since 3.21s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59580 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:07:47,960 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59583 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:07:47,960 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59590 - "OPTIONS /settings HTTP/1.1" 200 OK
2025-12-23 15:07:54,031 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:07:54,031 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:07:54,032 INFO sqlalchemy.engine.Engine [cached since 26.97s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:07:54,036 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:07:54,037 INFO sqlalchemy.engine.Engine [cached since 9.288s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:07:54,045 INFO sqlalchemy.engine.Engine UPDATE tenant_settings SET logo_url=%(logo_url)s::VARCHAR, address=%(address)s::VARCHAR, phone=%(phone)s::VARCHAR, website=%(website)s::VARCHAR WHERE tenant_settings.id = %(tenant_settings_id)s::VARCHAR
2025-12-23 15:07:54,045 INFO sqlalchemy.engine.Engine [generated in 0.00016s] {'logo_url': '', 'address': '', 'phone': '', 'website': '', 'tenant_settings_id': 'e65afde7-0799-4d31-bb10-ebb516202808'}
2025-12-23 15:07:54,055 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:59590 - "PATCH /settings HTTP/1.1" 200 OK
2025-12-23 15:08:01,279 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:08:01,280 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:08:01,280 INFO sqlalchemy.engine.Engine [cached since 34.22s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:08:01,281 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:08:01,281 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:08:01,281 INFO sqlalchemy.engine.Engine [cached since 34.22s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:08:01,283 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:08:01,283 INFO sqlalchemy.engine.Engine [cached since 34.17s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:08:01,284 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:08:01,284 INFO sqlalchemy.engine.Engine [cached since 27.16s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:08:01,285 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:08:01,285 INFO sqlalchemy.engine.Engine [cached since 34.17s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:08:01,285 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:08:01,285 INFO sqlalchemy.engine.Engine [cached since 27.16s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59595 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:08:01,286 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:08:01,287 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 15:08:01,287 INFO sqlalchemy.engine.Engine [cached since 27.16s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:59594 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:08:01,288 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:08:01,292 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:08:01,293 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:08:01,293 INFO sqlalchemy.engine.Engine [cached since 34.23s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:08:01,294 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:08:01,294 INFO sqlalchemy.engine.Engine [cached since 34.18s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:08:01,295 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:08:01,295 INFO sqlalchemy.engine.Engine [cached since 27.17s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:08:01,297 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:08:01,298 INFO sqlalchemy.engine.Engine [cached since 27.17s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:08:01,298 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 15:08:01,299 INFO sqlalchemy.engine.Engine [cached since 27.17s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:59595 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:08:01,302 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:08:04,627 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:08:04,627 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:08:04,627 INFO sqlalchemy.engine.Engine [cached since 37.56s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:08:04,628 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:08:04,629 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:08:04,629 INFO sqlalchemy.engine.Engine [cached since 37.56s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:08:04,630 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:08:04,630 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:08:04,630 INFO sqlalchemy.engine.Engine [cached since 37.57s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:08:04,631 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 15:08:04,631 INFO sqlalchemy.engine.Engine [cached since 24.06s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 200}
2025-12-23 15:08:04,632 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 15:08:04,632 INFO sqlalchemy.engine.Engine [cached since 25.78s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 100, 'param_2': 0}
2025-12-23 15:08:04,634 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:08:04,634 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:08:04,634 INFO sqlalchemy.engine.Engine [cached since 37.57s ago] {'username_1': 'apollo_admin'}
INFO:     127.0.0.1:59594 - "GET /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:59595 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 15:08:04,635 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:08:04,635 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:08:04,636 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:08:04,636 INFO sqlalchemy.engine.Engine [cached since 37.49s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:08:04,637 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:08:04,637 INFO sqlalchemy.engine.Engine [cached since 37.53s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59596 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:08:04,638 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59597 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:08:04,639 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:08:05,988 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:08:05,988 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:08:05,989 INFO sqlalchemy.engine.Engine [cached since 38.92s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:08:05,990 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:08:05,990 INFO sqlalchemy.engine.Engine [cached since 38.88s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59594 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:08:05,991 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:08:06,293 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:08:06,294 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:08:06,294 INFO sqlalchemy.engine.Engine [cached since 39.23s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:08:06,297 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 15:08:06,298 INFO sqlalchemy.engine.Engine [cached since 27.45s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:59595 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:08:06,300 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:08:08,341 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:08:08,341 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:08:08,341 INFO sqlalchemy.engine.Engine [cached since 41.28s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:08:08,343 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:08:08,343 INFO sqlalchemy.engine.Engine [cached since 41.23s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59596 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:08:08,344 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:08:10,256 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:08:10,256 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:08:10,257 INFO sqlalchemy.engine.Engine [cached since 43.19s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:08:10,258 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:08:10,258 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:08:10,259 INFO sqlalchemy.engine.Engine [cached since 43.19s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:08:10,261 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:08:10,261 INFO sqlalchemy.engine.Engine [cached since 43.12s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:08:10,263 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:08:10,263 INFO sqlalchemy.engine.Engine [cached since 43.15s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59594 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:08:10,265 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59595 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:08:10,266 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:08:11,128 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:08:11,128 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:08:11,128 INFO sqlalchemy.engine.Engine [cached since 44.06s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:08:11,129 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:08:11,129 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:08:11,129 INFO sqlalchemy.engine.Engine [cached since 44.06s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:08:11,130 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:08:11,130 INFO sqlalchemy.engine.Engine [cached since 44.02s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:08:11,131 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:08:11,131 INFO sqlalchemy.engine.Engine [cached since 26.38s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59594 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:08:11,131 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59596 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:08:11,132 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59618 - "OPTIONS /settings HTTP/1.1" 200 OK
2025-12-23 15:10:22,030 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:10:22,033 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:10:22,033 INFO sqlalchemy.engine.Engine [cached since 175s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:10:22,053 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:10:22,053 INFO sqlalchemy.engine.Engine [cached since 157.3s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:10:22,062 INFO sqlalchemy.engine.Engine UPDATE tenant_settings SET logo_url=%(logo_url)s::VARCHAR WHERE tenant_settings.id = %(tenant_settings_id)s::VARCHAR
2025-12-23 15:10:22,062 INFO sqlalchemy.engine.Engine [generated in 0.00013s] {'logo_url': 'https://brandslogos.com/wp-content/uploads/images/large/apollo-hospitals-logo.png', 'tenant_settings_id': 'e65afde7-0799-4d31-bb10-ebb516202808'}
2025-12-23 15:10:22,067 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:59618 - "PATCH /settings HTTP/1.1" 200 OK
2025-12-23 15:11:39,809 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:11:39,811 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:11:39,811 INFO sqlalchemy.engine.Engine [cached since 252.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:11:39,817 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:11:39,817 INFO sqlalchemy.engine.Engine [cached since 235.1s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:11:39,820 INFO sqlalchemy.engine.Engine UPDATE tenant_settings SET logo_url=%(logo_url)s::VARCHAR, address=%(address)s::VARCHAR, phone=%(phone)s::VARCHAR, website=%(website)s::VARCHAR WHERE tenant_settings.id = %(tenant_settings_id)s::VARCHAR
2025-12-23 15:11:39,820 INFO sqlalchemy.engine.Engine [cached since 225.8s ago] {'logo_url': '', 'address': 'at post pune, apollo apollo', 'phone': '+91 1800 123123', 'website': 'www.apollocare.com', 'tenant_settings_id': 'e65afde7-0799-4d31-bb10-ebb516202808'}
2025-12-23 15:11:39,823 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:59629 - "PATCH /settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:59634 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
INFO:     127.0.0.1:59635 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 15:12:03,809 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:03,812 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:03,812 INFO sqlalchemy.engine.Engine [cached since 276.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:12:03,815 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:03,815 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:03,815 INFO sqlalchemy.engine.Engine [cached since 276.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:12:03,845 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:12:03,845 INFO sqlalchemy.engine.Engine [cached since 276.7s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:12:03,846 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:12:03,846 INFO sqlalchemy.engine.Engine [cached since 276.7s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:12:03,847 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:12:03,847 INFO sqlalchemy.engine.Engine [cached since 269.7s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59635 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:12:03,847 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:12:03,849 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:12:03,849 INFO sqlalchemy.engine.Engine [cached since 269.7s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:12:03,849 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 15:12:03,849 INFO sqlalchemy.engine.Engine [cached since 269.7s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:59634 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:12:03,850 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:12:03,856 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:03,856 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:03,856 INFO sqlalchemy.engine.Engine [cached since 276.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:12:03,858 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:12:03,858 INFO sqlalchemy.engine.Engine [cached since 276.7s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:12:03,858 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:12:03,858 INFO sqlalchemy.engine.Engine [cached since 269.7s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:12:03,859 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:12:03,859 INFO sqlalchemy.engine.Engine [cached since 269.7s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:12:03,859 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 15:12:03,859 INFO sqlalchemy.engine.Engine [cached since 269.7s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:59635 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:12:03,860 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:12:11,568 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:11,568 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:11,568 INFO sqlalchemy.engine.Engine [cached since 284.5s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:59637 - "POST /token HTTP/1.1" 200 OK
2025-12-23 15:12:11,832 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:12:11,852 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:11,853 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:11,853 INFO sqlalchemy.engine.Engine [cached since 284.8s ago] {'username_1': 'admin'}
2025-12-23 15:12:11,854 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:12:11,854 INFO sqlalchemy.engine.Engine [cached since 284.7s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59637 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:12:11,854 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:12:11,877 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:11,877 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:11,877 INFO sqlalchemy.engine.Engine [cached since 284.8s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:59638 - "OPTIONS /tenants HTTP/1.1" 200 OK
2025-12-23 15:12:11,878 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:12:11,878 INFO sqlalchemy.engine.Engine [cached since 284.8s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:12:11,879 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:11,879 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:11,879 INFO sqlalchemy.engine.Engine [cached since 284.8s ago] {'username_1': 'admin'}
2025-12-23 15:12:11,881 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:12:11,882 INFO sqlalchemy.engine.Engine [generated in 0.00007s] {}
2025-12-23 15:12:11,882 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:12:11,882 INFO sqlalchemy.engine.Engine [cached since 284.8s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:12:11,883 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:12:11,883 INFO sqlalchemy.engine.Engine [generated in 0.00006s] {}
2025-12-23 15:12:11,885 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:12:11,885 INFO sqlalchemy.engine.Engine [generated in 0.00005s] {}
2025-12-23 15:12:11,889 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> %(roles_1)s::JSONB AND tenants.is_super_admin = false
2025-12-23 15:12:11,889 INFO sqlalchemy.engine.Engine [generated in 0.00058s] {'roles_1': Jsonb(['admin'])}
2025-12-23 15:12:11,889 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:12:11,889 INFO sqlalchemy.engine.Engine [generated in 0.00006s] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:12:11,890 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:12:11,890 INFO sqlalchemy.engine.Engine [cached since 0.0009826s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59638 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:12:11,891 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:12:11,892 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:12:11,892 INFO sqlalchemy.engine.Engine [generated in 0.00005s] {}
INFO:     127.0.0.1:59637 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:12:11,893 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:12:25,984 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:25,984 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:25,984 INFO sqlalchemy.engine.Engine [cached since 298.9s ago] {'username_1': 'admin'}
2025-12-23 15:12:25,986 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:25,986 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:25,986 INFO sqlalchemy.engine.Engine [cached since 298.9s ago] {'username_1': 'admin'}
2025-12-23 15:12:25,987 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:12:25,987 INFO sqlalchemy.engine.Engine [cached since 298.9s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:12:25,988 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:12:25,988 INFO sqlalchemy.engine.Engine [cached since 14.1s ago] {}
2025-12-23 15:12:25,988 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:12:25,988 INFO sqlalchemy.engine.Engine [cached since 298.9s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:12:25,989 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:12:25,989 INFO sqlalchemy.engine.Engine [cached since 14.1s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59647 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:12:25,990 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:12:25,991 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:12:25,991 INFO sqlalchemy.engine.Engine [cached since 14.1s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59646 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:12:25,992 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59647 - "OPTIONS /users HTTP/1.1" 200 OK
2025-12-23 15:12:29,005 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:29,005 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:29,006 INFO sqlalchemy.engine.Engine [cached since 301.9s ago] {'username_1': 'admin'}
2025-12-23 15:12:29,007 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:12:29,007 INFO sqlalchemy.engine.Engine [cached since 284.3s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:12:29,008 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:29,008 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:29,008 INFO sqlalchemy.engine.Engine [cached since 301.9s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:59646 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:12:29,010 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:29,010 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:29,010 INFO sqlalchemy.engine.Engine [cached since 301.9s ago] {'username_1': 'admin'}
2025-12-23 15:12:29,010 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:12:29,011 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:12:29,011 INFO sqlalchemy.engine.Engine [cached since 301.9s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:12:29,012 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:12:29,012 INFO sqlalchemy.engine.Engine [cached since 301.9s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59648 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:12:29,013 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59647 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:12:29,014 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:12:31,124 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:31,124 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:31,125 INFO sqlalchemy.engine.Engine [cached since 304.1s ago] {'username_1': 'admin'}
2025-12-23 15:12:31,126 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:31,126 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:31,126 INFO sqlalchemy.engine.Engine [cached since 304.1s ago] {'username_1': 'admin'}
2025-12-23 15:12:31,127 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:31,127 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:31,127 INFO sqlalchemy.engine.Engine [cached since 304.1s ago] {'username_1': 'admin'}
2025-12-23 15:12:31,128 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:12:31,128 INFO sqlalchemy.engine.Engine [cached since 304s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:12:31,129 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:12:31,129 INFO sqlalchemy.engine.Engine [cached since 304s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:12:31,130 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:12:31,130 INFO sqlalchemy.engine.Engine [cached since 304s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:12:31,131 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:12:31,131 INFO sqlalchemy.engine.Engine [cached since 19.25s ago] {}
2025-12-23 15:12:31,131 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:12:31,131 INFO sqlalchemy.engine.Engine [cached since 19.25s ago] {}
INFO:     127.0.0.1:59647 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:12:31,132 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:12:31,132 INFO sqlalchemy.engine.Engine [cached since 19.25s ago] {}
2025-12-23 15:12:31,132 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:12:31,133 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:12:31,133 INFO sqlalchemy.engine.Engine [cached since 19.24s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:12:31,134 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> %(roles_1)s::JSONB AND tenants.is_super_admin = false
2025-12-23 15:12:31,134 INFO sqlalchemy.engine.Engine [cached since 19.25s ago] {'roles_1': Jsonb(['admin'])}
2025-12-23 15:12:31,134 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:12:31,134 INFO sqlalchemy.engine.Engine [cached since 19.25s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:12:31,135 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:12:31,135 INFO sqlalchemy.engine.Engine [cached since 19.24s ago] {}
INFO:     127.0.0.1:59648 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:12:31,136 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59646 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:12:31,136 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:12:31,143 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:31,144 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:31,144 INFO sqlalchemy.engine.Engine [cached since 304.1s ago] {'username_1': 'admin'}
2025-12-23 15:12:31,144 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:31,144 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:31,145 INFO sqlalchemy.engine.Engine [cached since 304.1s ago] {'username_1': 'admin'}
2025-12-23 15:12:31,146 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:12:31,146 INFO sqlalchemy.engine.Engine [cached since 304s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:12:31,147 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:12:31,147 INFO sqlalchemy.engine.Engine [cached since 304s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:12:31,147 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:12:31,147 INFO sqlalchemy.engine.Engine [cached since 19.26s ago] {}
2025-12-23 15:12:31,147 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:12:31,148 INFO sqlalchemy.engine.Engine [cached since 19.27s ago] {}
2025-12-23 15:12:31,148 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:12:31,148 INFO sqlalchemy.engine.Engine [cached since 19.26s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:12:31,149 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:12:31,149 INFO sqlalchemy.engine.Engine [cached since 19.26s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59648 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:12:31,150 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:12:31,150 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:12:31,150 INFO sqlalchemy.engine.Engine [cached since 19.27s ago] {}
2025-12-23 15:12:31,151 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> %(roles_1)s::JSONB AND tenants.is_super_admin = false
2025-12-23 15:12:31,151 INFO sqlalchemy.engine.Engine [cached since 19.26s ago] {'roles_1': Jsonb(['admin'])}
2025-12-23 15:12:31,153 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:12:31,153 INFO sqlalchemy.engine.Engine [cached since 19.26s ago] {}
INFO:     127.0.0.1:59647 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:12:31,153 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:12:36,505 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:36,507 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:36,507 INFO sqlalchemy.engine.Engine [cached since 309.4s ago] {'username_1': 'admin'}
2025-12-23 15:12:36,508 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:36,508 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:36,508 INFO sqlalchemy.engine.Engine [cached since 309.4s ago] {'username_1': 'admin'}
2025-12-23 15:12:36,509 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:12:36,509 INFO sqlalchemy.engine.Engine [cached since 309.4s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:12:36,510 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:12:36,510 INFO sqlalchemy.engine.Engine [cached since 24.63s ago] {}
2025-12-23 15:12:36,511 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:12:36,511 INFO sqlalchemy.engine.Engine [cached since 309.4s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:12:36,512 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:12:36,512 INFO sqlalchemy.engine.Engine [cached since 24.62s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59651 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:12:36,513 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:12:36,514 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:12:36,514 INFO sqlalchemy.engine.Engine [cached since 24.62s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59650 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:12:36,515 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:12:39,055 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:39,055 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:39,055 INFO sqlalchemy.engine.Engine [cached since 312s ago] {'username_1': 'admin'}
2025-12-23 15:12:39,057 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:39,057 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:39,057 INFO sqlalchemy.engine.Engine [cached since 312s ago] {'username_1': 'admin'}
2025-12-23 15:12:39,058 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:39,058 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:39,058 INFO sqlalchemy.engine.Engine [cached since 312s ago] {'username_1': 'admin'}
2025-12-23 15:12:39,059 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:12:39,059 INFO sqlalchemy.engine.Engine [cached since 311.9s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:12:39,060 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:12:39,060 INFO sqlalchemy.engine.Engine [cached since 294.3s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59651 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:12:39,062 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:12:39,062 INFO sqlalchemy.engine.Engine [cached since 312s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:12:39,062 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59650 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:12:39,063 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59652 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:12:39,063 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:12:40,823 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:40,823 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:40,823 INFO sqlalchemy.engine.Engine [cached since 313.8s ago] {'username_1': 'admin'}
2025-12-23 15:12:40,824 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:40,825 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:40,825 INFO sqlalchemy.engine.Engine [cached since 313.8s ago] {'username_1': 'admin'}
2025-12-23 15:12:40,825 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:40,826 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:40,826 INFO sqlalchemy.engine.Engine [cached since 313.8s ago] {'username_1': 'admin'}
2025-12-23 15:12:40,827 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:12:40,827 INFO sqlalchemy.engine.Engine [cached since 313.7s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:12:40,828 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:12:40,828 INFO sqlalchemy.engine.Engine [cached since 313.7s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:12:40,828 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:12:40,829 INFO sqlalchemy.engine.Engine [cached since 313.7s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59652 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:12:40,830 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:12:40,830 INFO sqlalchemy.engine.Engine [cached since 28.95s ago] {}
2025-12-23 15:12:40,830 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:12:40,831 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:12:40,831 INFO sqlalchemy.engine.Engine [cached since 28.95s ago] {}
2025-12-23 15:12:40,831 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:12:40,831 INFO sqlalchemy.engine.Engine [cached since 28.94s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:12:40,832 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:12:40,832 INFO sqlalchemy.engine.Engine [cached since 28.95s ago] {}
2025-12-23 15:12:40,833 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:12:40,833 INFO sqlalchemy.engine.Engine [cached since 28.94s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:12:40,833 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> %(roles_1)s::JSONB AND tenants.is_super_admin = false
2025-12-23 15:12:40,833 INFO sqlalchemy.engine.Engine [cached since 28.95s ago] {'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59650 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:12:40,834 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:12:40,835 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:12:40,835 INFO sqlalchemy.engine.Engine [cached since 28.94s ago] {}
INFO:     127.0.0.1:59651 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:12:40,836 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:12:40,840 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:40,841 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:40,841 INFO sqlalchemy.engine.Engine [cached since 313.8s ago] {'username_1': 'admin'}
2025-12-23 15:12:40,841 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:40,841 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:40,841 INFO sqlalchemy.engine.Engine [cached since 313.8s ago] {'username_1': 'admin'}
2025-12-23 15:12:40,843 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:12:40,843 INFO sqlalchemy.engine.Engine [cached since 313.7s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:12:40,843 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:12:40,843 INFO sqlalchemy.engine.Engine [cached since 313.7s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:12:40,843 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:12:40,844 INFO sqlalchemy.engine.Engine [cached since 28.96s ago] {}
2025-12-23 15:12:40,844 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:12:40,844 INFO sqlalchemy.engine.Engine [cached since 28.96s ago] {}
2025-12-23 15:12:40,844 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:12:40,844 INFO sqlalchemy.engine.Engine [cached since 28.96s ago] {}
2025-12-23 15:12:40,845 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> %(roles_1)s::JSONB AND tenants.is_super_admin = false
2025-12-23 15:12:40,845 INFO sqlalchemy.engine.Engine [cached since 28.96s ago] {'roles_1': Jsonb(['admin'])}
2025-12-23 15:12:40,846 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:12:40,846 INFO sqlalchemy.engine.Engine [cached since 28.96s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:12:40,846 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:12:40,846 INFO sqlalchemy.engine.Engine [cached since 28.96s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:12:40,846 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:12:40,847 INFO sqlalchemy.engine.Engine [cached since 28.95s ago] {}
INFO:     127.0.0.1:59650 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:12:40,847 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59652 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:12:40,848 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:12:49,786 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:49,787 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:49,787 INFO sqlalchemy.engine.Engine [cached since 322.7s ago] {'username_1': 'admin'}
2025-12-23 15:12:49,789 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:49,789 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:49,789 INFO sqlalchemy.engine.Engine [cached since 322.7s ago] {'username_1': 'admin'}
2025-12-23 15:12:49,790 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:12:49,790 INFO sqlalchemy.engine.Engine [cached since 322.7s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:12:49,791 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:12:49,792 INFO sqlalchemy.engine.Engine [cached since 37.91s ago] {}
2025-12-23 15:12:49,792 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:12:49,793 INFO sqlalchemy.engine.Engine [cached since 322.7s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:12:49,793 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:12:49,794 INFO sqlalchemy.engine.Engine [cached since 37.9s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59655 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:12:49,795 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:12:49,795 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:12:49,795 INFO sqlalchemy.engine.Engine [cached since 37.91s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59654 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:12:49,796 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59655 - "OPTIONS /tenants/68923952-1085-4d0e-85bf-66bbbb8ad0c7/impersonate HTTP/1.1" 200 OK
2025-12-23 15:12:54,632 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:54,632 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:54,633 INFO sqlalchemy.engine.Engine [cached since 327.6s ago] {'username_1': 'admin'}
2025-12-23 15:12:54,636 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:12:54,636 INFO sqlalchemy.engine.Engine [cached since 327.5s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:12:54,638 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER
2025-12-23 15:12:54,638 INFO sqlalchemy.engine.Engine [generated in 0.00024s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 1}
2025-12-23 15:12:54,640 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:12:54,640 INFO sqlalchemy.engine.Engine [cached since 327.5s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59654 - "POST /tenants/68923952-1085-4d0e-85bf-66bbbb8ad0c7/impersonate HTTP/1.1" 200 OK
2025-12-23 15:12:54,641 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:12:55,289 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:55,289 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:55,290 INFO sqlalchemy.engine.Engine [cached since 328.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:12:55,292 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:12:55,292 INFO sqlalchemy.engine.Engine [cached since 328.2s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59655 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:12:55,294 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:12:55,321 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:55,322 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:55,322 INFO sqlalchemy.engine.Engine [cached since 328.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:12:55,324 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:12:55,324 INFO sqlalchemy.engine.Engine [cached since 328.2s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:12:55,326 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:12:55,326 INFO sqlalchemy.engine.Engine [cached since 321.2s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:12:55,327 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:12:55,327 INFO sqlalchemy.engine.Engine [cached since 321.2s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:12:55,328 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 15:12:55,328 INFO sqlalchemy.engine.Engine [cached since 321.2s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:59654 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:12:55,329 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:12:56,673 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:56,674 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:56,674 INFO sqlalchemy.engine.Engine [cached since 329.6s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:12:56,675 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:12:56,675 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:12:56,675 INFO sqlalchemy.engine.Engine [cached since 329.6s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:12:56,678 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:12:56,678 INFO sqlalchemy.engine.Engine [cached since 329.6s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:12:56,679 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:12:56,679 INFO sqlalchemy.engine.Engine [cached since 329.5s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59654 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:12:56,680 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59655 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:12:56,681 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:13:01,072 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:13:01,072 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:13:01,072 INFO sqlalchemy.engine.Engine [cached since 334s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:13:01,073 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:13:01,073 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:13:01,073 INFO sqlalchemy.engine.Engine [cached since 334s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:13:01,075 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:13:01,075 INFO sqlalchemy.engine.Engine [cached since 334s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:13:01,076 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:13:01,076 INFO sqlalchemy.engine.Engine [cached since 334s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:13:01,076 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:13:01,076 INFO sqlalchemy.engine.Engine [cached since 327s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59655 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:13:01,077 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:13:01,078 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:13:01,078 INFO sqlalchemy.engine.Engine [cached since 326.9s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:13:01,079 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 15:13:01,079 INFO sqlalchemy.engine.Engine [cached since 326.9s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:59654 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:13:01,080 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:13:01,084 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:13:01,084 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:13:01,085 INFO sqlalchemy.engine.Engine [cached since 334s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:13:01,086 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:13:01,086 INFO sqlalchemy.engine.Engine [cached since 334s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:13:01,088 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:13:01,088 INFO sqlalchemy.engine.Engine [cached since 327s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:13:01,088 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:13:01,089 INFO sqlalchemy.engine.Engine [cached since 327s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:13:01,089 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 15:13:01,090 INFO sqlalchemy.engine.Engine [cached since 327s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:59655 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:13:01,093 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59654 - "OPTIONS /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:59655 - "OPTIONS /patients HTTP/1.1" 200 OK
2025-12-23 15:13:02,777 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:13:02,777 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:13:02,777 INFO sqlalchemy.engine.Engine [cached since 335.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:13:02,778 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:13:02,778 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:13:02,778 INFO sqlalchemy.engine.Engine [cached since 335.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:13:02,779 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:13:02,779 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:13:02,779 INFO sqlalchemy.engine.Engine [cached since 335.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:13:02,780 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:13:02,780 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:13:02,780 INFO sqlalchemy.engine.Engine [cached since 335.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:13:02,782 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:13:02,782 INFO sqlalchemy.engine.Engine [cached since 335.7s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:13:02,784 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 15:13:02,785 INFO sqlalchemy.engine.Engine [cached since 323.9s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 100, 'param_2': 0}
2025-12-23 15:13:02,786 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 15:13:02,786 INFO sqlalchemy.engine.Engine [cached since 322.2s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 200}
2025-12-23 15:13:02,787 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:13:02,787 INFO sqlalchemy.engine.Engine [cached since 335.6s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59667 - "GET /users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:59655 - "GET /patients HTTP/1.1" 200 OK
INFO:     127.0.0.1:59654 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 15:13:02,789 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:13:02,789 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:13:02,789 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59666 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:13:02,790 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:13:03,740 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:13:03,741 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:13:03,741 INFO sqlalchemy.engine.Engine [cached since 336.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:13:03,744 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:13:03,744 INFO sqlalchemy.engine.Engine [cached since 336.6s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59654 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:13:03,745 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59667 - "OPTIONS /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:13:04,048 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:13:04,048 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:13:04,049 INFO sqlalchemy.engine.Engine [cached since 337s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:13:04,052 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 15:13:04,052 INFO sqlalchemy.engine.Engine [cached since 325.2s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:59655 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:13:04,054 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:13:04,809 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:13:04,809 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:13:04,809 INFO sqlalchemy.engine.Engine [cached since 337.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:13:04,810 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:13:04,811 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:13:04,811 INFO sqlalchemy.engine.Engine [cached since 337.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:13:04,812 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:13:04,812 INFO sqlalchemy.engine.Engine [cached since 337.7s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:13:04,815 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:13:04,815 INFO sqlalchemy.engine.Engine [cached since 337.7s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:13:04,817 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:13:04,817 INFO sqlalchemy.engine.Engine [cached since 330.7s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59654 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:13:04,818 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:13:04,819 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:13:04,819 INFO sqlalchemy.engine.Engine [cached since 330.7s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:13:04,820 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 15:13:04,820 INFO sqlalchemy.engine.Engine [cached since 330.7s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:59666 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:13:04,821 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:13:06,616 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:13:06,616 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:13:06,616 INFO sqlalchemy.engine.Engine [cached since 339.6s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:13:06,617 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:13:06,618 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:13:06,618 INFO sqlalchemy.engine.Engine [cached since 339.6s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:13:06,619 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:13:06,619 INFO sqlalchemy.engine.Engine [cached since 339.5s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:13:06,620 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:13:06,620 INFO sqlalchemy.engine.Engine [cached since 339.5s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59655 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:13:06,621 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59667 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:13:06,622 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:13:07,417 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:13:07,418 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:13:07,418 INFO sqlalchemy.engine.Engine [cached since 340.4s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:13:07,419 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:13:07,419 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:13:07,420 INFO sqlalchemy.engine.Engine [cached since 340.4s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:13:07,421 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:13:07,421 INFO sqlalchemy.engine.Engine [cached since 340.3s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:13:07,422 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:13:07,422 INFO sqlalchemy.engine.Engine [cached since 322.7s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59666 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:13:07,423 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59654 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:13:07,423 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:14:09,354 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:14:09,356 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:14:09,356 INFO sqlalchemy.engine.Engine [cached since 402.3s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:59679 - "POST /token HTTP/1.1" 200 OK
2025-12-23 15:14:09,596 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:14:09,619 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:14:09,619 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:14:09,619 INFO sqlalchemy.engine.Engine [cached since 402.6s ago] {'username_1': 'admin'}
2025-12-23 15:14:09,621 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:14:09,621 INFO sqlalchemy.engine.Engine [cached since 402.5s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59679 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:14:09,621 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:14:09,641 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:14:09,641 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:14:09,641 INFO sqlalchemy.engine.Engine [cached since 402.6s ago] {'username_1': 'admin'}
2025-12-23 15:14:09,641 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:14:09,642 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:14:09,642 INFO sqlalchemy.engine.Engine [cached since 402.6s ago] {'username_1': 'admin'}
2025-12-23 15:14:09,647 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:14:09,647 INFO sqlalchemy.engine.Engine [cached since 402.5s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:14:09,647 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:14:09,647 INFO sqlalchemy.engine.Engine [cached since 402.5s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:14:09,647 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:14:09,647 INFO sqlalchemy.engine.Engine [cached since 117.8s ago] {}
2025-12-23 15:14:09,648 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:14:09,648 INFO sqlalchemy.engine.Engine [cached since 117.8s ago] {}
2025-12-23 15:14:09,648 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:14:09,648 INFO sqlalchemy.engine.Engine [cached since 117.8s ago] {}
2025-12-23 15:14:09,649 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:14:09,649 INFO sqlalchemy.engine.Engine [cached since 117.8s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:14:09,649 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> %(roles_1)s::JSONB AND tenants.is_super_admin = false
2025-12-23 15:14:09,649 INFO sqlalchemy.engine.Engine [cached since 117.8s ago] {'roles_1': Jsonb(['admin'])}
2025-12-23 15:14:09,649 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:14:09,649 INFO sqlalchemy.engine.Engine [cached since 117.8s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59680 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:14:09,650 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:14:09,651 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:14:09,651 INFO sqlalchemy.engine.Engine [cached since 117.8s ago] {}
INFO:     127.0.0.1:59679 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:14:09,652 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:14:10,873 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:14:10,874 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:14:10,874 INFO sqlalchemy.engine.Engine [cached since 403.8s ago] {'username_1': 'admin'}
2025-12-23 15:14:10,875 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:14:10,875 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:14:10,875 INFO sqlalchemy.engine.Engine [cached since 403.8s ago] {'username_1': 'admin'}
2025-12-23 15:14:10,876 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:14:10,877 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:14:10,877 INFO sqlalchemy.engine.Engine [cached since 403.8s ago] {'username_1': 'admin'}
2025-12-23 15:14:10,877 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:14:10,878 INFO sqlalchemy.engine.Engine [cached since 403.7s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:14:10,878 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:14:10,878 INFO sqlalchemy.engine.Engine [cached since 386.1s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59680 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:14:10,879 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59679 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:14:10,880 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:14:10,880 INFO sqlalchemy.engine.Engine [cached since 403.8s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:14:10,881 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59681 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:14:10,882 INFO sqlalchemy.engine.Engine ROLLBACK
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [24358]
Process SpawnProcess-3:
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/uvicorn/config.py", line 439, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/main.py", line 546, in <module>
    async def upload_logo(file: UploadFile = File(...), current_user: User = Depends(get_current_user)):
                                             ^^^^
NameError: name 'File' is not defined. Did you mean: 'False'?
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Started server process [25269]
INFO:     Waiting for application startup.
2025-12-23 15:15:53,335 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 15:15:53,335 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 15:15:53,346 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 15:15:53,346 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 15:15:53,347 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 15:15:53,347 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 15:15:53,353 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:15:53,355 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:15:53,355 INFO sqlalchemy.engine.Engine [generated in 0.00010s] {'table_name': 'tenants', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:15:53,358 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:15:53,358 INFO sqlalchemy.engine.Engine [cached since 0.003174s ago] {'table_name': 'tenant_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:15:53,358 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:15:53,358 INFO sqlalchemy.engine.Engine [cached since 0.003565s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:15:53,359 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:15:53,359 INFO sqlalchemy.engine.Engine [cached since 0.003882s ago] {'table_name': 'patients', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:15:53,359 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:15:53,359 INFO sqlalchemy.engine.Engine [cached since 0.004161s ago] {'table_name': 'clinical_records', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:15:53,359 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:15:53,359 INFO sqlalchemy.engine.Engine [cached since 0.00442s ago] {'table_name': 'appointments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:15:53,360 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:15:53,360 INFO sqlalchemy.engine.Engine [cached since 0.005038s ago] {'table_name': 'attachments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:15:53,360 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:15:53,360 INFO sqlalchemy.engine.Engine [cached since 0.005266s ago] {'table_name': 'prescriptions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:15:53,360 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:15:53,360 INFO sqlalchemy.engine.Engine [cached since 0.005496s ago] {'table_name': 'invoices', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:15:53,361 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-12-23 15:16:18,130 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:16:18,149 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:16:18,150 INFO sqlalchemy.engine.Engine [generated in 0.00126s] {'username_1': 'admin'}
2025-12-23 15:16:18,206 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:16:18,206 INFO sqlalchemy.engine.Engine [generated in 0.00013s] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59723 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:16:18,210 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:16:18,238 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:16:18,239 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:16:18,239 INFO sqlalchemy.engine.Engine [cached since 0.09083s ago] {'username_1': 'admin'}
2025-12-23 15:16:18,241 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:16:18,241 INFO sqlalchemy.engine.Engine [generated in 0.00009s] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59723 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:16:18,242 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:16:18,321 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:16:18,321 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:16:18,321 INFO sqlalchemy.engine.Engine [cached since 0.1733s ago] {'username_1': 'admin'}
2025-12-23 15:16:18,324 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:16:18,324 INFO sqlalchemy.engine.Engine [generated in 0.00007s] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59724 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:16:18,325 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:17:05,341 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:17:05,344 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:17:05,345 INFO sqlalchemy.engine.Engine [cached since 47.2s ago] {'username_1': 'admin'}
2025-12-23 15:17:05,348 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:17:05,348 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:17:05,348 INFO sqlalchemy.engine.Engine [cached since 47.2s ago] {'username_1': 'admin'}
2025-12-23 15:17:05,369 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:17:05,369 INFO sqlalchemy.engine.Engine [cached since 47.16s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:17:05,369 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:17:05,369 INFO sqlalchemy.engine.Engine [cached since 47.16s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:17:05,378 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:17:05,378 INFO sqlalchemy.engine.Engine [generated in 0.00009s] {}
2025-12-23 15:17:05,378 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:17:05,378 INFO sqlalchemy.engine.Engine [generated in 0.00004s] {}
2025-12-23 15:17:05,380 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:17:05,380 INFO sqlalchemy.engine.Engine [generated in 0.00006s] {}
2025-12-23 15:17:05,383 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:17:05,383 INFO sqlalchemy.engine.Engine [generated in 0.00048s] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:17:05,386 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> %(roles_1)s::JSONB AND tenants.is_super_admin = false
2025-12-23 15:17:05,386 INFO sqlalchemy.engine.Engine [generated in 0.00006s] {'roles_1': Jsonb(['admin'])}
2025-12-23 15:17:05,386 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:17:05,386 INFO sqlalchemy.engine.Engine [cached since 0.003318s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59734 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:17:05,387 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:17:05,387 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:17:05,387 INFO sqlalchemy.engine.Engine [generated in 0.00004s] {}
INFO:     127.0.0.1:59733 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:17:05,388 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:17:05,417 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:17:05,417 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:17:05,417 INFO sqlalchemy.engine.Engine [cached since 47.27s ago] {'username_1': 'admin'}
2025-12-23 15:17:05,420 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:17:05,420 INFO sqlalchemy.engine.Engine [cached since 47.21s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59735 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:17:05,421 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:17:05,434 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:17:05,434 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:17:05,434 INFO sqlalchemy.engine.Engine [cached since 47.29s ago] {'username_1': 'admin'}
2025-12-23 15:17:05,435 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:17:05,435 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:17:05,435 INFO sqlalchemy.engine.Engine [cached since 47.29s ago] {'username_1': 'admin'}
2025-12-23 15:17:05,435 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:17:05,435 INFO sqlalchemy.engine.Engine [cached since 47.23s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:17:05,436 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:17:05,436 INFO sqlalchemy.engine.Engine [cached since 47.23s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:17:05,436 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:17:05,436 INFO sqlalchemy.engine.Engine [cached since 0.05891s ago] {}
2025-12-23 15:17:05,437 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:17:05,437 INFO sqlalchemy.engine.Engine [cached since 0.05865s ago] {}
2025-12-23 15:17:05,437 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:17:05,437 INFO sqlalchemy.engine.Engine [cached since 0.05669s ago] {}
2025-12-23 15:17:05,437 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:17:05,437 INFO sqlalchemy.engine.Engine [cached since 0.05478s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:17:05,438 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> %(roles_1)s::JSONB AND tenants.is_super_admin = false
2025-12-23 15:17:05,438 INFO sqlalchemy.engine.Engine [cached since 0.05219s ago] {'roles_1': Jsonb(['admin'])}
2025-12-23 15:17:05,438 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:17:05,438 INFO sqlalchemy.engine.Engine [cached since 0.05534s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:17:05,438 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:17:05,438 INFO sqlalchemy.engine.Engine [cached since 0.05112s ago] {}
INFO:     127.0.0.1:59733 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:17:05,438 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59734 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:17:05,439 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:17:08,836 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:17:08,836 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:17:08,837 INFO sqlalchemy.engine.Engine [cached since 50.69s ago] {'username_1': 'admin'}
2025-12-23 15:17:08,837 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:17:08,837 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:17:08,837 INFO sqlalchemy.engine.Engine [cached since 50.69s ago] {'username_1': 'admin'}
2025-12-23 15:17:08,839 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:17:08,839 INFO sqlalchemy.engine.Engine [cached since 50.63s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:17:08,840 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:17:08,840 INFO sqlalchemy.engine.Engine [cached since 50.63s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59733 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:17:08,841 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:17:08,841 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:17:08,841 INFO sqlalchemy.engine.Engine [cached since 3.463s ago] {}
2025-12-23 15:17:08,842 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:17:08,842 INFO sqlalchemy.engine.Engine [cached since 3.46s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:17:08,843 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:17:08,843 INFO sqlalchemy.engine.Engine [cached since 3.461s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59735 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:17:08,845 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:17:09,676 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:17:09,677 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:17:09,677 INFO sqlalchemy.engine.Engine [cached since 51.53s ago] {'username_1': 'admin'}
2025-12-23 15:17:09,678 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:17:09,681 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:17:09,681 INFO sqlalchemy.engine.Engine [cached since 51.53s ago] {'username_1': 'admin'}
2025-12-23 15:17:09,683 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:17:09,684 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:17:09,684 INFO sqlalchemy.engine.Engine [cached since 51.54s ago] {'username_1': 'admin'}
2025-12-23 15:17:09,685 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:17:09,685 INFO sqlalchemy.engine.Engine [cached since 51.44s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:17:09,686 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:17:09,686 INFO sqlalchemy.engine.Engine [cached since 51.36s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59734 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:17:09,689 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:17:09,690 INFO sqlalchemy.engine.Engine [cached since 51.48s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:17:09,690 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59733 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:17:09,691 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59735 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:17:09,691 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:17:10,570 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:17:10,570 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:17:10,570 INFO sqlalchemy.engine.Engine [cached since 52.42s ago] {'username_1': 'admin'}
2025-12-23 15:17:10,572 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:17:10,572 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:17:10,572 INFO sqlalchemy.engine.Engine [cached since 52.42s ago] {'username_1': 'admin'}
2025-12-23 15:17:10,575 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:17:10,575 INFO sqlalchemy.engine.Engine [cached since 52.37s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:17:10,579 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:17:10,579 INFO sqlalchemy.engine.Engine [cached since 52.37s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59733 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:17:10,581 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:17:10,581 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:17:10,581 INFO sqlalchemy.engine.Engine [cached since 5.203s ago] {}
2025-12-23 15:17:10,582 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:17:10,582 INFO sqlalchemy.engine.Engine [cached since 5.2s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:17:10,583 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:17:10,583 INFO sqlalchemy.engine.Engine [cached since 5.201s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59734 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:17:10,585 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:17:13,043 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:17:13,043 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:17:13,043 INFO sqlalchemy.engine.Engine [cached since 54.9s ago] {'username_1': 'admin'}
2025-12-23 15:17:13,044 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:17:13,044 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:17:13,045 INFO sqlalchemy.engine.Engine [cached since 54.9s ago] {'username_1': 'admin'}
2025-12-23 15:17:13,045 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:17:13,045 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:17:13,045 INFO sqlalchemy.engine.Engine [cached since 54.9s ago] {'username_1': 'admin'}
2025-12-23 15:17:13,046 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:17:13,046 INFO sqlalchemy.engine.Engine [cached since 54.84s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:17:13,047 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:17:13,047 INFO sqlalchemy.engine.Engine [cached since 54.84s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:17:13,048 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:17:13,048 INFO sqlalchemy.engine.Engine [cached since 54.84s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:17:13,049 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:17:13,049 INFO sqlalchemy.engine.Engine [cached since 7.671s ago] {}
2025-12-23 15:17:13,049 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:17:13,049 INFO sqlalchemy.engine.Engine [cached since 7.671s ago] {}
INFO:     127.0.0.1:59734 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:17:13,050 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:17:13,050 INFO sqlalchemy.engine.Engine [cached since 7.67s ago] {}
2025-12-23 15:17:13,050 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:17:13,051 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:17:13,051 INFO sqlalchemy.engine.Engine [cached since 7.669s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:17:13,052 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> %(roles_1)s::JSONB AND tenants.is_super_admin = false
2025-12-23 15:17:13,052 INFO sqlalchemy.engine.Engine [cached since 7.666s ago] {'roles_1': Jsonb(['admin'])}
2025-12-23 15:17:13,052 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:17:13,053 INFO sqlalchemy.engine.Engine [cached since 7.67s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:17:13,053 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:17:13,053 INFO sqlalchemy.engine.Engine [cached since 7.666s ago] {}
INFO:     127.0.0.1:59733 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:17:13,054 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59735 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:17:13,055 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:17:13,061 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:17:13,062 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:17:13,062 INFO sqlalchemy.engine.Engine [cached since 54.91s ago] {'username_1': 'admin'}
2025-12-23 15:17:13,062 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:17:13,062 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:17:13,062 INFO sqlalchemy.engine.Engine [cached since 54.91s ago] {'username_1': 'admin'}
2025-12-23 15:17:13,063 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:17:13,063 INFO sqlalchemy.engine.Engine [cached since 54.86s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:17:13,064 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:17:13,064 INFO sqlalchemy.engine.Engine [cached since 54.86s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:17:13,064 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:17:13,064 INFO sqlalchemy.engine.Engine [cached since 7.687s ago] {}
2025-12-23 15:17:13,065 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:17:13,065 INFO sqlalchemy.engine.Engine [cached since 7.686s ago] {}
2025-12-23 15:17:13,065 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:17:13,065 INFO sqlalchemy.engine.Engine [cached since 7.685s ago] {}
2025-12-23 15:17:13,065 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:17:13,065 INFO sqlalchemy.engine.Engine [cached since 7.683s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:17:13,066 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> %(roles_1)s::JSONB AND tenants.is_super_admin = false
2025-12-23 15:17:13,066 INFO sqlalchemy.engine.Engine [cached since 7.68s ago] {'roles_1': Jsonb(['admin'])}
2025-12-23 15:17:13,066 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:17:13,066 INFO sqlalchemy.engine.Engine [cached since 7.684s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59733 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:17:13,067 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:17:13,067 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:17:13,067 INFO sqlalchemy.engine.Engine [cached since 7.68s ago] {}
INFO:     127.0.0.1:59734 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:17:13,068 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:17:14,160 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:17:14,161 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:17:14,161 INFO sqlalchemy.engine.Engine [cached since 56.01s ago] {'username_1': 'admin'}
2025-12-23 15:17:14,162 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:17:14,162 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:17:14,162 INFO sqlalchemy.engine.Engine [cached since 56.01s ago] {'username_1': 'admin'}
2025-12-23 15:17:14,164 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:17:14,164 INFO sqlalchemy.engine.Engine [cached since 55.96s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:17:14,165 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:17:14,165 INFO sqlalchemy.engine.Engine [cached since 55.96s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:17:14,166 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:17:14,166 INFO sqlalchemy.engine.Engine [cached since 8.788s ago] {}
INFO:     127.0.0.1:59733 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:17:14,167 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:17:14,167 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:17:14,167 INFO sqlalchemy.engine.Engine [cached since 8.785s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:17:14,168 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:17:14,168 INFO sqlalchemy.engine.Engine [cached since 8.786s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59735 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:17:14,169 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:17:16,052 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:17:16,052 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:17:16,052 INFO sqlalchemy.engine.Engine [cached since 57.9s ago] {'username_1': 'admin'}
2025-12-23 15:17:16,054 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:17:16,054 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:17:16,054 INFO sqlalchemy.engine.Engine [cached since 57.91s ago] {'username_1': 'admin'}
2025-12-23 15:17:16,056 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:17:16,056 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:17:16,056 INFO sqlalchemy.engine.Engine [cached since 57.91s ago] {'username_1': 'admin'}
2025-12-23 15:17:16,057 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:17:16,057 INFO sqlalchemy.engine.Engine [cached since 57.82s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:17:16,058 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:17:16,058 INFO sqlalchemy.engine.Engine [cached since 57.73s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59734 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:17:16,060 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:17:16,060 INFO sqlalchemy.engine.Engine [cached since 57.85s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:17:16,060 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59733 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:17:16,061 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59735 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:17:16,062 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:17:19,072 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:17:19,073 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:17:19,073 INFO sqlalchemy.engine.Engine [cached since 60.93s ago] {'username_1': 'admin'}
2025-12-23 15:17:19,074 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:17:19,075 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:17:19,075 INFO sqlalchemy.engine.Engine [cached since 60.93s ago] {'username_1': 'admin'}
2025-12-23 15:17:19,077 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:17:19,077 INFO sqlalchemy.engine.Engine [cached since 60.87s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:17:19,079 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:17:19,079 INFO sqlalchemy.engine.Engine [cached since 60.87s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:17:19,080 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:17:19,080 INFO sqlalchemy.engine.Engine [cached since 13.7s ago] {}
INFO:     127.0.0.1:59733 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:17:19,081 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:17:19,081 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:17:19,081 INFO sqlalchemy.engine.Engine [cached since 13.7s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:17:19,082 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:17:19,082 INFO sqlalchemy.engine.Engine [cached since 13.7s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59734 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:17:19,083 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:17:22,775 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:17:22,776 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:17:22,776 INFO sqlalchemy.engine.Engine [cached since 64.63s ago] {'username_1': 'admin'}
2025-12-23 15:17:22,777 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:17:22,778 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:17:22,778 INFO sqlalchemy.engine.Engine [cached since 64.63s ago] {'username_1': 'admin'}
2025-12-23 15:17:22,779 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:17:22,779 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:17:22,779 INFO sqlalchemy.engine.Engine [cached since 64.63s ago] {'username_1': 'admin'}
2025-12-23 15:17:22,781 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:17:22,781 INFO sqlalchemy.engine.Engine [cached since 64.54s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:17:22,781 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:17:22,781 INFO sqlalchemy.engine.Engine [cached since 64.46s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59733 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:17:22,782 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59734 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:17:22,783 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:17:22,783 INFO sqlalchemy.engine.Engine [cached since 64.58s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:17:22,784 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59741 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:17:22,784 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:18:13,554 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:13,557 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:13,558 INFO sqlalchemy.engine.Engine [cached since 115.4s ago] {'username_1': 'admin'}
2025-12-23 15:18:13,560 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:13,560 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:13,560 INFO sqlalchemy.engine.Engine [cached since 115.4s ago] {'username_1': 'admin'}
2025-12-23 15:18:13,581 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:18:13,581 INFO sqlalchemy.engine.Engine [cached since 115.4s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:18:13,582 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:18:13,582 INFO sqlalchemy.engine.Engine [cached since 115.4s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:18:13,583 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:18:13,583 INFO sqlalchemy.engine.Engine [cached since 68.2s ago] {}
INFO:     127.0.0.1:59752 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:18:13,584 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:18:13,584 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:18:13,584 INFO sqlalchemy.engine.Engine [cached since 68.2s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:18:13,585 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:18:13,585 INFO sqlalchemy.engine.Engine [cached since 68.2s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59751 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:18:13,585 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:18:15,988 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:15,989 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:15,989 INFO sqlalchemy.engine.Engine [cached since 117.8s ago] {'username_1': 'admin'}
2025-12-23 15:18:16,015 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:18:16,015 INFO sqlalchemy.engine.Engine [cached since 117.8s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:18:16,019 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER
2025-12-23 15:18:16,019 INFO sqlalchemy.engine.Engine [generated in 0.00014s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 1}
2025-12-23 15:18:16,022 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:18:16,022 INFO sqlalchemy.engine.Engine [cached since 117.8s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59752 - "POST /tenants/68923952-1085-4d0e-85bf-66bbbb8ad0c7/impersonate HTTP/1.1" 200 OK
2025-12-23 15:18:16,025 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:18:16,733 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:16,734 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:16,734 INFO sqlalchemy.engine.Engine [cached since 118.6s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:18:16,735 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:18:16,735 INFO sqlalchemy.engine.Engine [cached since 118.5s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59751 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:18:16,736 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:18:16,758 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:16,758 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:16,758 INFO sqlalchemy.engine.Engine [cached since 118.6s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:18:16,760 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:18:16,761 INFO sqlalchemy.engine.Engine [cached since 118.6s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:18:16,764 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:18:16,764 INFO sqlalchemy.engine.Engine [generated in 0.00025s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:18:16,766 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:18:16,766 INFO sqlalchemy.engine.Engine [generated in 0.00019s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:18:16,768 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 15:18:16,768 INFO sqlalchemy.engine.Engine [generated in 0.00017s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:59752 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:18:16,772 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:18:18,429 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:18,430 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:18,430 INFO sqlalchemy.engine.Engine [cached since 120.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:18:18,433 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:18,433 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:18,433 INFO sqlalchemy.engine.Engine [cached since 120.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:18:18,439 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:18,440 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:18,440 INFO sqlalchemy.engine.Engine [cached since 120.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:18:18,450 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 15:18:18,451 INFO sqlalchemy.engine.Engine [generated in 0.00083s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 100, 'param_2': 0}
2025-12-23 15:18:18,463 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 15:18:18,464 INFO sqlalchemy.engine.Engine [generated in 0.00014s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 200}
INFO:     127.0.0.1:59752 - "GET /patients HTTP/1.1" 200 OK
INFO:     127.0.0.1:59751 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 15:18:18,470 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:18:18,472 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:18:18,474 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:18:18,474 INFO sqlalchemy.engine.Engine [cached since 120.2s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59761 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:18:18,476 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:18:18,545 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:18,545 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:18,545 INFO sqlalchemy.engine.Engine [cached since 120.4s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:18:18,547 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:18:18,547 INFO sqlalchemy.engine.Engine [cached since 120.3s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59762 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:18:18,547 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:18:19,174 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:19,175 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:19,175 INFO sqlalchemy.engine.Engine [cached since 121s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:18:19,179 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:18:19,179 INFO sqlalchemy.engine.Engine [cached since 121s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59752 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:18:19,181 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:18:19,476 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:19,477 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:19,477 INFO sqlalchemy.engine.Engine [cached since 121.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:18:19,479 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 15:18:19,479 INFO sqlalchemy.engine.Engine [cached since 1.029s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:59751 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:18:19,480 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:18:20,112 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:20,113 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:20,113 INFO sqlalchemy.engine.Engine [cached since 122s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:18:20,114 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:18:20,114 INFO sqlalchemy.engine.Engine [cached since 121.9s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59761 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:18:20,114 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:18:21,072 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:21,073 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:21,073 INFO sqlalchemy.engine.Engine [cached since 122.9s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:18:21,075 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:21,075 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:21,075 INFO sqlalchemy.engine.Engine [cached since 122.9s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:18:21,077 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:18:21,078 INFO sqlalchemy.engine.Engine [cached since 122.8s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:18:21,078 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:18:21,078 INFO sqlalchemy.engine.Engine [cached since 122.9s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59762 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:18:21,081 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59752 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:18:21,083 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:18:22,874 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:22,874 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:22,874 INFO sqlalchemy.engine.Engine [cached since 124.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:18:22,875 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:22,876 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:22,876 INFO sqlalchemy.engine.Engine [cached since 124.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:18:22,877 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:18:22,877 INFO sqlalchemy.engine.Engine [cached since 124.6s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:18:22,878 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:18:22,878 INFO sqlalchemy.engine.Engine [cached since 124.7s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59751 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:18:22,879 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59761 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:18:22,880 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59768 - "OPTIONS /settings/logo HTTP/1.1" 200 OK
2025-12-23 15:18:32,943 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:32,944 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:32,944 INFO sqlalchemy.engine.Engine [cached since 134.8s ago] {'username_1': 'apollo_admin'}
INFO:     127.0.0.1:59768 - "POST /settings/logo HTTP/1.1" 200 OK
2025-12-23 15:18:32,954 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59768 - "GET /static/uploads/68923952-1085-4d0e-85bf-66bbbb8ad0c7_logo.svg HTTP/1.1" 200 OK
2025-12-23 15:18:36,478 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:36,479 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:36,479 INFO sqlalchemy.engine.Engine [cached since 138.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:18:36,481 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:18:36,481 INFO sqlalchemy.engine.Engine [cached since 138.3s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59768 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:18:36,485 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59783 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 15:18:36,688 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:36,688 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:36,688 INFO sqlalchemy.engine.Engine [cached since 138.5s ago] {'username_1': 'admin'}
2025-12-23 15:18:36,690 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:18:36,690 INFO sqlalchemy.engine.Engine [cached since 138.5s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59783 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:18:36,691 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:18:44,959 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:44,960 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:44,961 INFO sqlalchemy.engine.Engine [cached since 146.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:18:44,984 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:18:44,984 INFO sqlalchemy.engine.Engine [cached since 146.7s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:18:45,017 INFO sqlalchemy.engine.Engine UPDATE tenant_settings SET logo_url=%(logo_url)s::VARCHAR WHERE tenant_settings.id = %(tenant_settings_id)s::VARCHAR
2025-12-23 15:18:45,020 INFO sqlalchemy.engine.Engine [generated in 0.00370s] {'logo_url': 'http://localhost:8000/static/uploads/68923952-1085-4d0e-85bf-66bbbb8ad0c7_logo.svg', 'tenant_settings_id': 'e65afde7-0799-4d31-bb10-ebb516202808'}
2025-12-23 15:18:45,046 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:59790 - "PATCH /settings HTTP/1.1" 200 OK
2025-12-23 15:18:46,903 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:46,906 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:46,906 INFO sqlalchemy.engine.Engine [cached since 148.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:18:46,910 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:46,910 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:46,910 INFO sqlalchemy.engine.Engine [cached since 148.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:18:46,916 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:18:46,916 INFO sqlalchemy.engine.Engine [cached since 148.7s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:18:46,922 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:18:46,922 INFO sqlalchemy.engine.Engine [cached since 30.16s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:18:46,924 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:18:46,924 INFO sqlalchemy.engine.Engine [cached since 148.7s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59792 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:18:46,929 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:18:46,935 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:18:46,937 INFO sqlalchemy.engine.Engine [cached since 30.17s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:18:46,940 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 15:18:46,940 INFO sqlalchemy.engine.Engine [cached since 30.17s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:59790 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:18:46,950 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59785 - "OPTIONS /users HTTP/1.1" 200 OK
INFO:     127.0.0.1:59794 - "OPTIONS /settings HTTP/1.1" 200 OK
2025-12-23 15:18:47,391 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:47,394 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:47,395 INFO sqlalchemy.engine.Engine [cached since 149.2s ago] {'username_1': 'admin'}
2025-12-23 15:18:47,396 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:47,396 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:47,397 INFO sqlalchemy.engine.Engine [cached since 149.2s ago] {'username_1': 'admin'}
2025-12-23 15:18:47,401 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:18:47,401 INFO sqlalchemy.engine.Engine [cached since 149.1s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:18:47,401 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:18:47,401 INFO sqlalchemy.engine.Engine [cached since 149.2s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59794 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:18:47,402 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59785 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:18:47,403 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:18:53,655 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:53,660 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:53,660 INFO sqlalchemy.engine.Engine [cached since 155.5s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:18:53,662 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:53,662 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:53,662 INFO sqlalchemy.engine.Engine [cached since 155.5s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:18:53,663 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:53,663 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:53,663 INFO sqlalchemy.engine.Engine [cached since 155.5s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:18:53,664 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:53,664 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:53,664 INFO sqlalchemy.engine.Engine [cached since 155.5s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:18:53,665 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 15:18:53,666 INFO sqlalchemy.engine.Engine [cached since 35.2s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 200}
2025-12-23 15:18:53,669 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 15:18:53,669 INFO sqlalchemy.engine.Engine [cached since 35.22s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 100, 'param_2': 0}
INFO:     127.0.0.1:59801 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 15:18:53,670 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:18:53,670 INFO sqlalchemy.engine.Engine [cached since 155.4s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:18:53,671 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:18:53,671 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:18:53,671 INFO sqlalchemy.engine.Engine [cached since 155.5s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59803 - "GET /users HTTP/1.1" 200 OK
INFO:     127.0.0.1:59802 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 15:18:53,672 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:18:53,672 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59804 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:18:53,672 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:18:54,497 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:54,497 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:54,498 INFO sqlalchemy.engine.Engine [cached since 156.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:18:54,500 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:18:54,500 INFO sqlalchemy.engine.Engine [cached since 156.3s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59801 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:18:54,501 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:18:54,799 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:54,800 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:54,800 INFO sqlalchemy.engine.Engine [cached since 156.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:18:54,803 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 15:18:54,804 INFO sqlalchemy.engine.Engine [cached since 36.35s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:59802 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:18:54,807 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:18:55,301 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:55,302 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:55,302 INFO sqlalchemy.engine.Engine [cached since 157.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:18:55,303 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:18:55,303 INFO sqlalchemy.engine.Engine [cached since 157.1s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59803 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:18:55,304 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:18:56,380 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:56,381 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:56,381 INFO sqlalchemy.engine.Engine [cached since 158.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:18:56,382 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:56,382 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:56,382 INFO sqlalchemy.engine.Engine [cached since 158.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:18:56,383 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:18:56,383 INFO sqlalchemy.engine.Engine [cached since 158.2s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:18:56,384 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:18:56,384 INFO sqlalchemy.engine.Engine [cached since 158.1s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59801 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:18:56,385 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59804 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:18:56,386 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:18:57,557 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:57,558 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:57,558 INFO sqlalchemy.engine.Engine [cached since 159.4s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:18:57,559 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:18:57,559 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:18:57,559 INFO sqlalchemy.engine.Engine [cached since 159.4s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:18:57,561 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:18:57,561 INFO sqlalchemy.engine.Engine [cached since 159.4s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:18:57,562 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:18:57,562 INFO sqlalchemy.engine.Engine [cached since 159.2s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59803 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:18:57,563 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59802 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:18:57,563 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:19:00,276 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:19:00,277 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:19:00,277 INFO sqlalchemy.engine.Engine [cached since 162.1s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:19:00,279 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:19:00,279 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:19:00,279 INFO sqlalchemy.engine.Engine [cached since 162.1s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:19:00,281 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:19:00,281 INFO sqlalchemy.engine.Engine [cached since 162.1s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:19:00,282 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:19:00,282 INFO sqlalchemy.engine.Engine [cached since 162.1s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59804 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:19:00,283 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:19:00,284 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:19:00,284 INFO sqlalchemy.engine.Engine [cached since 43.52s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:19:00,285 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:19:00,285 INFO sqlalchemy.engine.Engine [cached since 43.52s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:19:00,286 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 15:19:00,286 INFO sqlalchemy.engine.Engine [cached since 43.52s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:59801 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:19:00,288 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:19:07,877 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:19:07,877 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:19:07,877 INFO sqlalchemy.engine.Engine [cached since 169.7s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:59809 - "POST /token HTTP/1.1" 200 OK
2025-12-23 15:19:08,144 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:19:08,168 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:19:08,168 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:19:08,168 INFO sqlalchemy.engine.Engine [cached since 170s ago] {'username_1': 'admin'}
2025-12-23 15:19:08,171 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:19:08,171 INFO sqlalchemy.engine.Engine [cached since 170s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59809 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:19:08,172 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:19:08,201 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:19:08,201 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:19:08,201 INFO sqlalchemy.engine.Engine [cached since 170.1s ago] {'username_1': 'admin'}
2025-12-23 15:19:08,202 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:19:08,202 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:19:08,202 INFO sqlalchemy.engine.Engine [cached since 170.1s ago] {'username_1': 'admin'}
2025-12-23 15:19:08,203 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:19:08,203 INFO sqlalchemy.engine.Engine [cached since 170s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:19:08,204 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:19:08,204 INFO sqlalchemy.engine.Engine [cached since 122.8s ago] {}
2025-12-23 15:19:08,205 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:19:08,205 INFO sqlalchemy.engine.Engine [cached since 170s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:19:08,205 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:19:08,205 INFO sqlalchemy.engine.Engine [cached since 122.8s ago] {}
2025-12-23 15:19:08,206 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:19:08,206 INFO sqlalchemy.engine.Engine [cached since 122.8s ago] {}
2025-12-23 15:19:08,206 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> %(roles_1)s::JSONB AND tenants.is_super_admin = false
2025-12-23 15:19:08,206 INFO sqlalchemy.engine.Engine [cached since 122.8s ago] {'roles_1': Jsonb(['admin'])}
2025-12-23 15:19:08,207 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:19:08,207 INFO sqlalchemy.engine.Engine [cached since 122.8s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:19:08,208 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:19:08,208 INFO sqlalchemy.engine.Engine [cached since 122.8s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59810 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:19:08,208 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:19:08,209 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:19:08,209 INFO sqlalchemy.engine.Engine [cached since 122.8s ago] {}
INFO:     127.0.0.1:59809 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:19:08,210 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:19:12,370 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:19:12,372 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:19:12,372 INFO sqlalchemy.engine.Engine [cached since 174.2s ago] {'username_1': 'admin'}
2025-12-23 15:19:12,374 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:19:12,374 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:19:12,374 INFO sqlalchemy.engine.Engine [cached since 174.2s ago] {'username_1': 'admin'}
2025-12-23 15:19:12,376 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:19:12,376 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:19:12,376 INFO sqlalchemy.engine.Engine [cached since 174.2s ago] {'username_1': 'admin'}
2025-12-23 15:19:12,377 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:19:12,378 INFO sqlalchemy.engine.Engine [cached since 174.1s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:19:12,378 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:19:12,378 INFO sqlalchemy.engine.Engine [cached since 174.1s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59810 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:19:12,380 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59809 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:19:12,382 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:19:12,382 INFO sqlalchemy.engine.Engine [cached since 174.2s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:19:12,382 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59811 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:19:12,384 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:19:57,337 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:19:57,347 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:19:57,347 INFO sqlalchemy.engine.Engine [cached since 219.2s ago] {'username_1': 'admin'}
2025-12-23 15:19:57,349 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:19:57,349 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:19:57,349 INFO sqlalchemy.engine.Engine [cached since 219.2s ago] {'username_1': 'admin'}
2025-12-23 15:19:57,355 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:19:57,355 INFO sqlalchemy.engine.Engine [cached since 219s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:19:57,356 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:19:57,356 INFO sqlalchemy.engine.Engine [cached since 219.1s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59826 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:19:57,359 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59827 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:19:57,361 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:19:57,572 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:19:57,572 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:19:57,572 INFO sqlalchemy.engine.Engine [cached since 219.4s ago] {'username_1': 'admin'}
2025-12-23 15:19:57,579 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:19:57,579 INFO sqlalchemy.engine.Engine [cached since 219.4s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59827 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:19:57,582 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:19:58,032 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:19:58,032 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:19:58,032 INFO sqlalchemy.engine.Engine [cached since 219.9s ago] {'username_1': 'admin'}
2025-12-23 15:19:58,034 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:19:58,035 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:19:58,035 INFO sqlalchemy.engine.Engine [cached since 219.9s ago] {'username_1': 'admin'}
2025-12-23 15:19:58,040 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:19:58,040 INFO sqlalchemy.engine.Engine [cached since 219.7s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:19:58,041 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:19:58,041 INFO sqlalchemy.engine.Engine [cached since 219.8s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59831 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:19:58,042 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59830 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:19:58,042 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:19:58,597 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:19:58,597 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:19:58,597 INFO sqlalchemy.engine.Engine [cached since 220.4s ago] {'username_1': 'admin'}
2025-12-23 15:19:58,599 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:19:58,599 INFO sqlalchemy.engine.Engine [cached since 220.4s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59831 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:19:58,601 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:20:38,813 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:20:38,818 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:20:38,819 INFO sqlalchemy.engine.Engine [cached since 260.7s ago] {'username_1': 'admin'}
2025-12-23 15:20:38,826 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:20:38,827 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:20:38,827 INFO sqlalchemy.engine.Engine [cached since 260.7s ago] {'username_1': 'admin'}
2025-12-23 15:20:38,830 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:20:38,830 INFO sqlalchemy.engine.Engine [cached since 260.6s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:20:38,831 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:20:38,831 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:20:38,831 INFO sqlalchemy.engine.Engine [cached since 260.7s ago] {'username_1': 'admin'}
2025-12-23 15:20:38,833 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:20:38,833 INFO sqlalchemy.engine.Engine [cached since 213.5s ago] {}
2025-12-23 15:20:38,834 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:20:38,835 INFO sqlalchemy.engine.Engine [cached since 260.6s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:20:38,836 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:20:38,836 INFO sqlalchemy.engine.Engine [cached since 260.6s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:20:38,838 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:20:38,839 INFO sqlalchemy.engine.Engine [cached since 213.5s ago] {}
2025-12-23 15:20:38,842 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:20:38,842 INFO sqlalchemy.engine.Engine [cached since 213.5s ago] {}
INFO:     127.0.0.1:59845 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:20:38,848 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> %(roles_1)s::JSONB AND tenants.is_super_admin = false
2025-12-23 15:20:38,848 INFO sqlalchemy.engine.Engine [cached since 213.5s ago] {'roles_1': Jsonb(['admin'])}
2025-12-23 15:20:38,848 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:20:38,850 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:20:38,850 INFO sqlalchemy.engine.Engine [cached since 213.5s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:20:38,851 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:20:38,851 INFO sqlalchemy.engine.Engine [cached since 213.5s ago] {}
2025-12-23 15:20:38,854 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:20:38,854 INFO sqlalchemy.engine.Engine [cached since 213.5s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59843 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:20:38,856 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59844 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:20:38,862 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:20:42,840 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:20:42,840 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:20:42,841 INFO sqlalchemy.engine.Engine [cached since 264.7s ago] {'username_1': 'admin'}
2025-12-23 15:20:42,842 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:20:42,842 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:20:42,842 INFO sqlalchemy.engine.Engine [cached since 264.7s ago] {'username_1': 'admin'}
2025-12-23 15:20:42,843 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:20:42,843 INFO sqlalchemy.engine.Engine [cached since 264.6s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:20:42,844 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:20:42,844 INFO sqlalchemy.engine.Engine [cached since 264.6s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59843 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:20:42,845 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:20:42,846 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:20:42,846 INFO sqlalchemy.engine.Engine [cached since 217.5s ago] {}
2025-12-23 15:20:42,851 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:20:42,851 INFO sqlalchemy.engine.Engine [cached since 217.5s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:20:42,852 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:20:42,852 INFO sqlalchemy.engine.Engine [cached since 217.5s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59845 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:20:42,853 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:20:44,241 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:20:44,242 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:20:44,242 INFO sqlalchemy.engine.Engine [cached since 266.1s ago] {'username_1': 'admin'}
2025-12-23 15:20:44,243 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:20:44,244 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:20:44,244 INFO sqlalchemy.engine.Engine [cached since 266.1s ago] {'username_1': 'admin'}
2025-12-23 15:20:44,245 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:20:44,245 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:20:44,245 INFO sqlalchemy.engine.Engine [cached since 266.1s ago] {'username_1': 'admin'}
2025-12-23 15:20:44,246 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:20:44,246 INFO sqlalchemy.engine.Engine [cached since 266s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:20:44,246 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:20:44,247 INFO sqlalchemy.engine.Engine [cached since 266s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:20:44,247 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:20:44,247 INFO sqlalchemy.engine.Engine [cached since 218.9s ago] {}
2025-12-23 15:20:44,248 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:20:44,248 INFO sqlalchemy.engine.Engine [cached since 218.9s ago] {}
2025-12-23 15:20:44,249 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:20:44,249 INFO sqlalchemy.engine.Engine [cached since 266s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:20:44,249 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:20:44,249 INFO sqlalchemy.engine.Engine [cached since 218.9s ago] {}
2025-12-23 15:20:44,250 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:20:44,250 INFO sqlalchemy.engine.Engine [cached since 218.9s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59846 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:20:44,251 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> %(roles_1)s::JSONB AND tenants.is_super_admin = false
2025-12-23 15:20:44,251 INFO sqlalchemy.engine.Engine [cached since 218.9s ago] {'roles_1': Jsonb(['admin'])}
2025-12-23 15:20:44,251 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:20:44,251 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:20:44,252 INFO sqlalchemy.engine.Engine [cached since 218.9s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:20:44,252 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:20:44,252 INFO sqlalchemy.engine.Engine [cached since 218.9s ago] {}
INFO:     127.0.0.1:59845 - "GET /tenants HTTP/1.1" 200 OK
INFO:     127.0.0.1:59843 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:20:44,253 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:20:44,253 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:20:44,259 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:20:44,260 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:20:44,260 INFO sqlalchemy.engine.Engine [cached since 266.1s ago] {'username_1': 'admin'}
2025-12-23 15:20:44,260 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:20:44,260 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:20:44,261 INFO sqlalchemy.engine.Engine [cached since 266.1s ago] {'username_1': 'admin'}
2025-12-23 15:20:44,262 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:20:44,262 INFO sqlalchemy.engine.Engine [cached since 266.1s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:20:44,262 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:20:44,263 INFO sqlalchemy.engine.Engine [cached since 266.1s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:20:44,263 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:20:44,263 INFO sqlalchemy.engine.Engine [cached since 218.9s ago] {}
2025-12-23 15:20:44,264 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:20:44,264 INFO sqlalchemy.engine.Engine [cached since 218.9s ago] {}
2025-12-23 15:20:44,265 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:20:44,265 INFO sqlalchemy.engine.Engine [cached since 218.9s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:20:44,265 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:20:44,265 INFO sqlalchemy.engine.Engine [cached since 218.9s ago] {}
2025-12-23 15:20:44,266 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:20:44,266 INFO sqlalchemy.engine.Engine [cached since 218.9s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:20:44,266 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> %(roles_1)s::JSONB AND tenants.is_super_admin = false
2025-12-23 15:20:44,266 INFO sqlalchemy.engine.Engine [cached since 218.9s ago] {'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59845 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:20:44,267 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:20:44,269 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:20:44,269 INFO sqlalchemy.engine.Engine [cached since 218.9s ago] {}
INFO:     127.0.0.1:59846 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:20:44,269 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:20:51,360 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:20:51,361 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:20:51,361 INFO sqlalchemy.engine.Engine [cached since 273.2s ago] {'username_1': 'admin'}
2025-12-23 15:20:51,363 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:20:51,363 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:20:51,363 INFO sqlalchemy.engine.Engine [cached since 273.2s ago] {'username_1': 'admin'}
2025-12-23 15:20:51,368 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:20:51,368 INFO sqlalchemy.engine.Engine [cached since 273.2s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:20:51,369 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:20:51,369 INFO sqlalchemy.engine.Engine [cached since 273.2s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:20:51,369 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:20:51,369 INFO sqlalchemy.engine.Engine [cached since 226s ago] {}
INFO:     127.0.0.1:59851 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:20:51,371 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:20:51,371 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:20:51,371 INFO sqlalchemy.engine.Engine [cached since 226s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:20:51,372 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:20:51,372 INFO sqlalchemy.engine.Engine [cached since 226s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59850 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:20:51,373 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:20:57,427 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:20:57,428 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:20:57,428 INFO sqlalchemy.engine.Engine [cached since 279.3s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:59857 - "OPTIONS /settings HTTP/1.1" 200 OK
2025-12-23 15:20:57,431 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:20:57,431 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:20:57,431 INFO sqlalchemy.engine.Engine [cached since 279.3s ago] {'username_1': 'admin'}
2025-12-23 15:20:57,432 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:20:57,432 INFO sqlalchemy.engine.Engine [cached since 279.2s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:20:57,433 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:20:57,433 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:20:57,433 INFO sqlalchemy.engine.Engine [cached since 279.3s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:59856 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:20:57,435 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:20:57,435 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:20:57,435 INFO sqlalchemy.engine.Engine [cached since 279.2s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:20:57,436 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:20:57,436 INFO sqlalchemy.engine.Engine [cached since 279.1s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59858 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:20:57,437 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59857 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:20:57,438 INFO sqlalchemy.engine.Engine ROLLBACK
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [25269]
INFO:     Started server process [25471]
INFO:     Waiting for application startup.
2025-12-23 15:21:43,084 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 15:21:43,084 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 15:21:43,088 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 15:21:43,089 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 15:21:43,091 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 15:21:43,091 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 15:21:43,095 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:21:43,097 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:21:43,097 INFO sqlalchemy.engine.Engine [generated in 0.00011s] {'table_name': 'tenants', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:21:43,100 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:21:43,100 INFO sqlalchemy.engine.Engine [cached since 0.003231s ago] {'table_name': 'tenant_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:21:43,101 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:21:43,101 INFO sqlalchemy.engine.Engine [cached since 0.003623s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:21:43,101 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:21:43,101 INFO sqlalchemy.engine.Engine [cached since 0.003963s ago] {'table_name': 'patients', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:21:43,101 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:21:43,101 INFO sqlalchemy.engine.Engine [cached since 0.004295s ago] {'table_name': 'clinical_records', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:21:43,102 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:21:43,102 INFO sqlalchemy.engine.Engine [cached since 0.004603s ago] {'table_name': 'appointments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:21:43,102 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:21:43,103 INFO sqlalchemy.engine.Engine [cached since 0.00535s ago] {'table_name': 'attachments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:21:43,103 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:21:43,103 INFO sqlalchemy.engine.Engine [cached since 0.005628s ago] {'table_name': 'prescriptions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:21:43,103 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:21:43,103 INFO sqlalchemy.engine.Engine [cached since 0.005872s ago] {'table_name': 'invoices', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:21:43,103 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-12-23 15:21:46,096 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:21:46,106 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:21:46,106 INFO sqlalchemy.engine.Engine [generated in 0.00035s] {'username_1': 'admin'}
2025-12-23 15:21:46,113 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:21:46,113 INFO sqlalchemy.engine.Engine [generated in 0.00010s] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:21:46,115 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:21:46,115 INFO sqlalchemy.engine.Engine [generated in 0.00008s] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59878 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:21:46,116 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:21:46,356 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:21:46,356 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:21:46,356 INFO sqlalchemy.engine.Engine [cached since 0.2499s ago] {'username_1': 'admin'}
2025-12-23 15:21:46,357 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:21:46,357 INFO sqlalchemy.engine.Engine [cached since 0.2446s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:21:46,358 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:21:46,358 INFO sqlalchemy.engine.Engine [cached since 0.2432s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59880 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:21:46,359 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:21:47,395 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:21:47,396 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:21:47,396 INFO sqlalchemy.engine.Engine [cached since 1.29s ago] {'username_1': 'admin'}
2025-12-23 15:21:47,399 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:21:47,399 INFO sqlalchemy.engine.Engine [cached since 1.287s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:21:47,400 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:21:47,400 INFO sqlalchemy.engine.Engine [cached since 1.286s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59878 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:21:47,402 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:21:47,410 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:21:47,410 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:21:47,410 INFO sqlalchemy.engine.Engine [cached since 1.304s ago] {'username_1': 'admin'}
2025-12-23 15:21:47,411 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:21:47,411 INFO sqlalchemy.engine.Engine [cached since 1.299s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:21:47,412 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:21:47,412 INFO sqlalchemy.engine.Engine [cached since 1.297s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59880 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:21:47,413 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59907 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 15:22:32,442 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:22:32,446 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:22:32,446 INFO sqlalchemy.engine.Engine [cached since 46.34s ago] {'username_1': 'admin'}
2025-12-23 15:22:32,449 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:22:32,449 INFO sqlalchemy.engine.Engine [cached since 46.34s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:22:32,450 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:22:32,450 INFO sqlalchemy.engine.Engine [cached since 46.34s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59907 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:22:32,451 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59907 - "OPTIONS /users HTTP/1.1" 200 OK
2025-12-23 15:22:32,484 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:22:32,484 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:22:32,484 INFO sqlalchemy.engine.Engine [cached since 46.38s ago] {'username_1': 'admin'}
2025-12-23 15:22:32,504 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:22:32,504 INFO sqlalchemy.engine.Engine [cached since 46.39s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59908 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:22:32,504 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:22:32,740 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:22:32,741 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:22:32,741 INFO sqlalchemy.engine.Engine [cached since 46.64s ago] {'username_1': 'admin'}
2025-12-23 15:22:32,745 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:22:32,750 INFO sqlalchemy.engine.Engine [generated in 0.00495s] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59907 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:22:32,752 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59908 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
INFO:     127.0.0.1:59907 - "OPTIONS /tenants HTTP/1.1" 200 OK
2025-12-23 15:22:36,242 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:22:36,242 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:22:36,242 INFO sqlalchemy.engine.Engine [cached since 50.14s ago] {'username_1': 'admin'}
2025-12-23 15:22:36,244 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:22:36,244 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:22:36,244 INFO sqlalchemy.engine.Engine [cached since 50.14s ago] {'username_1': 'admin'}
2025-12-23 15:22:36,246 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:22:36,246 INFO sqlalchemy.engine.Engine [cached since 50.13s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:22:36,247 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:22:36,247 INFO sqlalchemy.engine.Engine [cached since 50.13s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:22:36,250 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:22:36,250 INFO sqlalchemy.engine.Engine [generated in 0.00016s] {}
2025-12-23 15:22:36,251 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:22:36,251 INFO sqlalchemy.engine.Engine [generated in 0.00010s] {}
2025-12-23 15:22:36,255 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:22:36,255 INFO sqlalchemy.engine.Engine [generated in 0.00028s] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:22:36,256 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:22:36,256 INFO sqlalchemy.engine.Engine [generated in 0.00012s] {}
2025-12-23 15:22:36,257 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:22:36,257 INFO sqlalchemy.engine.Engine [cached since 0.002887s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59907 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:22:36,258 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:22:36,260 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> %(roles_1)s::JSONB AND tenants.is_super_admin = false
2025-12-23 15:22:36,260 INFO sqlalchemy.engine.Engine [generated in 0.00010s] {'roles_1': Jsonb(['admin'])}
2025-12-23 15:22:36,262 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:22:36,262 INFO sqlalchemy.engine.Engine [generated in 0.00008s] {}
INFO:     127.0.0.1:59908 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:22:36,263 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:22:36,286 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:22:36,286 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:22:36,286 INFO sqlalchemy.engine.Engine [cached since 50.18s ago] {'username_1': 'admin'}
2025-12-23 15:22:36,289 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:22:36,289 INFO sqlalchemy.engine.Engine [cached since 50.18s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:22:36,290 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:22:36,290 INFO sqlalchemy.engine.Engine [cached since 50.18s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59910 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:22:36,291 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:22:36,307 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:22:36,307 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:22:36,308 INFO sqlalchemy.engine.Engine [cached since 50.2s ago] {'username_1': 'admin'}
2025-12-23 15:22:36,308 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:22:36,309 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:22:36,309 INFO sqlalchemy.engine.Engine [cached since 50.2s ago] {'username_1': 'admin'}
2025-12-23 15:22:36,310 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:22:36,310 INFO sqlalchemy.engine.Engine [cached since 50.2s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:22:36,311 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:22:36,311 INFO sqlalchemy.engine.Engine [cached since 50.2s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:22:36,312 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:22:36,312 INFO sqlalchemy.engine.Engine [cached since 0.06225s ago] {}
2025-12-23 15:22:36,313 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:22:36,313 INFO sqlalchemy.engine.Engine [cached since 0.06185s ago] {}
2025-12-23 15:22:36,313 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:22:36,313 INFO sqlalchemy.engine.Engine [cached since 0.05694s ago] {}
2025-12-23 15:22:36,314 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:22:36,314 INFO sqlalchemy.engine.Engine [cached since 0.05921s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:22:36,314 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:22:36,314 INFO sqlalchemy.engine.Engine [cached since 0.05978s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:22:36,315 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> %(roles_1)s::JSONB AND tenants.is_super_admin = false
2025-12-23 15:22:36,315 INFO sqlalchemy.engine.Engine [cached since 0.05473s ago] {'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59908 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:22:36,315 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:22:36,315 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:22:36,316 INFO sqlalchemy.engine.Engine [cached since 0.05327s ago] {}
INFO:     127.0.0.1:59907 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:22:36,316 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:22:42,079 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:22:42,079 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:22:42,079 INFO sqlalchemy.engine.Engine [cached since 55.97s ago] {'username_1': 'admin'}
2025-12-23 15:22:42,081 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:22:42,081 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:22:42,081 INFO sqlalchemy.engine.Engine [cached since 55.98s ago] {'username_1': 'admin'}
2025-12-23 15:22:42,082 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:22:42,082 INFO sqlalchemy.engine.Engine [cached since 55.97s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:22:42,083 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:22:42,083 INFO sqlalchemy.engine.Engine [cached since 5.833s ago] {}
2025-12-23 15:22:42,084 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:22:42,084 INFO sqlalchemy.engine.Engine [cached since 55.97s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:22:42,085 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:22:42,085 INFO sqlalchemy.engine.Engine [cached since 5.831s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:22:42,086 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:22:42,086 INFO sqlalchemy.engine.Engine [cached since 55.97s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:22:42,086 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:22:42,086 INFO sqlalchemy.engine.Engine [cached since 5.832s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59914 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:22:42,087 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59913 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:22:42,088 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:22:46,341 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:22:46,342 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:22:46,342 INFO sqlalchemy.engine.Engine [cached since 60.24s ago] {'username_1': 'admin'}
2025-12-23 15:22:46,344 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:22:46,344 INFO sqlalchemy.engine.Engine [cached since 60.23s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:22:46,344 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:22:46,344 INFO sqlalchemy.engine.Engine [cached since 60.23s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59914 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:22:46,346 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:22:46,359 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:22:46,359 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:22:46,359 INFO sqlalchemy.engine.Engine [cached since 60.25s ago] {'username_1': 'admin'}
2025-12-23 15:22:46,365 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:22:46,365 INFO sqlalchemy.engine.Engine [cached since 60.25s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:22:46,367 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:22:46,367 INFO sqlalchemy.engine.Engine [cached since 10.12s ago] {}
2025-12-23 15:22:46,369 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:22:46,369 INFO sqlalchemy.engine.Engine [cached since 10.11s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:22:46,370 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:22:46,370 INFO sqlalchemy.engine.Engine [cached since 10.12s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59913 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:22:46,372 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:23:31,190 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:23:31,198 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:23:31,199 INFO sqlalchemy.engine.Engine [cached since 105.1s ago] {'username_1': 'admin'}
2025-12-23 15:23:31,201 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:23:31,201 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:23:31,201 INFO sqlalchemy.engine.Engine [cached since 105.1s ago] {'username_1': 'admin'}
2025-12-23 15:23:31,202 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:23:31,202 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:23:31,202 INFO sqlalchemy.engine.Engine [cached since 105.1s ago] {'username_1': 'admin'}
2025-12-23 15:23:31,217 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:23:31,217 INFO sqlalchemy.engine.Engine [cached since 105.1s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:31,217 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:23:31,217 INFO sqlalchemy.engine.Engine [cached since 105.1s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:31,218 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:23:31,218 INFO sqlalchemy.engine.Engine [cached since 105.1s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:31,218 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:23:31,218 INFO sqlalchemy.engine.Engine [cached since 54.97s ago] {}
2025-12-23 15:23:31,218 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:23:31,218 INFO sqlalchemy.engine.Engine [cached since 105.1s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:31,219 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:23:31,219 INFO sqlalchemy.engine.Engine [cached since 54.97s ago] {}
2025-12-23 15:23:31,219 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:23:31,219 INFO sqlalchemy.engine.Engine [cached since 54.96s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59929 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:23:31,220 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:23:31,221 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:23:31,221 INFO sqlalchemy.engine.Engine [cached since 54.97s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:23:31,221 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:23:31,221 INFO sqlalchemy.engine.Engine [cached since 54.96s ago] {}
INFO:     127.0.0.1:59928 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:23:31,221 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:23:31,224 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> %(roles_1)s::JSONB AND tenants.is_super_admin = false
2025-12-23 15:23:31,224 INFO sqlalchemy.engine.Engine [cached since 54.96s ago] {'roles_1': Jsonb(['admin'])}
2025-12-23 15:23:31,226 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:23:31,226 INFO sqlalchemy.engine.Engine [cached since 54.96s ago] {}
INFO:     127.0.0.1:59927 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:23:31,227 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:23:31,233 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:23:31,233 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:23:31,233 INFO sqlalchemy.engine.Engine [cached since 105.1s ago] {'username_1': 'admin'}
2025-12-23 15:23:31,234 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:23:31,234 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:23:31,234 INFO sqlalchemy.engine.Engine [cached since 105.1s ago] {'username_1': 'admin'}
2025-12-23 15:23:31,235 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:23:31,235 INFO sqlalchemy.engine.Engine [cached since 105.1s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:31,235 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:23:31,235 INFO sqlalchemy.engine.Engine [cached since 105.1s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:31,236 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:23:31,236 INFO sqlalchemy.engine.Engine [cached since 54.99s ago] {}
2025-12-23 15:23:31,236 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:23:31,236 INFO sqlalchemy.engine.Engine [cached since 54.99s ago] {}
2025-12-23 15:23:31,237 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:23:31,237 INFO sqlalchemy.engine.Engine [cached since 54.98s ago] {}
2025-12-23 15:23:31,238 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:23:31,238 INFO sqlalchemy.engine.Engine [cached since 54.98s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:23:31,238 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> %(roles_1)s::JSONB AND tenants.is_super_admin = false
2025-12-23 15:23:31,239 INFO sqlalchemy.engine.Engine [cached since 54.98s ago] {'roles_1': Jsonb(['admin'])}
2025-12-23 15:23:31,239 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:23:31,239 INFO sqlalchemy.engine.Engine [cached since 54.98s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:23:31,239 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:23:31,239 INFO sqlalchemy.engine.Engine [cached since 54.98s ago] {}
INFO:     127.0.0.1:59928 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:23:31,240 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59929 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:23:31,241 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:23:33,511 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:23:33,511 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:23:33,512 INFO sqlalchemy.engine.Engine [cached since 107.4s ago] {'username_1': 'admin'}
2025-12-23 15:23:33,513 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:23:33,513 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:23:33,513 INFO sqlalchemy.engine.Engine [cached since 107.4s ago] {'username_1': 'admin'}
2025-12-23 15:23:33,514 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:23:33,514 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:23:33,514 INFO sqlalchemy.engine.Engine [cached since 107.4s ago] {'username_1': 'admin'}
2025-12-23 15:23:33,515 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:23:33,515 INFO sqlalchemy.engine.Engine [cached since 60.77s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:33,516 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:23:33,516 INFO sqlalchemy.engine.Engine [cached since 107.4s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:33,516 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:23:33,516 INFO sqlalchemy.engine.Engine [cached since 107.4s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59927 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:23:33,517 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59928 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:23:33,518 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:23:33,518 INFO sqlalchemy.engine.Engine [cached since 107.4s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:33,518 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59929 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:23:33,519 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:23:34,366 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:23:34,367 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:23:34,367 INFO sqlalchemy.engine.Engine [cached since 108.3s ago] {'username_1': 'admin'}
2025-12-23 15:23:34,369 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:23:34,369 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:23:34,370 INFO sqlalchemy.engine.Engine [cached since 108.3s ago] {'username_1': 'admin'}
2025-12-23 15:23:34,371 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:23:34,371 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:23:34,371 INFO sqlalchemy.engine.Engine [cached since 108.3s ago] {'username_1': 'admin'}
2025-12-23 15:23:34,373 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:23:34,373 INFO sqlalchemy.engine.Engine [cached since 108.3s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:34,374 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:23:34,374 INFO sqlalchemy.engine.Engine [cached since 108.3s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:34,375 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:23:34,375 INFO sqlalchemy.engine.Engine [cached since 108.3s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:34,376 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:23:34,376 INFO sqlalchemy.engine.Engine [cached since 58.13s ago] {}
2025-12-23 15:23:34,377 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:23:34,378 INFO sqlalchemy.engine.Engine [cached since 108.3s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:34,380 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:23:34,380 INFO sqlalchemy.engine.Engine [cached since 58.13s ago] {}
2025-12-23 15:23:34,381 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:23:34,381 INFO sqlalchemy.engine.Engine [cached since 58.12s ago] {}
INFO:     127.0.0.1:59929 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:23:34,383 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:23:34,383 INFO sqlalchemy.engine.Engine [cached since 58.13s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:23:34,384 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:23:34,384 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> %(roles_1)s::JSONB AND tenants.is_super_admin = false
2025-12-23 15:23:34,384 INFO sqlalchemy.engine.Engine [cached since 58.12s ago] {'roles_1': Jsonb(['admin'])}
2025-12-23 15:23:34,387 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:23:34,387 INFO sqlalchemy.engine.Engine [cached since 58.13s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:23:34,389 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:23:34,390 INFO sqlalchemy.engine.Engine [cached since 58.13s ago] {}
INFO:     127.0.0.1:59928 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:23:34,392 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59927 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:23:34,393 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:23:36,395 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:23:36,396 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:23:36,396 INFO sqlalchemy.engine.Engine [cached since 110.3s ago] {'username_1': 'admin'}
2025-12-23 15:23:36,397 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:23:36,397 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:23:36,397 INFO sqlalchemy.engine.Engine [cached since 110.3s ago] {'username_1': 'admin'}
2025-12-23 15:23:36,398 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:23:36,399 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:23:36,399 INFO sqlalchemy.engine.Engine [cached since 110.3s ago] {'username_1': 'admin'}
2025-12-23 15:23:36,400 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:23:36,400 INFO sqlalchemy.engine.Engine [cached since 110.3s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:36,401 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:23:36,401 INFO sqlalchemy.engine.Engine [cached since 63.66s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:36,401 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:23:36,402 INFO sqlalchemy.engine.Engine [cached since 110.3s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59928 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:23:36,402 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59929 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:23:36,403 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:23:36,403 INFO sqlalchemy.engine.Engine [cached since 110.3s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:36,404 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59927 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:23:36,404 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:23:37,966 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:23:37,967 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:23:37,967 INFO sqlalchemy.engine.Engine [cached since 111.9s ago] {'username_1': 'admin'}
2025-12-23 15:23:37,969 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:23:37,969 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:23:37,969 INFO sqlalchemy.engine.Engine [cached since 111.9s ago] {'username_1': 'admin'}
2025-12-23 15:23:37,971 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:23:37,971 INFO sqlalchemy.engine.Engine [cached since 111.9s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:37,972 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:23:37,972 INFO sqlalchemy.engine.Engine [cached since 111.9s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:37,973 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:23:37,973 INFO sqlalchemy.engine.Engine [cached since 61.72s ago] {}
2025-12-23 15:23:37,973 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:23:37,973 INFO sqlalchemy.engine.Engine [cached since 111.9s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:37,974 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:23:37,974 INFO sqlalchemy.engine.Engine [cached since 61.72s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59929 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:23:37,975 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:23:37,976 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:23:37,976 INFO sqlalchemy.engine.Engine [cached since 61.72s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59928 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:23:37,977 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:23:49,059 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:23:49,063 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:23:49,064 INFO sqlalchemy.engine.Engine [cached since 123s ago] {'username_1': 'admin'}
2025-12-23 15:23:49,066 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:23:49,066 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:23:49,066 INFO sqlalchemy.engine.Engine [cached since 123s ago] {'username_1': 'admin'}
2025-12-23 15:23:49,067 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:23:49,067 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:23:49,067 INFO sqlalchemy.engine.Engine [cached since 123s ago] {'username_1': 'admin'}
2025-12-23 15:23:49,070 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:23:49,070 INFO sqlalchemy.engine.Engine [cached since 123s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:49,070 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:23:49,070 INFO sqlalchemy.engine.Engine [cached since 123s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:49,070 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:23:49,070 INFO sqlalchemy.engine.Engine [cached since 123s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:49,071 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:23:49,071 INFO sqlalchemy.engine.Engine [cached since 72.82s ago] {}
2025-12-23 15:23:49,071 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:23:49,071 INFO sqlalchemy.engine.Engine [cached since 123s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:49,071 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:23:49,071 INFO sqlalchemy.engine.Engine [cached since 72.82s ago] {}
2025-12-23 15:23:49,072 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:23:49,072 INFO sqlalchemy.engine.Engine [cached since 72.82s ago] {}
INFO:     127.0.0.1:59934 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:23:49,073 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:23:49,073 INFO sqlalchemy.engine.Engine [cached since 72.82s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:23:49,073 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:23:49,073 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> %(roles_1)s::JSONB AND tenants.is_super_admin = false
2025-12-23 15:23:49,073 INFO sqlalchemy.engine.Engine [cached since 72.81s ago] {'roles_1': Jsonb(['admin'])}
2025-12-23 15:23:49,074 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:23:49,074 INFO sqlalchemy.engine.Engine [cached since 72.82s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:23:49,074 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:23:49,074 INFO sqlalchemy.engine.Engine [cached since 72.81s ago] {}
INFO:     127.0.0.1:59933 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:23:49,075 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59932 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:23:49,075 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:23:49,081 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:23:49,082 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:23:49,082 INFO sqlalchemy.engine.Engine [cached since 123s ago] {'username_1': 'admin'}
2025-12-23 15:23:49,082 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:23:49,082 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:23:49,082 INFO sqlalchemy.engine.Engine [cached since 123s ago] {'username_1': 'admin'}
2025-12-23 15:23:49,083 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:23:49,083 INFO sqlalchemy.engine.Engine [cached since 123s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:49,084 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:23:49,084 INFO sqlalchemy.engine.Engine [cached since 123s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:49,084 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:23:49,084 INFO sqlalchemy.engine.Engine [cached since 72.83s ago] {}
2025-12-23 15:23:49,084 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:23:49,084 INFO sqlalchemy.engine.Engine [cached since 72.83s ago] {}
2025-12-23 15:23:49,085 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:23:49,085 INFO sqlalchemy.engine.Engine [cached since 72.83s ago] {}
2025-12-23 15:23:49,085 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:23:49,085 INFO sqlalchemy.engine.Engine [cached since 72.83s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:23:49,086 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> %(roles_1)s::JSONB AND tenants.is_super_admin = false
2025-12-23 15:23:49,086 INFO sqlalchemy.engine.Engine [cached since 72.83s ago] {'roles_1': Jsonb(['admin'])}
2025-12-23 15:23:49,086 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:23:49,086 INFO sqlalchemy.engine.Engine [cached since 72.83s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:23:49,087 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:23:49,087 INFO sqlalchemy.engine.Engine [cached since 72.82s ago] {}
INFO:     127.0.0.1:59933 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:23:49,087 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59934 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:23:49,087 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:23:50,536 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:23:50,536 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:23:50,536 INFO sqlalchemy.engine.Engine [cached since 124.4s ago] {'username_1': 'admin'}
2025-12-23 15:23:50,537 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:23:50,538 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:23:50,538 INFO sqlalchemy.engine.Engine [cached since 124.4s ago] {'username_1': 'admin'}
2025-12-23 15:23:50,539 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:23:50,539 INFO sqlalchemy.engine.Engine [cached since 124.4s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:50,540 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:23:50,540 INFO sqlalchemy.engine.Engine [cached since 124.4s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:50,541 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:23:50,541 INFO sqlalchemy.engine.Engine [cached since 74.29s ago] {}
2025-12-23 15:23:50,542 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:23:50,542 INFO sqlalchemy.engine.Engine [cached since 124.4s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:50,542 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:23:50,542 INFO sqlalchemy.engine.Engine [cached since 74.29s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59933 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:23:50,543 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:23:50,544 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:23:50,544 INFO sqlalchemy.engine.Engine [cached since 74.29s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59932 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:23:50,545 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:23:51,305 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:23:51,306 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:23:51,306 INFO sqlalchemy.engine.Engine [cached since 125.2s ago] {'username_1': 'admin'}
2025-12-23 15:23:51,307 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:23:51,307 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:23:51,307 INFO sqlalchemy.engine.Engine [cached since 125.2s ago] {'username_1': 'admin'}
2025-12-23 15:23:51,308 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:23:51,308 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:23:51,308 INFO sqlalchemy.engine.Engine [cached since 125.2s ago] {'username_1': 'admin'}
2025-12-23 15:23:51,309 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:23:51,309 INFO sqlalchemy.engine.Engine [cached since 125.2s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:51,309 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:23:51,310 INFO sqlalchemy.engine.Engine [cached since 78.56s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:51,310 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:23:51,310 INFO sqlalchemy.engine.Engine [cached since 125.2s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59933 - "GET /settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:59934 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:23:51,311 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:23:51,311 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:23:51,312 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:23:51,312 INFO sqlalchemy.engine.Engine [cached since 125.2s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:59932 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:23:51,313 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:23:52,189 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:23:52,189 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:23:52,189 INFO sqlalchemy.engine.Engine [cached since 126.1s ago] {'username_1': 'admin'}
2025-12-23 15:23:52,190 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:23:52,191 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:23:52,191 INFO sqlalchemy.engine.Engine [cached since 126.1s ago] {'username_1': 'admin'}
2025-12-23 15:23:52,191 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:23:52,192 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:23:52,192 INFO sqlalchemy.engine.Engine [cached since 126.1s ago] {'username_1': 'admin'}
2025-12-23 15:23:52,193 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:23:52,193 INFO sqlalchemy.engine.Engine [cached since 126.1s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:52,193 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:23:52,193 INFO sqlalchemy.engine.Engine [cached since 126.1s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:52,194 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:23:52,194 INFO sqlalchemy.engine.Engine [cached since 126.1s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:52,194 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:23:52,195 INFO sqlalchemy.engine.Engine [cached since 75.94s ago] {}
2025-12-23 15:23:52,195 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:23:52,195 INFO sqlalchemy.engine.Engine [cached since 75.95s ago] {}
2025-12-23 15:23:52,196 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:23:52,196 INFO sqlalchemy.engine.Engine [cached since 126.1s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:52,197 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:23:52,197 INFO sqlalchemy.engine.Engine [cached since 75.94s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:23:52,197 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:23:52,197 INFO sqlalchemy.engine.Engine [cached since 75.94s ago] {}
INFO:     127.0.0.1:59932 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:23:52,198 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:23:52,199 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:23:52,199 INFO sqlalchemy.engine.Engine [cached since 75.94s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:23:52,201 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> %(roles_1)s::JSONB AND tenants.is_super_admin = false
2025-12-23 15:23:52,201 INFO sqlalchemy.engine.Engine [cached since 75.94s ago] {'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59933 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:23:52,201 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:23:52,202 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:23:52,202 INFO sqlalchemy.engine.Engine [cached since 75.94s ago] {}
INFO:     127.0.0.1:59934 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:23:52,203 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:23:52,206 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:23:52,206 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:23:52,206 INFO sqlalchemy.engine.Engine [cached since 126.1s ago] {'username_1': 'admin'}
2025-12-23 15:23:52,207 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:23:52,207 INFO sqlalchemy.engine.Engine [cached since 126.1s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:23:52,208 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:23:52,208 INFO sqlalchemy.engine.Engine [cached since 75.96s ago] {}
2025-12-23 15:23:52,208 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:23:52,208 INFO sqlalchemy.engine.Engine [cached since 75.95s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 15:23:52,209 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:23:52,209 INFO sqlalchemy.engine.Engine [cached since 75.95s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59932 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:23:52,210 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:24:00,053 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:24:00,055 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:24:00,056 INFO sqlalchemy.engine.Engine [cached since 133.9s ago] {'username_1': 'admin'}
2025-12-23 15:24:00,059 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:24:00,060 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:24:00,060 INFO sqlalchemy.engine.Engine [cached since 134s ago] {'username_1': 'admin'}
2025-12-23 15:24:00,065 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:24:00,065 INFO sqlalchemy.engine.Engine [cached since 134s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:24:00,066 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:24:00,066 INFO sqlalchemy.engine.Engine [cached since 134s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:24:00,066 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:24:00,066 INFO sqlalchemy.engine.Engine [cached since 83.82s ago] {}
2025-12-23 15:24:00,067 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:24:00,067 INFO sqlalchemy.engine.Engine [cached since 134s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:24:00,068 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:24:00,068 INFO sqlalchemy.engine.Engine [cached since 83.81s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59938 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:24:00,070 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:24:00,071 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 15:24:00,071 INFO sqlalchemy.engine.Engine [cached since 83.82s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:59937 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:24:00,072 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59938 - "OPTIONS /tenants/68923952-1085-4d0e-85bf-66bbbb8ad0c7/impersonate HTTP/1.1" 200 OK
2025-12-23 15:24:03,001 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:24:03,002 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:24:03,002 INFO sqlalchemy.engine.Engine [cached since 136.9s ago] {'username_1': 'admin'}
2025-12-23 15:24:03,021 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:24:03,021 INFO sqlalchemy.engine.Engine [cached since 136.9s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 15:24:03,024 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER
2025-12-23 15:24:03,024 INFO sqlalchemy.engine.Engine [generated in 0.00011s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 1}
2025-12-23 15:24:03,026 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:24:03,026 INFO sqlalchemy.engine.Engine [cached since 90.28s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59937 - "POST /tenants/68923952-1085-4d0e-85bf-66bbbb8ad0c7/impersonate HTTP/1.1" 200 OK
2025-12-23 15:24:03,029 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:24:03,660 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:24:03,660 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:24:03,661 INFO sqlalchemy.engine.Engine [cached since 137.6s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:24:03,663 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:24:03,663 INFO sqlalchemy.engine.Engine [cached since 137.6s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:24:03,664 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:24:03,664 INFO sqlalchemy.engine.Engine [cached since 137.5s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59938 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:24:03,665 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:24:03,682 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:24:03,682 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:24:03,682 INFO sqlalchemy.engine.Engine [cached since 137.6s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:24:03,684 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:24:03,685 INFO sqlalchemy.engine.Engine [cached since 137.6s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:24:03,688 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:24:03,689 INFO sqlalchemy.engine.Engine [generated in 0.00019s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:24:03,690 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:24:03,690 INFO sqlalchemy.engine.Engine [generated in 0.00014s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:24:03,692 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 15:24:03,692 INFO sqlalchemy.engine.Engine [generated in 0.00015s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:59937 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:24:03,698 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59938 - "OPTIONS /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:59937 - "OPTIONS /patients HTTP/1.1" 200 OK
2025-12-23 15:24:06,620 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:24:06,620 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:24:06,620 INFO sqlalchemy.engine.Engine [cached since 140.5s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:24:06,622 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:24:06,623 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:24:06,623 INFO sqlalchemy.engine.Engine [cached since 140.5s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:24:06,624 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:24:06,624 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:24:06,624 INFO sqlalchemy.engine.Engine [cached since 140.5s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:24:06,639 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 15:24:06,639 INFO sqlalchemy.engine.Engine [generated in 0.00018s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 200}
2025-12-23 15:24:06,643 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 15:24:06,643 INFO sqlalchemy.engine.Engine [generated in 0.00013s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 100, 'param_2': 0}
2025-12-23 15:24:06,670 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:24:06,670 INFO sqlalchemy.engine.Engine [cached since 93.93s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59938 - "GET /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:59937 - "GET /patients HTTP/1.1" 200 OK
INFO:     127.0.0.1:59948 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:24:06,673 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:24:06,673 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:24:06,673 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:24:06,747 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:24:06,747 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:24:06,747 INFO sqlalchemy.engine.Engine [cached since 140.6s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:24:06,750 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:24:06,750 INFO sqlalchemy.engine.Engine [cached since 140.6s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:24:06,751 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:24:06,751 INFO sqlalchemy.engine.Engine [cached since 140.6s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59949 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:24:06,752 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:24:07,742 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:24:07,743 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:24:07,743 INFO sqlalchemy.engine.Engine [cached since 141.6s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:24:07,744 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:24:07,744 INFO sqlalchemy.engine.Engine [cached since 141.6s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:24:07,745 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:24:07,745 INFO sqlalchemy.engine.Engine [cached since 141.6s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59938 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:24:07,746 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59948 - "OPTIONS /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:24:08,047 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:24:08,048 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:24:08,048 INFO sqlalchemy.engine.Engine [cached since 141.9s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:24:08,050 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 15:24:08,050 INFO sqlalchemy.engine.Engine [cached since 1.407s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:59937 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:24:08,051 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:24:08,607 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:24:08,608 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:24:08,608 INFO sqlalchemy.engine.Engine [cached since 142.5s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:24:08,609 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:24:08,609 INFO sqlalchemy.engine.Engine [cached since 142.5s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:24:08,610 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:24:08,610 INFO sqlalchemy.engine.Engine [cached since 142.5s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59949 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:24:08,611 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:24:09,517 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:24:09,518 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:24:09,518 INFO sqlalchemy.engine.Engine [cached since 143.4s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:24:09,519 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:24:09,519 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:24:09,519 INFO sqlalchemy.engine.Engine [cached since 143.4s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:24:09,520 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:24:09,520 INFO sqlalchemy.engine.Engine [cached since 96.78s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:24:09,521 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:24:09,521 INFO sqlalchemy.engine.Engine [cached since 143.4s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59938 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:24:09,522 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:24:09,523 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:24:09,523 INFO sqlalchemy.engine.Engine [cached since 143.4s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59948 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:24:09,523 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:24:14,016 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:24:14,017 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:24:14,017 INFO sqlalchemy.engine.Engine [cached since 147.9s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:24:14,017 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:24:14,018 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:24:14,018 INFO sqlalchemy.engine.Engine [cached since 147.9s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:24:14,019 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:24:14,019 INFO sqlalchemy.engine.Engine [cached since 147.9s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:24:14,019 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:24:14,019 INFO sqlalchemy.engine.Engine [cached since 147.9s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:24:14,020 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:24:14,020 INFO sqlalchemy.engine.Engine [cached since 147.9s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59938 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:24:14,021 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59948 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:24:14,021 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59938 - "GET /static/uploads/68923952-1085-4d0e-85bf-66bbbb8ad0c7_logo.svg HTTP/1.1" 304 Not Modified
INFO:     127.0.0.1:59948 - "OPTIONS /settings HTTP/1.1" 200 OK
2025-12-23 15:24:16,456 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:24:16,458 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:24:16,458 INFO sqlalchemy.engine.Engine [cached since 150.4s ago] {'username_1': 'apollo_admin'}
2025-12-23 15:24:16,462 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:24:16,462 INFO sqlalchemy.engine.Engine [cached since 150.3s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:24:16,472 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:59938 - "PATCH /settings HTTP/1.1" 200 OK
2025-12-23 15:24:40,428 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:24:40,429 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:24:40,429 INFO sqlalchemy.engine.Engine [cached since 174.3s ago] {'username_1': 'dr_jhatka'}
INFO:     127.0.0.1:59958 - "POST /token HTTP/1.1" 200 OK
2025-12-23 15:24:40,699 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:24:40,715 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:24:40,715 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:24:40,715 INFO sqlalchemy.engine.Engine [cached since 174.6s ago] {'username_1': 'dr_jhatka'}
2025-12-23 15:24:40,718 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:24:40,718 INFO sqlalchemy.engine.Engine [cached since 174.6s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:24:40,719 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:24:40,719 INFO sqlalchemy.engine.Engine [cached since 174.6s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59958 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:24:40,720 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:24:40,729 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:24:40,730 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:24:40,730 INFO sqlalchemy.engine.Engine [cached since 174.6s ago] {'username_1': 'dr_jhatka'}
2025-12-23 15:24:40,733 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:24:40,733 INFO sqlalchemy.engine.Engine [cached since 174.6s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:24:40,735 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:24:40,735 INFO sqlalchemy.engine.Engine [cached since 37.05s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:24:40,736 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:24:40,736 INFO sqlalchemy.engine.Engine [cached since 37.05s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:24:40,736 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 15:24:40,736 INFO sqlalchemy.engine.Engine [cached since 37.04s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:59958 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:24:40,737 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:24:42,517 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:24:42,518 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:24:42,518 INFO sqlalchemy.engine.Engine [cached since 176.4s ago] {'username_1': 'dr_jhatka'}
2025-12-23 15:24:42,519 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:24:42,520 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:24:42,520 INFO sqlalchemy.engine.Engine [cached since 176.4s ago] {'username_1': 'dr_jhatka'}
2025-12-23 15:24:42,521 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:24:42,521 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:24:42,521 INFO sqlalchemy.engine.Engine [cached since 176.4s ago] {'username_1': 'dr_jhatka'}
2025-12-23 15:24:42,522 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 15:24:42,522 INFO sqlalchemy.engine.Engine [cached since 35.88s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 200}
2025-12-23 15:24:42,523 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:24:42,523 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:24:42,523 INFO sqlalchemy.engine.Engine [cached since 176.4s ago] {'username_1': 'dr_jhatka'}
2025-12-23 15:24:42,524 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 15:24:42,525 INFO sqlalchemy.engine.Engine [cached since 35.88s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 100, 'param_2': 0}
2025-12-23 15:24:42,525 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:24:42,525 INFO sqlalchemy.engine.Engine [cached since 129.8s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59958 - "GET /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:59959 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 15:24:42,527 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:24:42,527 INFO sqlalchemy.engine.Engine [cached since 176.4s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:24:42,527 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:24:42,527 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:59960 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:24:42,528 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:24:42,529 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:24:42,529 INFO sqlalchemy.engine.Engine [cached since 176.4s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59961 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:24:42,530 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:24:43,808 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:24:43,808 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:24:43,808 INFO sqlalchemy.engine.Engine [cached since 177.7s ago] {'username_1': 'dr_jhatka'}
2025-12-23 15:24:43,810 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:24:43,810 INFO sqlalchemy.engine.Engine [cached since 177.7s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:24:43,811 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:24:43,811 INFO sqlalchemy.engine.Engine [cached since 177.7s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59959 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:24:43,812 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:24:44,107 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:24:44,108 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:24:44,108 INFO sqlalchemy.engine.Engine [cached since 178s ago] {'username_1': 'dr_jhatka'}
2025-12-23 15:24:44,112 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 15:24:44,112 INFO sqlalchemy.engine.Engine [cached since 37.47s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:59958 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:24:44,114 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:24:44,974 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:24:44,975 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:24:44,975 INFO sqlalchemy.engine.Engine [cached since 178.9s ago] {'username_1': 'dr_jhatka'}
2025-12-23 15:24:44,983 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:24:44,983 INFO sqlalchemy.engine.Engine [cached since 178.9s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:24:44,986 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:24:44,986 INFO sqlalchemy.engine.Engine [cached since 178.9s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59960 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:24:44,988 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:24:56,580 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:24:56,581 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:24:56,581 INFO sqlalchemy.engine.Engine [cached since 190.5s ago] {'username_1': 'dr_jhatka'}
2025-12-23 15:24:56,583 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:24:56,583 INFO sqlalchemy.engine.Engine [cached since 190.5s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:24:56,585 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:24:56,585 INFO sqlalchemy.engine.Engine [cached since 190.5s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59964 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:24:56,586 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:24:56,880 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:24:56,881 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:24:56,881 INFO sqlalchemy.engine.Engine [cached since 190.8s ago] {'username_1': 'dr_jhatka'}
2025-12-23 15:24:56,884 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 15:24:56,885 INFO sqlalchemy.engine.Engine [cached since 50.24s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:59964 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:24:56,890 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:25:33,700 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:25:33,701 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:25:33,701 INFO sqlalchemy.engine.Engine [cached since 227.6s ago] {'username_1': 'dr_jhatka'}
2025-12-23 15:25:33,703 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:25:33,703 INFO sqlalchemy.engine.Engine [cached since 227.6s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:25:33,704 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:25:33,704 INFO sqlalchemy.engine.Engine [cached since 227.6s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59969 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:25:33,705 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:25:34,773 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:25:34,774 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:25:34,774 INFO sqlalchemy.engine.Engine [cached since 228.7s ago] {'username_1': 'dr_jhatka'}
2025-12-23 15:25:34,777 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:25:34,777 INFO sqlalchemy.engine.Engine [cached since 228.7s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:25:34,778 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:25:34,778 INFO sqlalchemy.engine.Engine [cached since 228.7s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59969 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:25:34,780 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:25:35,071 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:25:35,072 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:25:35,072 INFO sqlalchemy.engine.Engine [cached since 229s ago] {'username_1': 'dr_jhatka'}
2025-12-23 15:25:35,076 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 15:25:35,077 INFO sqlalchemy.engine.Engine [cached since 88.43s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:59969 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:25:35,079 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:25:35,402 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:25:35,403 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:25:35,403 INFO sqlalchemy.engine.Engine [cached since 229.3s ago] {'username_1': 'dr_jhatka'}
2025-12-23 15:25:35,405 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:25:35,406 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:25:35,406 INFO sqlalchemy.engine.Engine [cached since 229.3s ago] {'username_1': 'dr_jhatka'}
2025-12-23 15:25:35,407 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 15:25:35,407 INFO sqlalchemy.engine.Engine [cached since 88.77s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 200}
2025-12-23 15:25:35,408 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:25:35,408 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:25:35,408 INFO sqlalchemy.engine.Engine [cached since 229.3s ago] {'username_1': 'dr_jhatka'}
2025-12-23 15:25:35,409 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:25:35,409 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:25:35,409 INFO sqlalchemy.engine.Engine [cached since 229.3s ago] {'username_1': 'dr_jhatka'}
INFO:     127.0.0.1:59969 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 15:25:35,410 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:25:35,411 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 15:25:35,411 INFO sqlalchemy.engine.Engine [cached since 88.77s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 100, 'param_2': 0}
2025-12-23 15:25:35,412 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:25:35,412 INFO sqlalchemy.engine.Engine [cached since 182.7s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:25:35,413 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:25:35,413 INFO sqlalchemy.engine.Engine [cached since 229.3s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59970 - "GET /patients HTTP/1.1" 200 OK
INFO:     127.0.0.1:59971 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:25:35,414 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:25:35,414 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:25:35,415 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:25:35,415 INFO sqlalchemy.engine.Engine [cached since 229.3s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59972 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:25:35,417 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:25:35,954 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:25:35,954 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:25:35,954 INFO sqlalchemy.engine.Engine [cached since 229.8s ago] {'username_1': 'dr_jhatka'}
2025-12-23 15:25:35,955 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:25:35,956 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:25:35,956 INFO sqlalchemy.engine.Engine [cached since 229.8s ago] {'username_1': 'dr_jhatka'}
2025-12-23 15:25:35,957 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:25:35,957 INFO sqlalchemy.engine.Engine [cached since 229.8s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:25:35,958 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:25:35,958 INFO sqlalchemy.engine.Engine [cached since 229.8s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:25:35,959 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:25:35,959 INFO sqlalchemy.engine.Engine [cached since 229.8s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:25:35,960 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:25:35,960 INFO sqlalchemy.engine.Engine [cached since 92.27s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59970 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:25:35,961 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:25:35,962 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:25:35,962 INFO sqlalchemy.engine.Engine [cached since 92.27s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:25:35,963 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 15:25:35,963 INFO sqlalchemy.engine.Engine [cached since 92.27s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:59969 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:25:35,965 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:25:35,969 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:25:35,970 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:25:35,970 INFO sqlalchemy.engine.Engine [cached since 229.9s ago] {'username_1': 'dr_jhatka'}
2025-12-23 15:25:35,971 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:25:35,971 INFO sqlalchemy.engine.Engine [cached since 229.9s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:25:35,972 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:25:35,972 INFO sqlalchemy.engine.Engine [cached since 92.28s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:25:35,973 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:25:35,973 INFO sqlalchemy.engine.Engine [cached since 92.28s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:25:35,974 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 15:25:35,974 INFO sqlalchemy.engine.Engine [cached since 92.28s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:59971 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:25:35,976 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:25:36,965 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:25:36,965 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 15:25:36,965 INFO sqlalchemy.engine.Engine [cached since 230.9s ago] {'username_1': 'dr_jhatka'}
2025-12-23 15:25:36,967 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 15:25:36,968 INFO sqlalchemy.engine.Engine [cached since 230.9s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 15:25:36,969 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 15:25:36,969 INFO sqlalchemy.engine.Engine [cached since 230.9s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:59972 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:25:36,970 INFO sqlalchemy.engine.Engine ROLLBACK
WARNING:  WatchFiles detected changes in 'test_db_connection.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [25471]
WARNING:  WatchFiles detected changes in 'test_db_connection.py'. Reloading...
INFO:     Started server process [25775]
INFO:     Waiting for application startup.
2025-12-23 15:36:04,180 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 15:36:04,180 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 15:36:04,193 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 15:36:04,193 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 15:36:04,194 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 15:36:04,194 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 15:36:04,201 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:36:04,203 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:36:04,203 INFO sqlalchemy.engine.Engine [generated in 0.00010s] {'table_name': 'tenants', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:36:04,205 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:36:04,206 INFO sqlalchemy.engine.Engine [cached since 0.002984s ago] {'table_name': 'tenant_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:36:04,206 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:36:04,206 INFO sqlalchemy.engine.Engine [cached since 0.003338s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:36:04,206 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:36:04,206 INFO sqlalchemy.engine.Engine [cached since 0.003628s ago] {'table_name': 'patients', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:36:04,206 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:36:04,206 INFO sqlalchemy.engine.Engine [cached since 0.003883s ago] {'table_name': 'clinical_records', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:36:04,207 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:36:04,207 INFO sqlalchemy.engine.Engine [cached since 0.004127s ago] {'table_name': 'appointments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:36:04,207 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:36:04,207 INFO sqlalchemy.engine.Engine [cached since 0.004628s ago] {'table_name': 'attachments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:36:04,207 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:36:04,207 INFO sqlalchemy.engine.Engine [cached since 0.004878s ago] {'table_name': 'prescriptions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:36:04,208 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:36:04,208 INFO sqlalchemy.engine.Engine [cached since 0.005119s ago] {'table_name': 'invoices', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:36:04,208 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     Started server process [25779]
INFO:     Waiting for application startup.
2025-12-23 15:36:04,981 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 15:36:04,981 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 15:36:04,982 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 15:36:04,982 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 15:36:04,982 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 15:36:04,982 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 15:36:04,984 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:36:04,986 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:36:04,986 INFO sqlalchemy.engine.Engine [generated in 0.00011s] {'table_name': 'tenants', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:36:04,987 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:36:04,987 INFO sqlalchemy.engine.Engine [cached since 0.001389s ago] {'table_name': 'tenant_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:36:04,987 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:36:04,987 INFO sqlalchemy.engine.Engine [cached since 0.00175s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:36:04,988 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:36:04,988 INFO sqlalchemy.engine.Engine [cached since 0.002089s ago] {'table_name': 'patients', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:36:04,988 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:36:04,988 INFO sqlalchemy.engine.Engine [cached since 0.002397s ago] {'table_name': 'clinical_records', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:36:04,988 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:36:04,988 INFO sqlalchemy.engine.Engine [cached since 0.002705s ago] {'table_name': 'appointments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:36:04,989 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:36:04,989 INFO sqlalchemy.engine.Engine [cached since 0.003142s ago] {'table_name': 'attachments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:36:04,989 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:36:04,989 INFO sqlalchemy.engine.Engine [cached since 0.003406s ago] {'table_name': 'prescriptions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:36:04,989 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:36:04,989 INFO sqlalchemy.engine.Engine [cached since 0.003665s ago] {'table_name': 'invoices', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:36:04,990 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'venv/lib/python3.13/site-packages/asyncpg/prepared_stmt.py', 'venv/lib/python3.13/site-packages/asyncpg/connection.py', 'venv/lib/python3.13/site-packages/asyncpg/pool.py', 'venv/lib/python3.13/site-packages/asyncpg/transaction.py', 'venv/lib/python3.13/site-packages/asyncpg/utils.py', 'venv/lib/python3.13/site-packages/asyncpg/compat.py', 'venv/lib/python3.13/site-packages/asyncpg/types.py', 'venv/lib/python3.13/site-packages/asyncpg/protocol/__init__.py', 'venv/lib/python3.13/site-packages/asyncpg/_version.py', 'venv/lib/python3.13/site-packages/asyncpg/_asyncio_compat.py', 'venv/lib/python3.13/site-packages/asyncpg/_testbase/fuzzer.py', 'venv/lib/python3.13/site-packages/asyncpg/cursor.py', 'venv/lib/python3.13/site-packages/asyncpg/introspection.py', 'venv/lib/python3.13/site-packages/asyncpg/exceptions/_base.py', 'venv/lib/python3.13/site-packages/asyncpg/__init__.py', 'venv/lib/python3.13/site-packages/asyncpg/connect_utils.py', 'venv/lib/python3.13/site-packages/asyncpg/serverversion.py', 'venv/lib/python3.13/site-packages/asyncpg/protocol/codecs/__init__.py', 'venv/lib/python3.13/site-packages/asyncpg/cluster.py', 'venv/lib/python3.13/site-packages/asyncpg/exceptions/__init__.py', 'venv/lib/python3.13/site-packages/asyncpg/connresource.py', 'venv/lib/python3.13/site-packages/asyncpg/pgproto/types.py', 'venv/lib/python3.13/site-packages/asyncpg/_testbase/__init__.py', 'venv/lib/python3.13/site-packages/asyncpg/pgproto/__init__.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [25779]
INFO:     Started server process [26158]
INFO:     Waiting for application startup.
2025-12-23 15:36:19,347 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 15:36:19,348 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 15:36:19,350 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 15:36:19,350 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 15:36:19,351 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 15:36:19,351 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 15:36:19,353 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:36:19,357 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:36:19,357 INFO sqlalchemy.engine.Engine [generated in 0.00013s] {'table_name': 'tenants', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:36:19,359 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:36:19,359 INFO sqlalchemy.engine.Engine [cached since 0.002585s ago] {'table_name': 'tenant_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:36:19,359 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:36:19,359 INFO sqlalchemy.engine.Engine [cached since 0.002942s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:36:19,360 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:36:19,360 INFO sqlalchemy.engine.Engine [cached since 0.00322s ago] {'table_name': 'patients', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:36:19,360 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:36:19,360 INFO sqlalchemy.engine.Engine [cached since 0.003468s ago] {'table_name': 'clinical_records', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:36:19,360 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:36:19,360 INFO sqlalchemy.engine.Engine [cached since 0.003711s ago] {'table_name': 'appointments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:36:19,361 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:36:19,361 INFO sqlalchemy.engine.Engine [cached since 0.00414s ago] {'table_name': 'attachments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:36:19,361 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:36:19,361 INFO sqlalchemy.engine.Engine [cached since 0.004414s ago] {'table_name': 'prescriptions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:36:19,361 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 15:36:19,361 INFO sqlalchemy.engine.Engine [cached since 0.00466s ago] {'table_name': 'invoices', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 15:36:19,361 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'database.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [26158]
INFO:     Started server process [26186]
INFO:     Waiting for application startup.
WARNING:  WatchFiles detected changes in 'seed_apollo.py'. Reloading...
2025-12-23 15:36:32,992 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 15:36:32,992 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:36:32,994 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 15:36:32,994 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:36:32,994 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 15:36:32,994 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:36:32,995 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:36:32,998 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:32,998 INFO sqlalchemy.engine.Engine [generated in 0.00012s] ('tenants', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:33,001 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:33,001 INFO sqlalchemy.engine.Engine [cached since 0.002734s ago] ('tenant_settings', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:33,001 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:33,001 INFO sqlalchemy.engine.Engine [cached since 0.003042s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:33,001 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:33,001 INFO sqlalchemy.engine.Engine [cached since 0.003313s ago] ('patients', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:33,002 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:33,002 INFO sqlalchemy.engine.Engine [cached since 0.003553s ago] ('clinical_records', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:33,002 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:33,002 INFO sqlalchemy.engine.Engine [cached since 0.003773s ago] ('appointments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:33,002 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:33,002 INFO sqlalchemy.engine.Engine [cached since 0.004011s ago] ('attachments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:33,002 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:33,002 INFO sqlalchemy.engine.Engine [cached since 0.004212s ago] ('prescriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:33,002 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:33,002 INFO sqlalchemy.engine.Engine [cached since 0.004385s ago] ('invoices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:33,003 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'seed_apollo.py'. Reloading...
INFO:     Started server process [26199]
INFO:     Waiting for application startup.
2025-12-23 15:36:33,732 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 15:36:33,732 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:36:33,733 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 15:36:33,733 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:36:33,733 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 15:36:33,733 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:36:33,734 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:36:33,736 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:33,736 INFO sqlalchemy.engine.Engine [generated in 0.00008s] ('tenants', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:33,737 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:33,737 INFO sqlalchemy.engine.Engine [cached since 0.001724s ago] ('tenant_settings', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:33,738 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:33,738 INFO sqlalchemy.engine.Engine [cached since 0.002017s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:33,738 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:33,738 INFO sqlalchemy.engine.Engine [cached since 0.002296s ago] ('patients', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:33,738 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:33,738 INFO sqlalchemy.engine.Engine [cached since 0.002559s ago] ('clinical_records', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:33,739 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:33,739 INFO sqlalchemy.engine.Engine [cached since 0.002811s ago] ('appointments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:33,739 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:33,739 INFO sqlalchemy.engine.Engine [cached since 0.003055s ago] ('attachments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:33,739 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:33,739 INFO sqlalchemy.engine.Engine [cached since 0.003236s ago] ('prescriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:33,739 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:33,739 INFO sqlalchemy.engine.Engine [cached since 0.003413s ago] ('invoices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:33,739 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     Started server process [26202]
INFO:     Waiting for application startup.
2025-12-23 15:36:34,182 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 15:36:34,182 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:36:34,183 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 15:36:34,183 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:36:34,184 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 15:36:34,184 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:36:34,184 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:36:34,186 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:34,186 INFO sqlalchemy.engine.Engine [generated in 0.00010s] ('tenants', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:34,187 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:34,187 INFO sqlalchemy.engine.Engine [cached since 0.001416s ago] ('tenant_settings', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:34,188 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:34,188 INFO sqlalchemy.engine.Engine [cached since 0.001656s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:34,188 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:34,188 INFO sqlalchemy.engine.Engine [cached since 0.001854s ago] ('patients', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:34,188 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:34,188 INFO sqlalchemy.engine.Engine [cached since 0.002058s ago] ('clinical_records', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:34,188 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:34,188 INFO sqlalchemy.engine.Engine [cached since 0.002284s ago] ('appointments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:34,188 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:34,188 INFO sqlalchemy.engine.Engine [cached since 0.002489s ago] ('attachments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:34,189 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:34,189 INFO sqlalchemy.engine.Engine [cached since 0.002636s ago] ('prescriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:34,189 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:34,189 INFO sqlalchemy.engine.Engine [cached since 0.002777s ago] ('invoices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:34,189 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'fix_schema.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [26202]
WARNING:  WatchFiles detected changes in 'fix_schema.py'. Reloading...
INFO:     Started server process [26335]
INFO:     Waiting for application startup.
2025-12-23 15:36:52,764 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 15:36:52,764 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:36:52,765 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 15:36:52,765 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:36:52,766 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 15:36:52,766 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:36:52,767 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:36:52,768 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:52,768 INFO sqlalchemy.engine.Engine [generated in 0.00009s] ('tenants', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:52,770 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:52,770 INFO sqlalchemy.engine.Engine [cached since 0.001769s ago] ('tenant_settings', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:52,770 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:52,770 INFO sqlalchemy.engine.Engine [cached since 0.002048s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:52,770 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:52,770 INFO sqlalchemy.engine.Engine [cached since 0.002287s ago] ('patients', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:52,771 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:52,771 INFO sqlalchemy.engine.Engine [cached since 0.00251s ago] ('clinical_records', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:52,771 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:52,771 INFO sqlalchemy.engine.Engine [cached since 0.002729s ago] ('appointments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:52,771 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:52,771 INFO sqlalchemy.engine.Engine [cached since 0.002951s ago] ('attachments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:52,771 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:52,771 INFO sqlalchemy.engine.Engine [cached since 0.00312s ago] ('prescriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:52,771 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:52,771 INFO sqlalchemy.engine.Engine [cached since 0.003282s ago] ('invoices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:52,772 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     Started server process [26338]
INFO:     Waiting for application startup.
2025-12-23 15:36:53,785 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 15:36:53,785 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:36:53,786 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 15:36:53,786 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:36:53,788 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 15:36:53,788 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:36:53,790 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:36:53,794 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:53,794 INFO sqlalchemy.engine.Engine [generated in 0.00029s] ('tenants', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:53,798 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:53,798 INFO sqlalchemy.engine.Engine [cached since 0.004402s ago] ('tenant_settings', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:53,799 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:53,799 INFO sqlalchemy.engine.Engine [cached since 0.005194s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:53,799 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:53,799 INFO sqlalchemy.engine.Engine [cached since 0.005591s ago] ('patients', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:53,800 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:53,800 INFO sqlalchemy.engine.Engine [cached since 0.005918s ago] ('clinical_records', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:53,800 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:53,800 INFO sqlalchemy.engine.Engine [cached since 0.006335s ago] ('appointments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:53,801 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:53,801 INFO sqlalchemy.engine.Engine [cached since 0.006878s ago] ('attachments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:53,801 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:53,801 INFO sqlalchemy.engine.Engine [cached since 0.007094s ago] ('prescriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:53,801 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:36:53,801 INFO sqlalchemy.engine.Engine [cached since 0.007262s ago] ('invoices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:36:53,801 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'fix_schema.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [26338]
INFO:     Started server process [26497]
INFO:     Waiting for application startup.
2025-12-23 15:37:12,219 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 15:37:12,220 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:37:12,228 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 15:37:12,228 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:37:12,229 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 15:37:12,229 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:37:12,230 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:37:12,232 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:12,232 INFO sqlalchemy.engine.Engine [generated in 0.00010s] ('tenants', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:12,237 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:12,237 INFO sqlalchemy.engine.Engine [cached since 0.004693s ago] ('tenant_settings', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:12,237 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:12,237 INFO sqlalchemy.engine.Engine [cached since 0.004998s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:12,237 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:12,237 INFO sqlalchemy.engine.Engine [cached since 0.00527s ago] ('patients', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:12,237 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:12,237 INFO sqlalchemy.engine.Engine [cached since 0.005524s ago] ('clinical_records', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:12,238 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:12,238 INFO sqlalchemy.engine.Engine [cached since 0.005769s ago] ('appointments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:12,238 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:12,238 INFO sqlalchemy.engine.Engine [cached since 0.006025s ago] ('attachments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:12,238 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:12,238 INFO sqlalchemy.engine.Engine [cached since 0.006206s ago] ('prescriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:12,238 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:12,238 INFO sqlalchemy.engine.Engine [cached since 0.006392s ago] ('invoices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:12,239 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'inspect_schema.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [26497]
WARNING:  WatchFiles detected changes in 'inspect_schema.py'. Reloading...
INFO:     Started server process [26652]
INFO:     Waiting for application startup.
2025-12-23 15:37:31,569 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 15:37:31,569 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:37:31,570 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 15:37:31,570 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:37:31,570 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 15:37:31,570 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:37:31,571 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:37:31,573 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:31,573 INFO sqlalchemy.engine.Engine [generated in 0.00009s] ('tenants', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:31,579 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:31,579 INFO sqlalchemy.engine.Engine [cached since 0.006093s ago] ('tenant_settings', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:31,579 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:31,579 INFO sqlalchemy.engine.Engine [cached since 0.006393s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:31,579 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:31,579 INFO sqlalchemy.engine.Engine [cached since 0.006637s ago] ('patients', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:31,580 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:31,580 INFO sqlalchemy.engine.Engine [cached since 0.006922s ago] ('clinical_records', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:31,580 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:31,580 INFO sqlalchemy.engine.Engine [cached since 0.00716s ago] ('appointments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:31,580 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:31,580 INFO sqlalchemy.engine.Engine [cached since 0.007391s ago] ('attachments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:31,580 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:31,580 INFO sqlalchemy.engine.Engine [cached since 0.00759s ago] ('prescriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:31,580 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:31,581 INFO sqlalchemy.engine.Engine [cached since 0.007758s ago] ('invoices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:31,581 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     Started server process [26661]
INFO:     Waiting for application startup.
2025-12-23 15:37:32,011 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 15:37:32,011 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:37:32,012 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 15:37:32,012 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:37:32,013 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 15:37:32,013 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:37:32,014 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:37:32,015 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:32,015 INFO sqlalchemy.engine.Engine [generated in 0.00009s] ('tenants', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:32,017 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:32,017 INFO sqlalchemy.engine.Engine [cached since 0.001819s ago] ('tenant_settings', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:32,017 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:32,017 INFO sqlalchemy.engine.Engine [cached since 0.002096s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:32,018 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:32,018 INFO sqlalchemy.engine.Engine [cached since 0.002327s ago] ('patients', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:32,018 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:32,018 INFO sqlalchemy.engine.Engine [cached since 0.002548s ago] ('clinical_records', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:32,018 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:32,018 INFO sqlalchemy.engine.Engine [cached since 0.002784s ago] ('appointments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:32,018 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:32,018 INFO sqlalchemy.engine.Engine [cached since 0.003007s ago] ('attachments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:32,018 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:32,018 INFO sqlalchemy.engine.Engine [cached since 0.00317s ago] ('prescriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:32,019 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:32,019 INFO sqlalchemy.engine.Engine [cached since 0.003332s ago] ('invoices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:32,019 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'models.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [26661]
INFO:     Started server process [26796]
INFO:     Waiting for application startup.
2025-12-23 15:37:49,811 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 15:37:49,811 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:37:49,812 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 15:37:49,812 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:37:49,813 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 15:37:49,813 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:37:49,814 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:37:49,816 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:49,816 INFO sqlalchemy.engine.Engine [generated in 0.00011s] ('tenants', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:49,817 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:49,817 INFO sqlalchemy.engine.Engine [cached since 0.001684s ago] ('tenant_settings', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:49,817 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:49,818 INFO sqlalchemy.engine.Engine [cached since 0.002045s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:49,818 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:49,818 INFO sqlalchemy.engine.Engine [cached since 0.002311s ago] ('patients', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:49,818 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:49,818 INFO sqlalchemy.engine.Engine [cached since 0.002609s ago] ('clinical_records', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:49,818 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:49,818 INFO sqlalchemy.engine.Engine [cached since 0.002826s ago] ('appointments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:49,819 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:49,819 INFO sqlalchemy.engine.Engine [cached since 0.003203s ago] ('attachments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:49,819 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:49,819 INFO sqlalchemy.engine.Engine [cached since 0.003666s ago] ('prescriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:49,819 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:37:49,819 INFO sqlalchemy.engine.Engine [cached since 0.00387s ago] ('invoices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:37:49,820 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     127.0.0.1:60203 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 15:39:07,320 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:39:07,344 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:39:07,344 INFO sqlalchemy.engine.Engine [generated in 0.00020s] ('dr_jhatka',)
2025-12-23 15:39:07,374 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:39:07,374 INFO sqlalchemy.engine.Engine [generated in 0.00010s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:39:07,376 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:39:07,376 INFO sqlalchemy.engine.Engine [generated in 0.00007s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60203 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:39:07,379 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60203 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:39:09,335 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:39:09,336 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:39:09,337 INFO sqlalchemy.engine.Engine [cached since 1.993s ago] ('dr_jhatka',)
2025-12-23 15:39:09,365 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:39:09,365 INFO sqlalchemy.engine.Engine [cached since 1.991s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:39:09,367 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 15:39:09,367 INFO sqlalchemy.engine.Engine [generated in 0.00010s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:39:09,372 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:39:09,372 INFO sqlalchemy.engine.Engine [generated in 0.00007s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:39:09,374 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 15:39:09,374 INFO sqlalchemy.engine.Engine [generated in 0.00007s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:60203 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:39:09,377 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:39:09,433 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:39:09,434 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:39:09,434 INFO sqlalchemy.engine.Engine [cached since 2.09s ago] ('dr_jhatka',)
2025-12-23 15:39:09,436 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:39:09,436 INFO sqlalchemy.engine.Engine [cached since 2.062s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:39:09,437 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:39:09,437 INFO sqlalchemy.engine.Engine [cached since 2.061s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60204 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:39:09,438 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:39:09,442 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:39:09,442 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:39:09,442 INFO sqlalchemy.engine.Engine [cached since 2.099s ago] ('dr_jhatka',)
2025-12-23 15:39:09,443 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:39:09,443 INFO sqlalchemy.engine.Engine [cached since 2.069s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:39:09,444 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 15:39:09,444 INFO sqlalchemy.engine.Engine [cached since 0.07669s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:39:09,444 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:39:09,444 INFO sqlalchemy.engine.Engine [cached since 0.07173s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:39:09,444 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 15:39:09,444 INFO sqlalchemy.engine.Engine [cached since 0.07074s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:60203 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:39:09,445 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60209 - "OPTIONS /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:60210 - "OPTIONS /patients HTTP/1.1" 200 OK
INFO:     127.0.0.1:60211 - "OPTIONS /users HTTP/1.1" 200 OK
2025-12-23 15:39:14,707 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:39:14,708 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:39:14,708 INFO sqlalchemy.engine.Engine [cached since 7.364s ago] ('dr_jhatka',)
2025-12-23 15:39:14,709 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:39:14,710 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:39:14,710 INFO sqlalchemy.engine.Engine [cached since 7.366s ago] ('dr_jhatka',)
2025-12-23 15:39:14,720 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT $2::INTEGER
2025-12-23 15:39:14,720 INFO sqlalchemy.engine.Engine [generated in 0.00014s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 200)
2025-12-23 15:39:14,721 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:39:14,721 INFO sqlalchemy.engine.Engine [cached since 7.347s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:39:14,724 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:39:14,724 INFO sqlalchemy.engine.Engine [cached since 7.348s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60212 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:39:14,725 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60209 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 15:39:14,727 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:39:14,759 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:39:14,760 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:39:14,760 INFO sqlalchemy.engine.Engine [cached since 7.416s ago] ('dr_jhatka',)
2025-12-23 15:39:14,760 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:39:14,760 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:39:14,761 INFO sqlalchemy.engine.Engine [cached since 7.417s ago] ('dr_jhatka',)
2025-12-23 15:39:14,763 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:39:14,764 INFO sqlalchemy.engine.Engine [generated in 0.00023s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:39:14,769 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 15:39:14,769 INFO sqlalchemy.engine.Engine [generated in 0.00020s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 100, 0)
INFO:     127.0.0.1:60211 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:39:14,771 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60210 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 15:39:14,773 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:39:15,890 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:39:15,891 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:39:15,891 INFO sqlalchemy.engine.Engine [cached since 8.547s ago] ('dr_jhatka',)
2025-12-23 15:39:15,892 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:39:15,892 INFO sqlalchemy.engine.Engine [cached since 8.518s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:39:15,893 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:39:15,893 INFO sqlalchemy.engine.Engine [cached since 8.517s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60212 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:39:15,894 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60209 - "OPTIONS /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:39:16,197 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:39:16,198 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:39:16,198 INFO sqlalchemy.engine.Engine [cached since 8.854s ago] ('dr_jhatka',)
2025-12-23 15:39:16,200 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 15:39:16,201 INFO sqlalchemy.engine.Engine [cached since 1.431s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:60211 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:39:16,204 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60219 - "OPTIONS /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 15:39:31,424 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:39:31,424 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:39:31,424 INFO sqlalchemy.engine.Engine [cached since 24.08s ago] ('dr_jhatka',)
2025-12-23 15:39:31,426 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:39:31,426 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:39:31,426 INFO sqlalchemy.engine.Engine [cached since 24.08s ago] ('dr_jhatka',)
2025-12-23 15:39:31,432 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 15:39:31,433 INFO sqlalchemy.engine.Engine [generated in 0.00042s] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 15:39:31,434 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:39:31,434 INFO sqlalchemy.engine.Engine [cached since 24.06s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:39:31,438 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 15:39:31,439 INFO sqlalchemy.engine.Engine [generated in 0.00026s] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 15:39:31,439 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:39:31,439 INFO sqlalchemy.engine.Engine [cached since 24.06s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60220 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:39:31,441 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:39:31,444 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 15:39:31,444 INFO sqlalchemy.engine.Engine [generated in 0.00030s] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 15:39:31,446 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 15:39:31,446 INFO sqlalchemy.engine.Engine [generated in 0.00011s] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60219 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 15:39:31,450 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:39:41,747 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:39:41,748 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:39:41,748 INFO sqlalchemy.engine.Engine [cached since 34.4s ago] ('dr_jhatka',)
2025-12-23 15:39:41,751 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:39:41,751 INFO sqlalchemy.engine.Engine [cached since 34.38s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:39:41,751 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:39:41,751 INFO sqlalchemy.engine.Engine [cached since 34.37s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60229 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:39:41,752 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:39:41,761 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:39:41,761 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:39:41,761 INFO sqlalchemy.engine.Engine [cached since 34.42s ago] ('dr_jhatka',)
2025-12-23 15:39:41,762 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:39:41,762 INFO sqlalchemy.engine.Engine [cached since 34.39s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:39:41,763 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 15:39:41,763 INFO sqlalchemy.engine.Engine [cached since 32.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:39:41,763 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:39:41,763 INFO sqlalchemy.engine.Engine [cached since 32.39s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:39:41,763 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 15:39:41,763 INFO sqlalchemy.engine.Engine [cached since 32.39s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:60229 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:39:41,764 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:39:45,461 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:39:45,462 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:39:45,462 INFO sqlalchemy.engine.Engine [cached since 38.12s ago] ('dr_jhatka',)
2025-12-23 15:39:45,464 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:39:45,464 INFO sqlalchemy.engine.Engine [cached since 38.09s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:39:45,465 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:39:45,465 INFO sqlalchemy.engine.Engine [cached since 38.09s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60229 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:39:45,467 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:39:45,767 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:39:45,768 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:39:45,768 INFO sqlalchemy.engine.Engine [cached since 38.42s ago] ('dr_jhatka',)
2025-12-23 15:39:45,773 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 15:39:45,773 INFO sqlalchemy.engine.Engine [cached since 31s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:60229 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:39:45,777 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:39:50,829 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:39:50,831 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:39:50,831 INFO sqlalchemy.engine.Engine [cached since 43.49s ago] ('dr_jhatka',)
2025-12-23 15:39:50,833 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:39:50,833 INFO sqlalchemy.engine.Engine [cached since 43.46s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:39:50,834 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:39:50,834 INFO sqlalchemy.engine.Engine [cached since 43.46s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60233 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:39:50,835 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:39:55,197 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:39:55,198 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:39:55,198 INFO sqlalchemy.engine.Engine [cached since 47.85s ago] ('dr_jhatka',)
2025-12-23 15:39:55,199 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:39:55,199 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:39:55,199 INFO sqlalchemy.engine.Engine [cached since 47.86s ago] ('dr_jhatka',)
2025-12-23 15:39:55,200 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:39:55,200 INFO sqlalchemy.engine.Engine [cached since 47.83s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:39:55,201 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:39:55,201 INFO sqlalchemy.engine.Engine [cached since 47.83s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:39:55,201 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 15:39:55,201 INFO sqlalchemy.engine.Engine [cached since 45.83s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:39:55,202 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:39:55,202 INFO sqlalchemy.engine.Engine [cached since 47.83s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:39:55,202 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:39:55,202 INFO sqlalchemy.engine.Engine [cached since 45.83s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60234 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:39:55,203 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:39:55,204 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 15:39:55,204 INFO sqlalchemy.engine.Engine [cached since 45.83s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:60233 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:39:55,205 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:39:55,209 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:39:55,209 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:39:55,209 INFO sqlalchemy.engine.Engine [cached since 47.86s ago] ('dr_jhatka',)
2025-12-23 15:39:55,210 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:39:55,210 INFO sqlalchemy.engine.Engine [cached since 47.84s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:39:55,213 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 15:39:55,213 INFO sqlalchemy.engine.Engine [cached since 45.85s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:39:55,214 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:39:55,214 INFO sqlalchemy.engine.Engine [cached since 45.84s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:39:55,215 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 15:39:55,215 INFO sqlalchemy.engine.Engine [cached since 45.84s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:60234 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:39:55,216 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:39:56,240 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:39:56,241 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:39:56,241 INFO sqlalchemy.engine.Engine [cached since 48.9s ago] ('dr_jhatka',)
2025-12-23 15:39:56,242 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:39:56,242 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:39:56,242 INFO sqlalchemy.engine.Engine [cached since 48.9s ago] ('dr_jhatka',)
2025-12-23 15:39:56,244 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:39:56,244 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:39:56,244 INFO sqlalchemy.engine.Engine [cached since 48.9s ago] ('dr_jhatka',)
2025-12-23 15:39:56,247 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT $2::INTEGER
2025-12-23 15:39:56,247 INFO sqlalchemy.engine.Engine [cached since 41.53s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 200)
2025-12-23 15:39:56,248 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:39:56,249 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:39:56,249 INFO sqlalchemy.engine.Engine [cached since 48.9s ago] ('dr_jhatka',)
2025-12-23 15:39:56,250 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 15:39:56,250 INFO sqlalchemy.engine.Engine [cached since 41.48s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 100, 0)
2025-12-23 15:39:56,251 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:39:56,251 INFO sqlalchemy.engine.Engine [cached since 41.49s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:39:56,251 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:39:56,251 INFO sqlalchemy.engine.Engine [cached since 48.88s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60233 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 15:39:56,252 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:39:56,253 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:39:56,253 INFO sqlalchemy.engine.Engine [cached since 48.88s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60237 - "GET /users HTTP/1.1" 200 OK
INFO:     127.0.0.1:60234 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 15:39:56,255 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:39:56,255 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60238 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:39:56,257 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:39:57,949 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:39:57,949 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:39:57,950 INFO sqlalchemy.engine.Engine [cached since 50.61s ago] ('dr_jhatka',)
2025-12-23 15:39:57,951 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:39:57,952 INFO sqlalchemy.engine.Engine [cached since 50.58s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:39:57,953 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:39:57,953 INFO sqlalchemy.engine.Engine [cached since 50.58s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60233 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:39:57,954 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:39:58,255 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:39:58,256 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:39:58,256 INFO sqlalchemy.engine.Engine [cached since 50.91s ago] ('dr_jhatka',)
2025-12-23 15:39:58,258 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 15:39:58,258 INFO sqlalchemy.engine.Engine [cached since 43.49s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:60237 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:39:58,261 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:42:35,610 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:42:35,614 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:42:35,615 INFO sqlalchemy.engine.Engine [cached since 208.3s ago] ('dr_jhatka',)
2025-12-23 15:42:35,622 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:42:35,622 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:42:35,622 INFO sqlalchemy.engine.Engine [cached since 208.3s ago] ('dr_jhatka',)
2025-12-23 15:42:35,643 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:42:35,643 INFO sqlalchemy.engine.Engine [cached since 208.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:42:35,643 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:42:35,643 INFO sqlalchemy.engine.Engine [cached since 208.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:42:35,644 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:42:35,644 INFO sqlalchemy.engine.Engine [cached since 208.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:42:35,645 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 15:42:35,645 INFO sqlalchemy.engine.Engine [cached since 206.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60270 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:42:35,647 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:42:35,652 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:42:35,652 INFO sqlalchemy.engine.Engine [cached since 206.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:42:35,653 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 15:42:35,653 INFO sqlalchemy.engine.Engine [cached since 206.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:60269 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:42:35,656 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:42:45,609 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:42:45,609 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:42:45,609 INFO sqlalchemy.engine.Engine [cached since 218.3s ago] ('admin',)
INFO:     127.0.0.1:60272 - "POST /token HTTP/1.1" 200 OK
2025-12-23 15:42:45,858 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:42:45,878 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:42:45,878 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:42:45,878 INFO sqlalchemy.engine.Engine [cached since 218.5s ago] ('admin',)
2025-12-23 15:42:45,880 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:42:45,880 INFO sqlalchemy.engine.Engine [cached since 218.5s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:42:45,880 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:42:45,880 INFO sqlalchemy.engine.Engine [cached since 218.5s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60272 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:42:45,881 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:42:45,902 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:42:45,903 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:42:45,903 INFO sqlalchemy.engine.Engine [cached since 218.6s ago] ('admin',)
INFO:     127.0.0.1:60273 - "OPTIONS /tenants HTTP/1.1" 200 OK
2025-12-23 15:42:45,904 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:42:45,905 INFO sqlalchemy.engine.Engine [cached since 218.5s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:42:45,906 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:42:45,907 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:42:45,907 INFO sqlalchemy.engine.Engine [cached since 218.6s ago] ('admin',)
2025-12-23 15:42:45,908 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:42:45,908 INFO sqlalchemy.engine.Engine [generated in 0.00007s] ()
2025-12-23 15:42:45,908 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:42:45,909 INFO sqlalchemy.engine.Engine [cached since 218.5s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:42:45,910 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:42:45,910 INFO sqlalchemy.engine.Engine [generated in 0.00006s] ()
2025-12-23 15:42:45,910 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:42:45,910 INFO sqlalchemy.engine.Engine [generated in 0.00004s] ()
2025-12-23 15:42:45,911 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> $1::JSONB AND tenants.is_super_admin = false
2025-12-23 15:42:45,912 INFO sqlalchemy.engine.Engine [generated in 0.00009s] ('["admin"]',)
2025-12-23 15:42:45,913 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:42:45,913 INFO sqlalchemy.engine.Engine [generated in 0.00006s] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 15:42:45,914 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:42:45,914 INFO sqlalchemy.engine.Engine [cached since 0.001114s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:60273 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:42:45,914 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:42:45,915 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:42:45,915 INFO sqlalchemy.engine.Engine [generated in 0.00006s] ()
INFO:     127.0.0.1:60272 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:42:45,915 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:42:51,473 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:42:51,473 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:42:51,473 INFO sqlalchemy.engine.Engine [cached since 224.1s ago] ('admin',)
2025-12-23 15:42:51,474 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:42:51,474 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:42:51,474 INFO sqlalchemy.engine.Engine [cached since 224.1s ago] ('admin',)
2025-12-23 15:42:51,475 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:42:51,476 INFO sqlalchemy.engine.Engine [cached since 224.1s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:42:51,476 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:42:51,476 INFO sqlalchemy.engine.Engine [cached since 224.1s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:42:51,477 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:42:51,477 INFO sqlalchemy.engine.Engine [cached since 5.567s ago] ()
2025-12-23 15:42:51,477 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:42:51,477 INFO sqlalchemy.engine.Engine [cached since 224.1s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60276 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:42:51,479 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:42:51,479 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:42:51,479 INFO sqlalchemy.engine.Engine [cached since 5.567s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 15:42:51,481 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:42:51,481 INFO sqlalchemy.engine.Engine [cached since 5.569s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:60275 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:42:51,482 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60276 - "OPTIONS /tenants/68923952-1085-4d0e-85bf-66bbbb8ad0c7/impersonate HTTP/1.1" 200 OK
2025-12-23 15:42:54,716 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:42:54,717 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:42:54,717 INFO sqlalchemy.engine.Engine [cached since 227.4s ago] ('admin',)
2025-12-23 15:42:54,720 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:42:54,720 INFO sqlalchemy.engine.Engine [cached since 227.3s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:42:54,722 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER
2025-12-23 15:42:54,722 INFO sqlalchemy.engine.Engine [generated in 0.00018s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 1)
2025-12-23 15:42:54,723 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:42:54,723 INFO sqlalchemy.engine.Engine [cached since 220s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60275 - "POST /tenants/68923952-1085-4d0e-85bf-66bbbb8ad0c7/impersonate HTTP/1.1" 200 OK
2025-12-23 15:42:54,725 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:42:54,989 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:42:54,989 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:42:54,989 INFO sqlalchemy.engine.Engine [cached since 227.6s ago] ('apollo_admin',)
2025-12-23 15:42:54,990 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:42:54,990 INFO sqlalchemy.engine.Engine [cached since 227.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:42:54,991 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:42:54,991 INFO sqlalchemy.engine.Engine [cached since 227.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60276 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:42:54,991 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:42:55,009 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:42:55,009 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:42:55,009 INFO sqlalchemy.engine.Engine [cached since 227.7s ago] ('apollo_admin',)
2025-12-23 15:42:55,010 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:42:55,010 INFO sqlalchemy.engine.Engine [cached since 227.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:42:55,011 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 15:42:55,011 INFO sqlalchemy.engine.Engine [cached since 225.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:42:55,011 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:42:55,012 INFO sqlalchemy.engine.Engine [cached since 225.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:42:55,012 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 15:42:55,012 INFO sqlalchemy.engine.Engine [cached since 225.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:60275 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:42:55,013 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:42:57,019 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:42:57,021 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:42:57,021 INFO sqlalchemy.engine.Engine [cached since 229.7s ago] ('apollo_admin',)
2025-12-23 15:42:57,024 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:42:57,024 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:42:57,024 INFO sqlalchemy.engine.Engine [cached since 229.7s ago] ('apollo_admin',)
2025-12-23 15:42:57,025 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:42:57,026 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:42:57,026 INFO sqlalchemy.engine.Engine [cached since 229.7s ago] ('apollo_admin',)
2025-12-23 15:42:57,026 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:42:57,027 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:42:57,027 INFO sqlalchemy.engine.Engine [cached since 229.7s ago] ('apollo_admin',)
2025-12-23 15:42:57,033 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT $2::INTEGER
2025-12-23 15:42:57,033 INFO sqlalchemy.engine.Engine [cached since 222.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 200)
2025-12-23 15:42:57,036 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 15:42:57,036 INFO sqlalchemy.engine.Engine [cached since 222.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 100, 0)
2025-12-23 15:42:57,037 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:42:57,037 INFO sqlalchemy.engine.Engine [cached since 222.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60276 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 15:42:57,038 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60275 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 15:42:57,040 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:42:57,040 INFO sqlalchemy.engine.Engine [cached since 229.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:42:57,040 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:42:57,042 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:42:57,042 INFO sqlalchemy.engine.Engine [cached since 229.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60284 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:42:57,042 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60285 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:42:57,043 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:42:57,941 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:42:57,941 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:42:57,942 INFO sqlalchemy.engine.Engine [cached since 230.6s ago] ('apollo_admin',)
2025-12-23 15:42:57,943 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:42:57,943 INFO sqlalchemy.engine.Engine [cached since 230.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:42:57,943 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:42:57,943 INFO sqlalchemy.engine.Engine [cached since 230.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60276 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:42:57,944 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:42:58,245 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:42:58,245 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:42:58,245 INFO sqlalchemy.engine.Engine [cached since 230.9s ago] ('apollo_admin',)
2025-12-23 15:42:58,248 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 15:42:58,249 INFO sqlalchemy.engine.Engine [cached since 223.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:60275 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:42:58,251 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:43:00,150 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:43:00,151 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:43:00,151 INFO sqlalchemy.engine.Engine [cached since 232.8s ago] ('apollo_admin',)
2025-12-23 15:43:00,153 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:43:00,153 INFO sqlalchemy.engine.Engine [cached since 232.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:43:00,155 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:43:00,155 INFO sqlalchemy.engine.Engine [cached since 232.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60284 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:43:00,156 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:43:01,057 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:43:01,058 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:43:01,058 INFO sqlalchemy.engine.Engine [cached since 233.7s ago] ('apollo_admin',)
2025-12-23 15:43:01,059 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:43:01,059 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:43:01,059 INFO sqlalchemy.engine.Engine [cached since 233.7s ago] ('apollo_admin',)
2025-12-23 15:43:01,061 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:43:01,062 INFO sqlalchemy.engine.Engine [cached since 226.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:43:01,063 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:43:01,063 INFO sqlalchemy.engine.Engine [cached since 233.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60285 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:43:01,064 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:43:01,065 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:43:01,065 INFO sqlalchemy.engine.Engine [cached since 233.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60276 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:43:01,066 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60290 - "OPTIONS /settings HTTP/1.1" 200 OK
2025-12-23 15:43:08,175 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:43:08,175 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:43:08,175 INFO sqlalchemy.engine.Engine [cached since 240.8s ago] ('apollo_admin',)
2025-12-23 15:43:08,177 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:43:08,177 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:43:08,177 INFO sqlalchemy.engine.Engine [cached since 240.8s ago] ('apollo_admin',)
2025-12-23 15:43:08,178 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:43:08,178 INFO sqlalchemy.engine.Engine [cached since 240.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:43:08,179 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:43:08,179 INFO sqlalchemy.engine.Engine [cached since 240.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60290 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:43:08,180 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:43:08,180 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:43:08,180 INFO sqlalchemy.engine.Engine [cached since 240.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60291 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:43:08,181 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60290 - "GET /static/uploads/68923952-1085-4d0e-85bf-66bbbb8ad0c7_logo.svg HTTP/1.1" 304 Not Modified
2025-12-23 15:43:21,977 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:43:21,979 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:43:21,979 INFO sqlalchemy.engine.Engine [cached since 254.6s ago] ('apollo_admin',)
2025-12-23 15:43:21,982 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:43:21,982 INFO sqlalchemy.engine.Engine [cached since 254.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:43:21,983 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:43:21,983 INFO sqlalchemy.engine.Engine [cached since 254.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60295 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:43:21,984 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:43:22,279 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:43:22,279 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:43:22,279 INFO sqlalchemy.engine.Engine [cached since 254.9s ago] ('apollo_admin',)
2025-12-23 15:43:22,282 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 15:43:22,283 INFO sqlalchemy.engine.Engine [cached since 247.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:60295 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:43:22,290 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:43:23,393 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:43:23,393 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:43:23,393 INFO sqlalchemy.engine.Engine [cached since 256s ago] ('apollo_admin',)
2025-12-23 15:43:23,394 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:43:23,394 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:43:23,397 INFO sqlalchemy.engine.Engine [cached since 256.1s ago] ('apollo_admin',)
2025-12-23 15:43:23,398 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:43:23,398 INFO sqlalchemy.engine.Engine [cached since 256s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:43:23,399 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:43:23,399 INFO sqlalchemy.engine.Engine [cached since 256s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:43:23,400 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 15:43:23,400 INFO sqlalchemy.engine.Engine [cached since 254s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:43:23,400 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:43:23,400 INFO sqlalchemy.engine.Engine [cached since 256s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:43:23,401 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:43:23,401 INFO sqlalchemy.engine.Engine [cached since 254s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60296 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:43:23,401 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:43:23,402 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 15:43:23,402 INFO sqlalchemy.engine.Engine [cached since 254s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:60295 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:43:23,403 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:43:23,407 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:43:23,407 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:43:23,407 INFO sqlalchemy.engine.Engine [cached since 256.1s ago] ('apollo_admin',)
2025-12-23 15:43:23,408 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:43:23,408 INFO sqlalchemy.engine.Engine [cached since 256s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:43:23,409 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 15:43:23,409 INFO sqlalchemy.engine.Engine [cached since 254s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:43:23,410 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:43:23,410 INFO sqlalchemy.engine.Engine [cached since 254s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:43:23,411 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 15:43:23,411 INFO sqlalchemy.engine.Engine [cached since 254s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:60296 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:43:23,411 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:43:24,922 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:43:24,923 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:43:24,924 INFO sqlalchemy.engine.Engine [cached since 257.6s ago] ('apollo_admin',)
2025-12-23 15:43:24,925 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:43:24,926 INFO sqlalchemy.engine.Engine [cached since 257.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:43:24,926 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:43:24,926 INFO sqlalchemy.engine.Engine [cached since 257.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60295 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:43:24,927 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:43:25,224 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:43:25,225 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:43:25,225 INFO sqlalchemy.engine.Engine [cached since 257.9s ago] ('apollo_admin',)
2025-12-23 15:43:25,227 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 15:43:25,227 INFO sqlalchemy.engine.Engine [cached since 250.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:60296 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:43:25,230 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:45:13,200 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:45:13,203 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:45:13,203 INFO sqlalchemy.engine.Engine [cached since 365.9s ago] ('apollo_admin',)
2025-12-23 15:45:13,206 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:45:13,206 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:45:13,206 INFO sqlalchemy.engine.Engine [cached since 365.9s ago] ('apollo_admin',)
2025-12-23 15:45:13,220 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:45:13,220 INFO sqlalchemy.engine.Engine [cached since 365.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:45:13,221 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:45:13,221 INFO sqlalchemy.engine.Engine [cached since 365.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:45:13,222 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:45:13,222 INFO sqlalchemy.engine.Engine [cached since 365.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60316 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:45:13,225 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60315 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:45:13,225 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:45:19,493 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:45:19,494 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:45:19,494 INFO sqlalchemy.engine.Engine [cached since 372.1s ago] ('apollo_admin',)
2025-12-23 15:45:19,495 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:45:19,495 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:45:19,495 INFO sqlalchemy.engine.Engine [cached since 372.1s ago] ('apollo_admin',)
2025-12-23 15:45:19,496 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:45:19,496 INFO sqlalchemy.engine.Engine [cached since 364.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:45:19,498 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:45:19,498 INFO sqlalchemy.engine.Engine [cached since 372.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:45:19,500 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:45:19,500 INFO sqlalchemy.engine.Engine [cached since 372.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60324 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:45:19,501 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60323 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:45:19,506 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:45:21,634 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:45:21,635 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:45:21,635 INFO sqlalchemy.engine.Engine [cached since 374.3s ago] ('apollo_admin',)
2025-12-23 15:45:21,636 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:45:21,636 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:45:21,636 INFO sqlalchemy.engine.Engine [cached since 374.3s ago] ('apollo_admin',)
2025-12-23 15:45:21,638 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:45:21,638 INFO sqlalchemy.engine.Engine [cached since 374.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:45:21,639 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:45:21,639 INFO sqlalchemy.engine.Engine [cached since 374.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:45:21,640 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:45:21,640 INFO sqlalchemy.engine.Engine [cached since 374.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60324 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:45:21,641 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60323 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:45:21,641 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:45:27,454 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:45:27,455 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:45:27,455 INFO sqlalchemy.engine.Engine [cached since 380.1s ago] ('apollo_admin',)
2025-12-23 15:45:27,457 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:45:27,458 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:45:27,458 INFO sqlalchemy.engine.Engine [cached since 380.1s ago] ('apollo_admin',)
2025-12-23 15:45:27,459 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:45:27,459 INFO sqlalchemy.engine.Engine [cached since 372.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:45:27,459 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:45:27,459 INFO sqlalchemy.engine.Engine [cached since 380.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60329 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:45:27,459 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:45:27,461 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:45:27,461 INFO sqlalchemy.engine.Engine [cached since 380.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60330 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:45:27,464 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:45:29,061 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:45:29,062 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:45:29,062 INFO sqlalchemy.engine.Engine [cached since 381.7s ago] ('apollo_admin',)
2025-12-23 15:45:29,064 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:45:29,064 INFO sqlalchemy.engine.Engine [cached since 381.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:45:29,066 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:45:29,066 INFO sqlalchemy.engine.Engine [cached since 381.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60329 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:45:29,067 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:45:30,373 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:45:30,374 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:45:30,374 INFO sqlalchemy.engine.Engine [cached since 383s ago] ('apollo_admin',)
2025-12-23 15:45:30,375 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:45:30,376 INFO sqlalchemy.engine.Engine [cached since 383s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:45:30,376 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:45:30,376 INFO sqlalchemy.engine.Engine [cached since 383s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60330 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:45:30,377 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:45:30,676 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:45:30,676 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:45:30,676 INFO sqlalchemy.engine.Engine [cached since 383.3s ago] ('apollo_admin',)
2025-12-23 15:45:30,685 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 15:45:30,686 INFO sqlalchemy.engine.Engine [cached since 375.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:60329 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:45:30,690 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:45:31,541 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:45:31,541 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:45:31,541 INFO sqlalchemy.engine.Engine [cached since 384.2s ago] ('apollo_admin',)
2025-12-23 15:45:31,542 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:45:31,542 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:45:31,542 INFO sqlalchemy.engine.Engine [cached since 384.2s ago] ('apollo_admin',)
2025-12-23 15:45:31,544 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:45:31,544 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:45:31,544 INFO sqlalchemy.engine.Engine [cached since 384.2s ago] ('apollo_admin',)
2025-12-23 15:45:31,547 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:45:31,547 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:45:31,547 INFO sqlalchemy.engine.Engine [cached since 384.2s ago] ('apollo_admin',)
2025-12-23 15:45:31,551 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT $2::INTEGER
2025-12-23 15:45:31,552 INFO sqlalchemy.engine.Engine [cached since 376.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 200)
2025-12-23 15:45:31,553 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 15:45:31,553 INFO sqlalchemy.engine.Engine [cached since 376.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 100, 0)
2025-12-23 15:45:31,554 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:45:31,554 INFO sqlalchemy.engine.Engine [cached since 376.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60330 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 15:45:31,555 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:45:31,556 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:45:31,556 INFO sqlalchemy.engine.Engine [cached since 384.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60329 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 15:45:31,557 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60332 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:45:31,558 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:45:31,558 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:45:31,558 INFO sqlalchemy.engine.Engine [cached since 384.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60333 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:45:31,559 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:45:32,710 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:45:32,711 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:45:32,711 INFO sqlalchemy.engine.Engine [cached since 385.4s ago] ('apollo_admin',)
2025-12-23 15:45:32,712 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:45:32,712 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:45:32,712 INFO sqlalchemy.engine.Engine [cached since 385.4s ago] ('apollo_admin',)
2025-12-23 15:45:32,715 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:45:32,715 INFO sqlalchemy.engine.Engine [cached since 385.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:45:32,717 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:45:32,717 INFO sqlalchemy.engine.Engine [cached since 385.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:45:32,718 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 15:45:32,718 INFO sqlalchemy.engine.Engine [cached since 383.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:45:32,719 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:45:32,719 INFO sqlalchemy.engine.Engine [cached since 385.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60329 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:45:32,720 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:45:32,721 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:45:32,721 INFO sqlalchemy.engine.Engine [cached since 383.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:45:32,722 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 15:45:32,722 INFO sqlalchemy.engine.Engine [cached since 383.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:60330 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:45:32,724 INFO sqlalchemy.engine.Engine ROLLBACK
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [26796]
Process SpawnProcess-18:
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/uvicorn/config.py", line 439, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/main.py", line 501, in <module>
    async def upload_attachment(id: str, file: UploadFile = File(...), file_name: Optional[str] = Form(None), file_type: Optional[str] = Form(None), current_user: User = Depends(get_current_user), db: AsyncSession = Depends(get_db)):
                                                                                                  ^^^^
NameError: name 'Form' is not defined
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Started server process [27186]
INFO:     Waiting for application startup.
2025-12-23 15:46:10,478 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 15:46:10,478 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:46:10,481 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 15:46:10,481 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:46:10,482 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 15:46:10,482 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:46:10,483 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:46:10,485 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:46:10,485 INFO sqlalchemy.engine.Engine [generated in 0.00010s] ('tenants', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:46:10,492 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:46:10,492 INFO sqlalchemy.engine.Engine [cached since 0.007217s ago] ('tenant_settings', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:46:10,493 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:46:10,493 INFO sqlalchemy.engine.Engine [cached since 0.007825s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:46:10,493 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:46:10,493 INFO sqlalchemy.engine.Engine [cached since 0.008196s ago] ('patients', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:46:10,493 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:46:10,493 INFO sqlalchemy.engine.Engine [cached since 0.008536s ago] ('clinical_records', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:46:10,494 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:46:10,494 INFO sqlalchemy.engine.Engine [cached since 0.008915s ago] ('appointments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:46:10,494 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:46:10,494 INFO sqlalchemy.engine.Engine [cached since 0.009201s ago] ('attachments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:46:10,494 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:46:10,494 INFO sqlalchemy.engine.Engine [cached since 0.009448s ago] ('prescriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:46:10,494 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:46:10,495 INFO sqlalchemy.engine.Engine [cached since 0.009744s ago] ('invoices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:46:10,495 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     127.0.0.1:60372 - "OPTIONS /users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:60374 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 15:46:59,373 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:46:59,384 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:46:59,384 INFO sqlalchemy.engine.Engine [generated in 0.00015s] ('admin',)
2025-12-23 15:46:59,397 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:46:59,397 INFO sqlalchemy.engine.Engine [generated in 0.00007s] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:46:59,400 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:46:59,400 INFO sqlalchemy.engine.Engine [generated in 0.00006s] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60372 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:46:59,402 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:46:59,403 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:46:59,403 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:46:59,403 INFO sqlalchemy.engine.Engine [cached since 0.0186s ago] ('admin',)
2025-12-23 15:46:59,403 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:46:59,403 INFO sqlalchemy.engine.Engine [cached since 0.00667s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:46:59,404 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:46:59,404 INFO sqlalchemy.engine.Engine [cached since 0.003462s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60372 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:46:59,404 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60372 - "OPTIONS /users HTTP/1.1" 200 OK
INFO:     127.0.0.1:60374 - "OPTIONS /settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:60376 - "OPTIONS /users HTTP/1.1" 200 OK
INFO:     127.0.0.1:60372 - "OPTIONS /settings HTTP/1.1" 200 OK
2025-12-23 15:46:59,474 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:46:59,475 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:46:59,475 INFO sqlalchemy.engine.Engine [cached since 0.09032s ago] ('admin',)
2025-12-23 15:46:59,486 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:46:59,486 INFO sqlalchemy.engine.Engine [generated in 0.00011s] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60374 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:46:59,487 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:46:59,592 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:46:59,592 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:46:59,593 INFO sqlalchemy.engine.Engine [cached since 0.2082s ago] ('admin',)
2025-12-23 15:46:59,593 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:46:59,593 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:46:59,593 INFO sqlalchemy.engine.Engine [cached since 0.209s ago] ('admin',)
2025-12-23 15:46:59,596 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:46:59,596 INFO sqlalchemy.engine.Engine [cached since 0.1956s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:46:59,597 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:46:59,597 INFO sqlalchemy.engine.Engine [cached since 0.1109s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60378 - "GET /settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:60374 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:46:59,598 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:46:59,598 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:46:59,600 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:46:59,600 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:46:59,600 INFO sqlalchemy.engine.Engine [cached since 0.2155s ago] ('admin',)
2025-12-23 15:46:59,601 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:46:59,601 INFO sqlalchemy.engine.Engine [cached since 0.2005s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60378 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:46:59,602 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60381 - "OPTIONS /tenants HTTP/1.1" 200 OK
2025-12-23 15:47:13,820 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:13,822 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:13,822 INFO sqlalchemy.engine.Engine [cached since 14.44s ago] ('admin',)
INFO:     127.0.0.1:60388 - "OPTIONS /tenants HTTP/1.1" 200 OK
2025-12-23 15:47:13,828 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:13,828 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:13,828 INFO sqlalchemy.engine.Engine [cached since 14.44s ago] ('admin',)
2025-12-23 15:47:13,831 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:47:13,832 INFO sqlalchemy.engine.Engine [cached since 14.43s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:47:13,833 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:47:13,833 INFO sqlalchemy.engine.Engine [cached since 14.44s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:47:13,838 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:47:13,838 INFO sqlalchemy.engine.Engine [cached since 14.44s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:47:13,840 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:47:13,840 INFO sqlalchemy.engine.Engine [generated in 0.00010s] ()
INFO:     127.0.0.1:60382 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:47:13,842 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:13,845 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:47:13,845 INFO sqlalchemy.engine.Engine [generated in 0.00013s] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 15:47:13,846 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:47:13,846 INFO sqlalchemy.engine.Engine [cached since 0.001505s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:60381 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:47:13,847 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:13,849 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:13,849 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:13,849 INFO sqlalchemy.engine.Engine [cached since 14.46s ago] ('admin',)
2025-12-23 15:47:13,851 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:47:13,851 INFO sqlalchemy.engine.Engine [cached since 14.45s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:47:13,851 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:47:13,851 INFO sqlalchemy.engine.Engine [cached since 0.01167s ago] ()
2025-12-23 15:47:13,853 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:47:13,853 INFO sqlalchemy.engine.Engine [cached since 0.008262s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 15:47:13,855 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:47:13,855 INFO sqlalchemy.engine.Engine [cached since 0.01017s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:60381 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:47:13,855 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60381 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:47:18,538 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:18,538 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:18,538 INFO sqlalchemy.engine.Engine [cached since 19.15s ago] ('admin',)
2025-12-23 15:47:18,540 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:18,540 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:18,540 INFO sqlalchemy.engine.Engine [cached since 19.16s ago] ('admin',)
INFO:     127.0.0.1:60390 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:47:18,542 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:18,543 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:18,543 INFO sqlalchemy.engine.Engine [cached since 19.16s ago] ('admin',)
2025-12-23 15:47:18,545 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:47:18,545 INFO sqlalchemy.engine.Engine [cached since 19.15s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:47:18,545 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:47:18,545 INFO sqlalchemy.engine.Engine [cached since 19.15s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:47:18,546 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:47:18,546 INFO sqlalchemy.engine.Engine [cached since 19.15s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:47:18,549 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:47:18,549 INFO sqlalchemy.engine.Engine [generated in 0.00014s] ()
2025-12-23 15:47:18,550 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:47:18,550 INFO sqlalchemy.engine.Engine [cached since 19.15s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:47:18,550 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:47:18,550 INFO sqlalchemy.engine.Engine [cached since 4.71s ago] ()
INFO:     127.0.0.1:60388 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:47:18,551 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:18,552 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:47:18,552 INFO sqlalchemy.engine.Engine [cached since 4.707s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 15:47:18,553 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:47:18,553 INFO sqlalchemy.engine.Engine [generated in 0.00008s] ()
2025-12-23 15:47:18,553 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:47:18,553 INFO sqlalchemy.engine.Engine [cached since 4.708s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:60382 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:47:18,554 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:18,555 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:18,555 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:18,555 INFO sqlalchemy.engine.Engine [cached since 19.17s ago] ('admin',)
2025-12-23 15:47:18,556 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> $1::JSONB AND tenants.is_super_admin = false
2025-12-23 15:47:18,556 INFO sqlalchemy.engine.Engine [generated in 0.00005s] ('["admin"]',)
2025-12-23 15:47:18,556 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:47:18,556 INFO sqlalchemy.engine.Engine [cached since 19.16s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:47:18,557 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:47:18,557 INFO sqlalchemy.engine.Engine [cached since 4.717s ago] ()
2025-12-23 15:47:18,557 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:47:18,557 INFO sqlalchemy.engine.Engine [cached since 4.712s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 15:47:18,557 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:47:18,557 INFO sqlalchemy.engine.Engine [generated in 0.00004s] ()
2025-12-23 15:47:18,558 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:47:18,558 INFO sqlalchemy.engine.Engine [cached since 4.713s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:60382 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:47:18,558 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60381 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:47:18,559 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:18,559 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:18,559 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:18,559 INFO sqlalchemy.engine.Engine [cached since 19.18s ago] ('admin',)
2025-12-23 15:47:18,560 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:47:18,560 INFO sqlalchemy.engine.Engine [cached since 19.16s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:47:18,560 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:47:18,560 INFO sqlalchemy.engine.Engine [cached since 0.01124s ago] ()
2025-12-23 15:47:18,561 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:47:18,561 INFO sqlalchemy.engine.Engine [cached since 0.008334s ago] ()
2025-12-23 15:47:18,562 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> $1::JSONB AND tenants.is_super_admin = false
2025-12-23 15:47:18,562 INFO sqlalchemy.engine.Engine [cached since 0.006186s ago] ('["admin"]',)
2025-12-23 15:47:18,564 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:47:18,564 INFO sqlalchemy.engine.Engine [cached since 0.006311s ago] ()
INFO:     127.0.0.1:60381 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:47:18,564 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:18,575 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:18,575 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:18,575 INFO sqlalchemy.engine.Engine [cached since 19.19s ago] ('admin',)
2025-12-23 15:47:18,575 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:18,575 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:18,575 INFO sqlalchemy.engine.Engine [cached since 19.19s ago] ('admin',)
2025-12-23 15:47:18,576 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:47:18,576 INFO sqlalchemy.engine.Engine [cached since 19.18s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:47:18,576 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:47:18,576 INFO sqlalchemy.engine.Engine [cached since 19.18s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:47:18,576 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:47:18,576 INFO sqlalchemy.engine.Engine [cached since 4.737s ago] ()
2025-12-23 15:47:18,577 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:47:18,577 INFO sqlalchemy.engine.Engine [cached since 0.02776s ago] ()
2025-12-23 15:47:18,577 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:47:18,577 INFO sqlalchemy.engine.Engine [cached since 4.732s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 15:47:18,577 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:47:18,577 INFO sqlalchemy.engine.Engine [cached since 4.733s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:60382 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:47:18,578 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:18,578 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:47:18,578 INFO sqlalchemy.engine.Engine [cached since 0.02556s ago] ()
2025-12-23 15:47:18,579 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> $1::JSONB AND tenants.is_super_admin = false
2025-12-23 15:47:18,579 INFO sqlalchemy.engine.Engine [cached since 0.02351s ago] ('["admin"]',)
2025-12-23 15:47:18,581 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:47:18,581 INFO sqlalchemy.engine.Engine [cached since 0.02309s ago] ()
INFO:     127.0.0.1:60381 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:47:18,581 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:21,495 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:21,496 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:21,496 INFO sqlalchemy.engine.Engine [cached since 22.11s ago] ('admin',)
2025-12-23 15:47:21,498 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:21,498 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:21,498 INFO sqlalchemy.engine.Engine [cached since 22.11s ago] ('admin',)
2025-12-23 15:47:21,499 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:21,499 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:21,499 INFO sqlalchemy.engine.Engine [cached since 22.11s ago] ('admin',)
2025-12-23 15:47:21,501 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:47:21,501 INFO sqlalchemy.engine.Engine [cached since 22.1s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:47:21,502 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:47:21,502 INFO sqlalchemy.engine.Engine [cached since 22.1s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:47:21,504 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:47:21,504 INFO sqlalchemy.engine.Engine [cached since 22.02s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:47:21,509 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:47:21,510 INFO sqlalchemy.engine.Engine [cached since 22.11s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60382 - "GET /settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:60381 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:47:21,512 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:21,512 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60388 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:47:21,513 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:21,574 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:21,574 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:21,574 INFO sqlalchemy.engine.Engine [cached since 22.19s ago] ('admin',)
2025-12-23 15:47:21,574 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:21,574 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:21,574 INFO sqlalchemy.engine.Engine [cached since 22.19s ago] ('admin',)
2025-12-23 15:47:21,577 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:47:21,577 INFO sqlalchemy.engine.Engine [cached since 22.18s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:47:21,577 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:47:21,577 INFO sqlalchemy.engine.Engine [cached since 22.09s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60381 - "GET /users HTTP/1.1" 200 OK
INFO:     127.0.0.1:60382 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:47:21,578 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:21,578 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:35,234 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:35,236 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:35,236 INFO sqlalchemy.engine.Engine [cached since 35.85s ago] ('admin',)
2025-12-23 15:47:35,241 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:35,241 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:35,241 INFO sqlalchemy.engine.Engine [cached since 35.86s ago] ('admin',)
2025-12-23 15:47:35,246 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:47:35,247 INFO sqlalchemy.engine.Engine [cached since 35.85s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:47:35,251 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:47:35,251 INFO sqlalchemy.engine.Engine [cached since 35.85s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:47:35,252 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:47:35,253 INFO sqlalchemy.engine.Engine [cached since 21.41s ago] ()
2025-12-23 15:47:35,254 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:47:35,254 INFO sqlalchemy.engine.Engine [cached since 35.85s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:47:35,256 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:47:35,256 INFO sqlalchemy.engine.Engine [cached since 21.41s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
INFO:     127.0.0.1:60405 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:47:35,258 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:35,259 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:47:35,259 INFO sqlalchemy.engine.Engine [cached since 21.41s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:60394 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:47:35,260 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:35,262 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:35,262 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:35,262 INFO sqlalchemy.engine.Engine [cached since 35.88s ago] ('admin',)
2025-12-23 15:47:35,263 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:47:35,263 INFO sqlalchemy.engine.Engine [cached since 35.87s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:47:35,264 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:47:35,264 INFO sqlalchemy.engine.Engine [cached since 21.42s ago] ()
2025-12-23 15:47:35,264 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:47:35,264 INFO sqlalchemy.engine.Engine [cached since 21.42s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 15:47:35,265 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:47:35,265 INFO sqlalchemy.engine.Engine [cached since 21.42s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:60394 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:47:35,265 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60394 - "OPTIONS /tenants/68923952-1085-4d0e-85bf-66bbbb8ad0c7/impersonate HTTP/1.1" 200 OK
2025-12-23 15:47:38,624 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:38,625 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:38,625 INFO sqlalchemy.engine.Engine [cached since 39.24s ago] ('admin',)
2025-12-23 15:47:38,632 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:47:38,632 INFO sqlalchemy.engine.Engine [cached since 39.24s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:47:38,636 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER
2025-12-23 15:47:38,636 INFO sqlalchemy.engine.Engine [generated in 0.00022s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 1)
2025-12-23 15:47:38,637 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:47:38,637 INFO sqlalchemy.engine.Engine [cached since 39.15s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60405 - "POST /tenants/68923952-1085-4d0e-85bf-66bbbb8ad0c7/impersonate HTTP/1.1" 200 OK
2025-12-23 15:47:38,640 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:38,805 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:38,806 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:38,806 INFO sqlalchemy.engine.Engine [cached since 39.42s ago] ('apollo_admin',)
2025-12-23 15:47:38,807 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:47:38,807 INFO sqlalchemy.engine.Engine [cached since 39.41s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:47:38,808 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:47:38,808 INFO sqlalchemy.engine.Engine [cached since 39.41s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60405 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:47:38,808 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:38,809 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:38,809 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:38,809 INFO sqlalchemy.engine.Engine [cached since 39.42s ago] ('apollo_admin',)
2025-12-23 15:47:38,810 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:47:38,810 INFO sqlalchemy.engine.Engine [cached since 39.41s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:47:38,810 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:47:38,810 INFO sqlalchemy.engine.Engine [cached since 39.41s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60405 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:47:38,811 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:38,817 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:38,817 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:38,818 INFO sqlalchemy.engine.Engine [cached since 39.43s ago] ('apollo_admin',)
2025-12-23 15:47:38,818 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:47:38,818 INFO sqlalchemy.engine.Engine [cached since 39.42s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:47:38,819 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 15:47:38,819 INFO sqlalchemy.engine.Engine [generated in 0.00018s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:47:38,820 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:47:38,820 INFO sqlalchemy.engine.Engine [generated in 0.00005s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:47:38,821 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 15:47:38,821 INFO sqlalchemy.engine.Engine [generated in 0.00006s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:60405 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:47:38,824 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:38,824 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:38,824 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:38,825 INFO sqlalchemy.engine.Engine [cached since 39.44s ago] ('apollo_admin',)
2025-12-23 15:47:38,825 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:47:38,825 INFO sqlalchemy.engine.Engine [cached since 39.43s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:47:38,825 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 15:47:38,825 INFO sqlalchemy.engine.Engine [cached since 0.006395s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:47:38,826 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:47:38,826 INFO sqlalchemy.engine.Engine [cached since 0.005953s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:47:38,827 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 15:47:38,827 INFO sqlalchemy.engine.Engine [cached since 0.005681s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:60405 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:47:38,829 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:38,838 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:38,838 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:38,839 INFO sqlalchemy.engine.Engine [cached since 39.45s ago] ('apollo_admin',)
2025-12-23 15:47:38,840 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:47:38,840 INFO sqlalchemy.engine.Engine [cached since 39.44s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:47:38,841 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 15:47:38,841 INFO sqlalchemy.engine.Engine [cached since 0.0217s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:47:38,842 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:47:38,842 INFO sqlalchemy.engine.Engine [cached since 0.02222s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:47:38,843 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 15:47:38,843 INFO sqlalchemy.engine.Engine [cached since 0.02179s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:60405 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:47:38,844 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60405 - "OPTIONS /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:60394 - "OPTIONS /patients HTTP/1.1" 200 OK
2025-12-23 15:47:40,942 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:40,942 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:40,942 INFO sqlalchemy.engine.Engine [cached since 41.56s ago] ('apollo_admin',)
2025-12-23 15:47:40,943 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:40,944 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:40,944 INFO sqlalchemy.engine.Engine [cached since 41.56s ago] ('apollo_admin',)
2025-12-23 15:47:40,946 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:40,946 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:40,946 INFO sqlalchemy.engine.Engine [cached since 41.56s ago] ('apollo_admin',)
INFO:     127.0.0.1:60419 - "OPTIONS /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:60420 - "OPTIONS /patients HTTP/1.1" 200 OK
2025-12-23 15:47:40,949 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:40,950 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:40,950 INFO sqlalchemy.engine.Engine [cached since 41.57s ago] ('apollo_admin',)
2025-12-23 15:47:40,951 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:47:40,951 INFO sqlalchemy.engine.Engine [cached since 41.47s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:47:40,952 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:47:40,952 INFO sqlalchemy.engine.Engine [cached since 41.56s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:47:40,956 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 15:47:40,956 INFO sqlalchemy.engine.Engine [generated in 0.00024s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 100, 0)
2025-12-23 15:47:40,957 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:47:40,957 INFO sqlalchemy.engine.Engine [cached since 41.56s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60417 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:47:40,958 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:40,961 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT $2::INTEGER
2025-12-23 15:47:40,961 INFO sqlalchemy.engine.Engine [generated in 0.00018s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 200)
INFO:     127.0.0.1:60405 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:47:40,962 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:40,962 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:40,962 INFO sqlalchemy.engine.Engine [cached since 41.58s ago] ('apollo_admin',)
2025-12-23 15:47:40,963 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60394 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 15:47:40,965 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:40,966 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:40,966 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:40,966 INFO sqlalchemy.engine.Engine [cached since 41.58s ago] ('apollo_admin',)
INFO:     127.0.0.1:60421 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 15:47:40,967 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:40,967 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:47:40,967 INFO sqlalchemy.engine.Engine [cached since 41.48s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:47:40,968 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:40,968 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:40,968 INFO sqlalchemy.engine.Engine [cached since 41.58s ago] ('apollo_admin',)
INFO:     127.0.0.1:60417 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:47:40,969 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:40,970 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 15:47:40,970 INFO sqlalchemy.engine.Engine [cached since 0.01415s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 100, 0)
2025-12-23 15:47:40,971 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT $2::INTEGER
2025-12-23 15:47:40,971 INFO sqlalchemy.engine.Engine [cached since 0.01061s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 200)
INFO:     127.0.0.1:60405 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 15:47:40,973 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60421 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 15:47:40,974 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:41,703 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:41,704 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:41,704 INFO sqlalchemy.engine.Engine [cached since 42.32s ago] ('apollo_admin',)
2025-12-23 15:47:41,705 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:47:41,705 INFO sqlalchemy.engine.Engine [cached since 42.31s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:47:41,706 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:47:41,706 INFO sqlalchemy.engine.Engine [cached since 42.31s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60421 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:47:41,707 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60421 - "OPTIONS /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:47:42,014 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:42,014 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:42,014 INFO sqlalchemy.engine.Engine [cached since 42.63s ago] ('apollo_admin',)
2025-12-23 15:47:42,017 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 15:47:42,017 INFO sqlalchemy.engine.Engine [cached since 1.061s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:60405 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:47:42,021 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60405 - "OPTIONS /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 15:47:44,776 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:44,777 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:44,777 INFO sqlalchemy.engine.Engine [cached since 45.39s ago] ('apollo_admin',)
INFO:     127.0.0.1:60417 - "OPTIONS /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 15:47:44,779 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:44,779 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:44,779 INFO sqlalchemy.engine.Engine [cached since 45.39s ago] ('apollo_admin',)
2025-12-23 15:47:44,786 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 15:47:44,786 INFO sqlalchemy.engine.Engine [generated in 0.00032s] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 15:47:44,787 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:47:44,787 INFO sqlalchemy.engine.Engine [cached since 45.39s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:47:44,788 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:47:44,788 INFO sqlalchemy.engine.Engine [cached since 45.39s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:47:44,791 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 15:47:44,791 INFO sqlalchemy.engine.Engine [generated in 0.00027s] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60421 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:47:44,793 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:44,796 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 15:47:44,796 INFO sqlalchemy.engine.Engine [generated in 0.00017s] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 15:47:44,799 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 15:47:44,799 INFO sqlalchemy.engine.Engine [generated in 0.00021s] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60394 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 15:47:44,802 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:44,803 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:44,804 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:44,804 INFO sqlalchemy.engine.Engine [cached since 45.42s ago] ('apollo_admin',)
2025-12-23 15:47:44,805 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 15:47:44,805 INFO sqlalchemy.engine.Engine [cached since 0.01939s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 15:47:44,807 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 15:47:44,807 INFO sqlalchemy.engine.Engine [cached since 0.01654s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 15:47:44,809 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 15:47:44,809 INFO sqlalchemy.engine.Engine [cached since 0.01283s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 15:47:44,811 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 15:47:44,811 INFO sqlalchemy.engine.Engine [cached since 0.01142s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60394 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 15:47:44,812 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:57,899 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:57,900 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:57,900 INFO sqlalchemy.engine.Engine [cached since 58.52s ago] ('apollo_admin',)
2025-12-23 15:47:57,903 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:47:57,904 INFO sqlalchemy.engine.Engine [cached since 58.51s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:47:57,904 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:47:57,904 INFO sqlalchemy.engine.Engine [cached since 58.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60430 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:47:57,906 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:57,907 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:57,907 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:57,907 INFO sqlalchemy.engine.Engine [cached since 58.52s ago] ('apollo_admin',)
2025-12-23 15:47:57,908 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:47:57,908 INFO sqlalchemy.engine.Engine [cached since 58.51s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:47:57,909 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:47:57,909 INFO sqlalchemy.engine.Engine [cached since 58.51s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60430 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:47:57,909 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:57,916 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:57,916 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:57,917 INFO sqlalchemy.engine.Engine [cached since 58.53s ago] ('apollo_admin',)
2025-12-23 15:47:57,918 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:47:57,918 INFO sqlalchemy.engine.Engine [cached since 58.52s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:47:57,919 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 15:47:57,919 INFO sqlalchemy.engine.Engine [cached since 19.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:47:57,919 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:47:57,919 INFO sqlalchemy.engine.Engine [cached since 19.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:47:57,920 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 15:47:57,920 INFO sqlalchemy.engine.Engine [cached since 19.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:60430 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:47:57,921 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:57,921 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:57,922 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:57,922 INFO sqlalchemy.engine.Engine [cached since 58.54s ago] ('apollo_admin',)
2025-12-23 15:47:57,923 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:47:57,923 INFO sqlalchemy.engine.Engine [cached since 58.53s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:47:57,925 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 15:47:57,925 INFO sqlalchemy.engine.Engine [cached since 19.11s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:47:57,926 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:47:57,926 INFO sqlalchemy.engine.Engine [cached since 19.11s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:47:57,927 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 15:47:57,927 INFO sqlalchemy.engine.Engine [cached since 19.11s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:60430 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:47:57,929 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:57,930 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:57,930 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:57,930 INFO sqlalchemy.engine.Engine [cached since 58.55s ago] ('apollo_admin',)
2025-12-23 15:47:57,931 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:47:57,931 INFO sqlalchemy.engine.Engine [cached since 58.53s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:47:57,931 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 15:47:57,931 INFO sqlalchemy.engine.Engine [cached since 19.11s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:47:57,932 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:47:57,932 INFO sqlalchemy.engine.Engine [cached since 19.11s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:47:57,933 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 15:47:57,933 INFO sqlalchemy.engine.Engine [cached since 19.11s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:60430 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:47:57,934 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:59,330 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:59,331 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:59,331 INFO sqlalchemy.engine.Engine [cached since 59.95s ago] ('apollo_admin',)
2025-12-23 15:47:59,332 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:47:59,332 INFO sqlalchemy.engine.Engine [cached since 59.94s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:47:59,333 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:47:59,333 INFO sqlalchemy.engine.Engine [cached since 59.93s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60430 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:47:59,334 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:47:59,636 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:47:59,637 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:47:59,637 INFO sqlalchemy.engine.Engine [cached since 60.25s ago] ('apollo_admin',)
2025-12-23 15:47:59,640 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 15:47:59,640 INFO sqlalchemy.engine.Engine [cached since 18.68s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:60430 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:47:59,643 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:48:02,483 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:48:02,483 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:48:02,483 INFO sqlalchemy.engine.Engine [cached since 63.1s ago] ('apollo_admin',)
2025-12-23 15:48:02,484 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:48:02,484 INFO sqlalchemy.engine.Engine [cached since 63.09s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:48:02,485 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:48:02,485 INFO sqlalchemy.engine.Engine [cached since 63.08s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60430 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:48:02,485 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:48:02,486 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:48:02,486 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:48:02,487 INFO sqlalchemy.engine.Engine [cached since 63.1s ago] ('apollo_admin',)
2025-12-23 15:48:02,487 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:48:02,487 INFO sqlalchemy.engine.Engine [cached since 63.09s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:48:02,487 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:48:02,488 INFO sqlalchemy.engine.Engine [cached since 63.09s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60430 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:48:02,488 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:48:02,817 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:48:02,817 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:48:02,818 INFO sqlalchemy.engine.Engine [cached since 63.43s ago] ('apollo_admin',)
2025-12-23 15:48:02,820 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 15:48:02,820 INFO sqlalchemy.engine.Engine [cached since 21.86s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:60430 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:48:02,825 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:48:04,461 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:48:04,462 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:48:04,462 INFO sqlalchemy.engine.Engine [cached since 65.08s ago] ('apollo_admin',)
2025-12-23 15:48:04,464 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:48:04,465 INFO sqlalchemy.engine.Engine [cached since 65.07s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:48:04,466 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:48:04,466 INFO sqlalchemy.engine.Engine [cached since 65.07s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60430 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:48:04,468 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:48:05,705 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:48:05,706 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:48:05,706 INFO sqlalchemy.engine.Engine [cached since 66.32s ago] ('apollo_admin',)
2025-12-23 15:48:05,708 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:48:05,708 INFO sqlalchemy.engine.Engine [cached since 66.31s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:48:05,709 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:48:05,709 INFO sqlalchemy.engine.Engine [cached since 66.31s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60430 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:48:05,711 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:48:06,009 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:48:06,009 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:48:06,009 INFO sqlalchemy.engine.Engine [cached since 66.63s ago] ('apollo_admin',)
2025-12-23 15:48:06,012 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 15:48:06,012 INFO sqlalchemy.engine.Engine [cached since 25.06s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:60430 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:48:06,018 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60438 - "OPTIONS /patients?skip=0&limit=10&q=1 HTTP/1.1" 200 OK
2025-12-23 15:48:17,367 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:48:17,371 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:48:17,371 INFO sqlalchemy.engine.Engine [cached since 77.99s ago] ('apollo_admin',)
2025-12-23 15:48:17,379 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR AND (patients.name ILIKE $2::VARCHAR OR patients.mrn ILIKE $3::VARCHAR) 
 LIMIT $4::INTEGER OFFSET $5::INTEGER
2025-12-23 15:48:17,379 INFO sqlalchemy.engine.Engine [generated in 0.00031s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '%1%', '%1%', 10, 0)
INFO:     127.0.0.1:60438 - "GET /patients?skip=0&limit=10&q=1 HTTP/1.1" 200 OK
2025-12-23 15:48:17,390 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60438 - "OPTIONS /patients?skip=0&limit=10&q=199 HTTP/1.1" 200 OK
2025-12-23 15:48:18,249 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:48:18,250 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:48:18,250 INFO sqlalchemy.engine.Engine [cached since 78.87s ago] ('apollo_admin',)
2025-12-23 15:48:18,252 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR AND (patients.name ILIKE $2::VARCHAR OR patients.mrn ILIKE $3::VARCHAR) 
 LIMIT $4::INTEGER OFFSET $5::INTEGER
2025-12-23 15:48:18,253 INFO sqlalchemy.engine.Engine [cached since 0.8741s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '%199%', '%199%', 10, 0)
INFO:     127.0.0.1:60440 - "GET /patients?skip=0&limit=10&q=199 HTTP/1.1" 200 OK
2025-12-23 15:48:18,255 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60440 - "OPTIONS /patients?skip=0&limit=10&q=1999 HTTP/1.1" 200 OK
2025-12-23 15:48:18,782 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:48:18,782 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:48:18,782 INFO sqlalchemy.engine.Engine [cached since 79.4s ago] ('apollo_admin',)
2025-12-23 15:48:18,785 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR AND (patients.name ILIKE $2::VARCHAR OR patients.mrn ILIKE $3::VARCHAR) 
 LIMIT $4::INTEGER OFFSET $5::INTEGER
2025-12-23 15:48:18,785 INFO sqlalchemy.engine.Engine [cached since 1.407s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '%1999%', '%1999%', 10, 0)
INFO:     127.0.0.1:60438 - "GET /patients?skip=0&limit=10&q=1999 HTTP/1.1" 200 OK
2025-12-23 15:48:18,789 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60438 - "OPTIONS /patients?skip=0&limit=10&q=19 HTTP/1.1" 200 OK
2025-12-23 15:48:20,124 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:48:20,125 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:48:20,125 INFO sqlalchemy.engine.Engine [cached since 80.74s ago] ('apollo_admin',)
2025-12-23 15:48:20,127 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR AND (patients.name ILIKE $2::VARCHAR OR patients.mrn ILIKE $3::VARCHAR) 
 LIMIT $4::INTEGER OFFSET $5::INTEGER
2025-12-23 15:48:20,127 INFO sqlalchemy.engine.Engine [cached since 2.749s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '%19%', '%19%', 10, 0)
INFO:     127.0.0.1:60440 - "GET /patients?skip=0&limit=10&q=19 HTTP/1.1" 200 OK
2025-12-23 15:48:20,129 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:48:20,454 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:48:20,454 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:48:20,454 INFO sqlalchemy.engine.Engine [cached since 81.07s ago] ('apollo_admin',)
2025-12-23 15:48:20,456 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR AND (patients.name ILIKE $2::VARCHAR OR patients.mrn ILIKE $3::VARCHAR) 
 LIMIT $4::INTEGER OFFSET $5::INTEGER
2025-12-23 15:48:20,456 INFO sqlalchemy.engine.Engine [cached since 3.078s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '%1%', '%1%', 10, 0)
INFO:     127.0.0.1:60440 - "GET /patients?skip=0&limit=10&q=1 HTTP/1.1" 200 OK
2025-12-23 15:48:20,458 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:48:23,791 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:48:23,799 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:48:23,799 INFO sqlalchemy.engine.Engine [cached since 84.41s ago] ('apollo_admin',)
2025-12-23 15:48:23,811 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 15:48:23,811 INFO sqlalchemy.engine.Engine [cached since 42.85s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:60440 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:48:23,814 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60440 - "OPTIONS /patients?skip=0&limit=10&q=a HTTP/1.1" 200 OK
2025-12-23 15:48:25,428 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:48:25,428 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:48:25,428 INFO sqlalchemy.engine.Engine [cached since 86.04s ago] ('apollo_admin',)
2025-12-23 15:48:25,433 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR AND (patients.name ILIKE $2::VARCHAR OR patients.mrn ILIKE $3::VARCHAR) 
 LIMIT $4::INTEGER OFFSET $5::INTEGER
2025-12-23 15:48:25,433 INFO sqlalchemy.engine.Engine [cached since 8.055s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '%a%', '%a%', 10, 0)
INFO:     127.0.0.1:60440 - "GET /patients?skip=0&limit=10&q=a HTTP/1.1" 200 OK
2025-12-23 15:48:25,436 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60440 - "OPTIONS /patients?skip=0&limit=10&q=a%2B HTTP/1.1" 200 OK
2025-12-23 15:48:28,256 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:48:28,256 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:48:28,256 INFO sqlalchemy.engine.Engine [cached since 88.87s ago] ('apollo_admin',)
2025-12-23 15:48:28,261 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR AND (patients.name ILIKE $2::VARCHAR OR patients.mrn ILIKE $3::VARCHAR) 
 LIMIT $4::INTEGER OFFSET $5::INTEGER
2025-12-23 15:48:28,262 INFO sqlalchemy.engine.Engine [cached since 10.88s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '%a+%', '%a+%', 10, 0)
INFO:     127.0.0.1:60443 - "GET /patients?skip=0&limit=10&q=a%2B HTTP/1.1" 200 OK
2025-12-23 15:48:28,263 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:48:29,123 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:48:29,124 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:48:29,124 INFO sqlalchemy.engine.Engine [cached since 89.74s ago] ('apollo_admin',)
2025-12-23 15:48:29,127 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR AND (patients.name ILIKE $2::VARCHAR OR patients.mrn ILIKE $3::VARCHAR) 
 LIMIT $4::INTEGER OFFSET $5::INTEGER
2025-12-23 15:48:29,127 INFO sqlalchemy.engine.Engine [cached since 11.75s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '%a%', '%a%', 10, 0)
INFO:     127.0.0.1:60443 - "GET /patients?skip=0&limit=10&q=a HTTP/1.1" 200 OK
2025-12-23 15:48:29,130 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:48:29,524 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:48:29,525 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:48:29,525 INFO sqlalchemy.engine.Engine [cached since 90.14s ago] ('apollo_admin',)
2025-12-23 15:48:29,528 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 15:48:29,528 INFO sqlalchemy.engine.Engine [cached since 48.57s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:60443 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:48:29,532 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60443 - "OPTIONS /patients?skip=0&limit=10&q=A HTTP/1.1" 200 OK
2025-12-23 15:48:31,172 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:48:31,173 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:48:31,173 INFO sqlalchemy.engine.Engine [cached since 91.79s ago] ('apollo_admin',)
2025-12-23 15:48:31,176 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR AND (patients.name ILIKE $2::VARCHAR OR patients.mrn ILIKE $3::VARCHAR) 
 LIMIT $4::INTEGER OFFSET $5::INTEGER
2025-12-23 15:48:31,176 INFO sqlalchemy.engine.Engine [cached since 13.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '%A%', '%A%', 10, 0)
INFO:     127.0.0.1:60440 - "GET /patients?skip=0&limit=10&q=A HTTP/1.1" 200 OK
2025-12-23 15:48:31,179 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60440 - "OPTIONS /patients?skip=0&limit=10&q=A%2B HTTP/1.1" 200 OK
2025-12-23 15:48:32,227 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:48:32,228 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:48:32,228 INFO sqlalchemy.engine.Engine [cached since 92.84s ago] ('apollo_admin',)
2025-12-23 15:48:32,230 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR AND (patients.name ILIKE $2::VARCHAR OR patients.mrn ILIKE $3::VARCHAR) 
 LIMIT $4::INTEGER OFFSET $5::INTEGER
2025-12-23 15:48:32,230 INFO sqlalchemy.engine.Engine [cached since 14.85s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '%A+%', '%A+%', 10, 0)
INFO:     127.0.0.1:60443 - "GET /patients?skip=0&limit=10&q=A%2B HTTP/1.1" 200 OK
2025-12-23 15:48:32,231 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:48:33,606 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:48:33,606 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:48:33,606 INFO sqlalchemy.engine.Engine [cached since 94.22s ago] ('apollo_admin',)
2025-12-23 15:48:33,608 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR AND (patients.name ILIKE $2::VARCHAR OR patients.mrn ILIKE $3::VARCHAR) 
 LIMIT $4::INTEGER OFFSET $5::INTEGER
2025-12-23 15:48:33,608 INFO sqlalchemy.engine.Engine [cached since 16.23s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '%A%', '%A%', 10, 0)
INFO:     127.0.0.1:60443 - "GET /patients?skip=0&limit=10&q=A HTTP/1.1" 200 OK
2025-12-23 15:48:33,612 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:48:34,933 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:48:34,933 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:48:34,933 INFO sqlalchemy.engine.Engine [cached since 95.55s ago] ('apollo_admin',)
2025-12-23 15:48:34,936 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 15:48:34,936 INFO sqlalchemy.engine.Engine [cached since 53.98s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:60443 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:48:34,937 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:48:37,979 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:48:37,980 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:48:37,980 INFO sqlalchemy.engine.Engine [cached since 98.6s ago] ('apollo_admin',)
2025-12-23 15:48:37,982 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:48:37,982 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:48:37,982 INFO sqlalchemy.engine.Engine [cached since 98.6s ago] ('apollo_admin',)
2025-12-23 15:48:37,985 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:48:37,985 INFO sqlalchemy.engine.Engine [cached since 98.59s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:48:37,989 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 15:48:37,989 INFO sqlalchemy.engine.Engine [cached since 53.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 15:48:38,000 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:48:38,000 INFO sqlalchemy.engine.Engine [cached since 98.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60446 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:48:38,002 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:48:38,004 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 15:48:38,004 INFO sqlalchemy.engine.Engine [cached since 53.21s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 15:48:38,007 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 15:48:38,007 INFO sqlalchemy.engine.Engine [cached since 53.21s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 15:48:38,010 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 15:48:38,010 INFO sqlalchemy.engine.Engine [cached since 53.21s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60443 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 15:48:38,012 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:48:38,013 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:48:38,013 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:48:38,013 INFO sqlalchemy.engine.Engine [cached since 98.63s ago] ('apollo_admin',)
2025-12-23 15:48:38,015 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 15:48:38,015 INFO sqlalchemy.engine.Engine [cached since 53.23s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 15:48:38,016 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 15:48:38,016 INFO sqlalchemy.engine.Engine [cached since 53.23s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 15:48:38,017 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 15:48:38,017 INFO sqlalchemy.engine.Engine [cached since 53.22s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 15:48:38,018 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 15:48:38,018 INFO sqlalchemy.engine.Engine [cached since 53.22s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60443 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 15:48:38,019 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:49:57,808 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:49:57,813 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:49:57,814 INFO sqlalchemy.engine.Engine [cached since 178.4s ago] ('apollo_admin',)
2025-12-23 15:49:57,837 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:49:57,838 INFO sqlalchemy.engine.Engine [cached since 178.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:49:57,838 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:49:57,838 INFO sqlalchemy.engine.Engine [cached since 178.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60463 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:49:57,844 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:49:57,845 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:49:57,845 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:49:57,845 INFO sqlalchemy.engine.Engine [cached since 178.5s ago] ('apollo_admin',)
2025-12-23 15:49:57,848 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:49:57,848 INFO sqlalchemy.engine.Engine [cached since 178.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:49:57,848 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:49:57,848 INFO sqlalchemy.engine.Engine [cached since 178.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60463 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:49:57,852 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:49:57,865 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:49:57,865 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:49:57,865 INFO sqlalchemy.engine.Engine [cached since 178.5s ago] ('apollo_admin',)
2025-12-23 15:49:57,873 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 15:49:57,873 INFO sqlalchemy.engine.Engine [cached since 133.1s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 15:49:57,877 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 15:49:57,877 INFO sqlalchemy.engine.Engine [cached since 133.1s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 15:49:57,878 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 15:49:57,878 INFO sqlalchemy.engine.Engine [cached since 133.1s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 15:49:57,879 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 15:49:57,879 INFO sqlalchemy.engine.Engine [cached since 133.1s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60463 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 15:49:57,880 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:49:57,881 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:49:57,881 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:49:57,881 INFO sqlalchemy.engine.Engine [cached since 178.5s ago] ('apollo_admin',)
2025-12-23 15:49:57,883 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 15:49:57,883 INFO sqlalchemy.engine.Engine [cached since 133.1s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 15:49:57,884 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 15:49:57,884 INFO sqlalchemy.engine.Engine [cached since 133.1s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 15:49:57,886 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 15:49:57,886 INFO sqlalchemy.engine.Engine [cached since 133.1s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 15:49:57,887 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 15:49:57,887 INFO sqlalchemy.engine.Engine [cached since 133.1s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60463 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 15:49:57,887 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:50:03,411 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:50:03,412 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:50:03,413 INFO sqlalchemy.engine.Engine [cached since 184s ago] ('apollo_admin',)
2025-12-23 15:50:03,416 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:50:03,417 INFO sqlalchemy.engine.Engine [cached since 184s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:50:03,418 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:50:03,418 INFO sqlalchemy.engine.Engine [cached since 184s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60472 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:50:03,419 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:50:03,420 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:50:03,420 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:50:03,420 INFO sqlalchemy.engine.Engine [cached since 184s ago] ('apollo_admin',)
2025-12-23 15:50:03,421 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:50:03,421 INFO sqlalchemy.engine.Engine [cached since 184s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:50:03,422 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:50:03,422 INFO sqlalchemy.engine.Engine [cached since 184s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60472 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:50:03,423 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:50:03,430 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:50:03,430 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:50:03,430 INFO sqlalchemy.engine.Engine [cached since 184s ago] ('apollo_admin',)
2025-12-23 15:50:03,431 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:50:03,431 INFO sqlalchemy.engine.Engine [cached since 184s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:50:03,432 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 15:50:03,432 INFO sqlalchemy.engine.Engine [cached since 144.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:50:03,434 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:50:03,434 INFO sqlalchemy.engine.Engine [cached since 144.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:50:03,434 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 15:50:03,435 INFO sqlalchemy.engine.Engine [cached since 144.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:60472 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:50:03,436 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:50:03,436 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:50:03,436 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:50:03,437 INFO sqlalchemy.engine.Engine [cached since 184.1s ago] ('apollo_admin',)
2025-12-23 15:50:03,437 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:50:03,437 INFO sqlalchemy.engine.Engine [cached since 184s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:50:03,438 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 15:50:03,438 INFO sqlalchemy.engine.Engine [cached since 144.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:50:03,439 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:50:03,439 INFO sqlalchemy.engine.Engine [cached since 144.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:50:03,440 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 15:50:03,440 INFO sqlalchemy.engine.Engine [cached since 144.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:60472 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:50:03,441 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:50:03,442 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:50:03,442 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:50:03,442 INFO sqlalchemy.engine.Engine [cached since 184.1s ago] ('apollo_admin',)
2025-12-23 15:50:03,443 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:50:03,443 INFO sqlalchemy.engine.Engine [cached since 184s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:50:03,444 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 15:50:03,444 INFO sqlalchemy.engine.Engine [cached since 144.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:50:03,444 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:50:03,445 INFO sqlalchemy.engine.Engine [cached since 144.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:50:03,445 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 15:50:03,445 INFO sqlalchemy.engine.Engine [cached since 144.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:60472 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:50:03,446 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:50:09,006 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:50:09,007 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:50:09,007 INFO sqlalchemy.engine.Engine [cached since 189.6s ago] ('admin',)
INFO:     127.0.0.1:60477 - "POST /token HTTP/1.1" 200 OK
2025-12-23 15:50:09,260 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:50:09,279 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:50:09,279 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:50:09,279 INFO sqlalchemy.engine.Engine [cached since 189.9s ago] ('admin',)
2025-12-23 15:50:09,292 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:50:09,292 INFO sqlalchemy.engine.Engine [cached since 189.9s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:50:09,293 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:50:09,293 INFO sqlalchemy.engine.Engine [cached since 189.9s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60477 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:50:09,293 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:50:09,294 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:50:09,294 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:50:09,294 INFO sqlalchemy.engine.Engine [cached since 189.9s ago] ('admin',)
2025-12-23 15:50:09,294 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:50:09,294 INFO sqlalchemy.engine.Engine [cached since 189.9s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:50:09,295 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:50:09,295 INFO sqlalchemy.engine.Engine [cached since 189.9s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60477 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:50:09,295 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:50:09,312 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:50:09,312 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:50:09,312 INFO sqlalchemy.engine.Engine [cached since 189.9s ago] ('admin',)
2025-12-23 15:50:09,313 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:50:09,313 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:50:09,313 INFO sqlalchemy.engine.Engine [cached since 189.9s ago] ('admin',)
2025-12-23 15:50:09,313 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:50:09,313 INFO sqlalchemy.engine.Engine [cached since 189.9s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:50:09,313 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:50:09,314 INFO sqlalchemy.engine.Engine [cached since 189.9s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:50:09,314 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:50:09,314 INFO sqlalchemy.engine.Engine [cached since 170.8s ago] ()
2025-12-23 15:50:09,314 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:50:09,314 INFO sqlalchemy.engine.Engine [cached since 175.5s ago] ()
2025-12-23 15:50:09,315 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:50:09,315 INFO sqlalchemy.engine.Engine [cached since 170.8s ago] ()
2025-12-23 15:50:09,315 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> $1::JSONB AND tenants.is_super_admin = false
2025-12-23 15:50:09,315 INFO sqlalchemy.engine.Engine [cached since 170.8s ago] ('["admin"]',)
2025-12-23 15:50:09,318 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:50:09,318 INFO sqlalchemy.engine.Engine [cached since 170.8s ago] ()
INFO:     127.0.0.1:60477 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:50:09,319 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:50:09,320 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:50:09,320 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:50:09,320 INFO sqlalchemy.engine.Engine [cached since 189.9s ago] ('admin',)
2025-12-23 15:50:09,320 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:50:09,320 INFO sqlalchemy.engine.Engine [cached since 175.5s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 15:50:09,321 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:50:09,321 INFO sqlalchemy.engine.Engine [cached since 189.9s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:50:09,321 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:50:09,321 INFO sqlalchemy.engine.Engine [cached since 170.8s ago] ()
2025-12-23 15:50:09,323 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:50:09,323 INFO sqlalchemy.engine.Engine [cached since 175.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
2025-12-23 15:50:09,323 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:50:09,323 INFO sqlalchemy.engine.Engine [cached since 170.8s ago] ()
INFO:     127.0.0.1:60479 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:50:09,323 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:50:09,324 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:50:09,324 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:50:09,324 INFO sqlalchemy.engine.Engine [cached since 189.9s ago] ('admin',)
2025-12-23 15:50:09,324 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> $1::JSONB AND tenants.is_super_admin = false
2025-12-23 15:50:09,324 INFO sqlalchemy.engine.Engine [cached since 170.8s ago] ('["admin"]',)
2025-12-23 15:50:09,324 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:50:09,325 INFO sqlalchemy.engine.Engine [cached since 189.9s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:50:09,325 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:50:09,325 INFO sqlalchemy.engine.Engine [cached since 175.5s ago] ()
2025-12-23 15:50:09,325 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:50:09,325 INFO sqlalchemy.engine.Engine [cached since 175.5s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 15:50:09,326 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:50:09,326 INFO sqlalchemy.engine.Engine [cached since 175.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
2025-12-23 15:50:09,326 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:50:09,326 INFO sqlalchemy.engine.Engine [cached since 170.8s ago] ()
INFO:     127.0.0.1:60479 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:50:09,326 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60477 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:50:09,327 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:50:09,327 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:50:09,327 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:50:09,327 INFO sqlalchemy.engine.Engine [cached since 189.9s ago] ('admin',)
2025-12-23 15:50:09,328 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:50:09,328 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:50:09,328 INFO sqlalchemy.engine.Engine [cached since 189.9s ago] ('admin',)
2025-12-23 15:50:09,328 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:50:09,328 INFO sqlalchemy.engine.Engine [cached since 189.9s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:50:09,328 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:50:09,328 INFO sqlalchemy.engine.Engine [cached since 189.9s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:50:09,328 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:50:09,328 INFO sqlalchemy.engine.Engine [cached since 175.5s ago] ()
2025-12-23 15:50:09,329 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:50:09,329 INFO sqlalchemy.engine.Engine [cached since 170.8s ago] ()
2025-12-23 15:50:09,329 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:50:09,329 INFO sqlalchemy.engine.Engine [cached since 175.5s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 15:50:09,329 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:50:09,329 INFO sqlalchemy.engine.Engine [cached since 170.8s ago] ()
2025-12-23 15:50:09,329 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:50:09,329 INFO sqlalchemy.engine.Engine [cached since 175.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
2025-12-23 15:50:09,330 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> $1::JSONB AND tenants.is_super_admin = false
2025-12-23 15:50:09,330 INFO sqlalchemy.engine.Engine [cached since 170.8s ago] ('["admin"]',)
INFO:     127.0.0.1:60479 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:50:09,330 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:50:09,330 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:50:09,330 INFO sqlalchemy.engine.Engine [cached since 170.8s ago] ()
INFO:     127.0.0.1:60477 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:50:09,331 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:50:12,037 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:50:12,039 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:50:12,039 INFO sqlalchemy.engine.Engine [cached since 192.7s ago] ('admin',)
2025-12-23 15:50:12,040 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:50:12,041 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:50:12,041 INFO sqlalchemy.engine.Engine [cached since 192.7s ago] ('admin',)
2025-12-23 15:50:12,042 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:50:12,043 INFO sqlalchemy.engine.Engine [cached since 192.6s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:50:12,044 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:50:12,044 INFO sqlalchemy.engine.Engine [cached since 192.6s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:50:12,045 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:50:12,045 INFO sqlalchemy.engine.Engine [cached since 178.2s ago] ()
2025-12-23 15:50:12,047 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:50:12,047 INFO sqlalchemy.engine.Engine [cached since 192.6s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:50:12,048 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:50:12,048 INFO sqlalchemy.engine.Engine [cached since 178.2s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
INFO:     127.0.0.1:60479 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:50:12,049 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:50:12,049 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:50:12,049 INFO sqlalchemy.engine.Engine [cached since 178.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:60477 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:50:12,051 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:50:12,052 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:50:12,052 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:50:12,052 INFO sqlalchemy.engine.Engine [cached since 192.7s ago] ('admin',)
2025-12-23 15:50:12,054 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:50:12,054 INFO sqlalchemy.engine.Engine [cached since 192.7s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:50:12,055 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:50:12,055 INFO sqlalchemy.engine.Engine [cached since 178.2s ago] ()
2025-12-23 15:50:12,056 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:50:12,056 INFO sqlalchemy.engine.Engine [cached since 178.2s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 15:50:12,057 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:50:12,057 INFO sqlalchemy.engine.Engine [cached since 178.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:60477 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:50:12,058 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:50:15,908 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:50:15,909 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:50:15,909 INFO sqlalchemy.engine.Engine [cached since 196.5s ago] ('admin',)
2025-12-23 15:50:15,910 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:50:15,911 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:50:15,911 INFO sqlalchemy.engine.Engine [cached since 196.5s ago] ('admin',)
2025-12-23 15:50:15,912 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:50:15,912 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:50:15,912 INFO sqlalchemy.engine.Engine [cached since 196.5s ago] ('admin',)
2025-12-23 15:50:15,914 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:50:15,914 INFO sqlalchemy.engine.Engine [cached since 196.5s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:50:15,915 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:50:15,915 INFO sqlalchemy.engine.Engine [cached since 196.4s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:50:15,916 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:50:15,916 INFO sqlalchemy.engine.Engine [cached since 196.5s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60485 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:50:15,918 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:50:15,919 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:50:15,919 INFO sqlalchemy.engine.Engine [cached since 196.5s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60484 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:50:15,921 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:50:15,921 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:50:15,921 INFO sqlalchemy.engine.Engine [cached since 196.5s ago] ('admin',)
2025-12-23 15:50:15,921 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60486 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:50:15,922 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:50:15,923 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:50:15,923 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:50:15,923 INFO sqlalchemy.engine.Engine [cached since 196.5s ago] ('admin',)
2025-12-23 15:50:15,923 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:50:15,924 INFO sqlalchemy.engine.Engine [cached since 196.5s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:50:15,924 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:50:15,924 INFO sqlalchemy.engine.Engine [cached since 196.4s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60485 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:50:15,924 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60484 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:50:15,925 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60498 - "OPTIONS /register HTTP/1.1" 200 OK
INFO:     127.0.0.1:60498 - "POST /register HTTP/1.1" 404 Not Found
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [27186]
INFO:     Started server process [27359]
INFO:     Waiting for application startup.
2025-12-23 15:52:32,797 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 15:52:32,797 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:52:32,799 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 15:52:32,799 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:52:32,800 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 15:52:32,800 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 15:52:32,801 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:52:32,803 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:52:32,803 INFO sqlalchemy.engine.Engine [generated in 0.00012s] ('tenants', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:52:32,811 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:52:32,811 INFO sqlalchemy.engine.Engine [cached since 0.008219s ago] ('tenant_settings', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:52:32,811 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:52:32,812 INFO sqlalchemy.engine.Engine [cached since 0.008566s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:52:32,812 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:52:32,812 INFO sqlalchemy.engine.Engine [cached since 0.00883s ago] ('patients', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:52:32,812 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:52:32,812 INFO sqlalchemy.engine.Engine [cached since 0.009069s ago] ('clinical_records', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:52:32,812 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:52:32,812 INFO sqlalchemy.engine.Engine [cached since 0.009302s ago] ('appointments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:52:32,812 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:52:32,812 INFO sqlalchemy.engine.Engine [cached since 0.009539s ago] ('attachments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:52:32,813 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:52:32,813 INFO sqlalchemy.engine.Engine [cached since 0.00971s ago] ('prescriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:52:32,813 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 15:52:32,813 INFO sqlalchemy.engine.Engine [cached since 0.009902s ago] ('invoices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 15:52:32,813 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     127.0.0.1:60604 - "OPTIONS /users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:60605 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 15:57:49,094 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:57:49,111 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:57:49,111 INFO sqlalchemy.engine.Engine [generated in 0.00014s] ('admin',)
2025-12-23 15:57:49,160 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:57:49,160 INFO sqlalchemy.engine.Engine [generated in 0.00008s] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:57:49,163 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:57:49,163 INFO sqlalchemy.engine.Engine [generated in 0.00006s] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60604 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:57:49,167 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:57:49,169 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:57:49,169 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:57:49,169 INFO sqlalchemy.engine.Engine [cached since 0.0584s ago] ('admin',)
2025-12-23 15:57:49,170 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:57:49,170 INFO sqlalchemy.engine.Engine [cached since 0.009636s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:57:49,170 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:57:49,170 INFO sqlalchemy.engine.Engine [cached since 0.006822s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60604 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:57:49,171 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60604 - "OPTIONS /users HTTP/1.1" 200 OK
INFO:     127.0.0.1:60605 - "OPTIONS /settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:60607 - "OPTIONS /users HTTP/1.1" 200 OK
2025-12-23 15:57:49,248 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:57:49,248 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:57:49,248 INFO sqlalchemy.engine.Engine [cached since 0.1367s ago] ('admin',)
INFO:     127.0.0.1:60605 - "OPTIONS /settings HTTP/1.1" 200 OK
2025-12-23 15:57:49,266 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:57:49,266 INFO sqlalchemy.engine.Engine [generated in 0.00008s] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60604 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:57:49,267 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:57:49,268 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:57:49,268 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:57:49,268 INFO sqlalchemy.engine.Engine [cached since 0.1569s ago] ('admin',)
2025-12-23 15:57:49,268 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:57:49,268 INFO sqlalchemy.engine.Engine [cached since 0.002857s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60604 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:57:49,269 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:57:49,369 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:57:49,369 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:57:49,369 INFO sqlalchemy.engine.Engine [cached since 0.2582s ago] ('admin',)
2025-12-23 15:57:49,372 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:57:49,372 INFO sqlalchemy.engine.Engine [cached since 0.2084s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60610 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:57:49,373 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:57:49,374 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:57:49,374 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:57:49,374 INFO sqlalchemy.engine.Engine [cached since 0.2632s ago] ('admin',)
2025-12-23 15:57:49,375 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:57:49,375 INFO sqlalchemy.engine.Engine [cached since 0.2119s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60610 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:57:49,376 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60619 - "POST /register HTTP/1.1" 404 Not Found
2025-12-23 15:58:13,662 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:13,662 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:13,663 INFO sqlalchemy.engine.Engine [cached since 24.55s ago] ('admin',)
2025-12-23 15:58:13,665 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:13,665 INFO sqlalchemy.engine.Engine [cached since 24.51s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:13,670 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:13,670 INFO sqlalchemy.engine.Engine [cached since 24.51s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60619 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:58:13,672 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:13,673 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:13,673 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:13,673 INFO sqlalchemy.engine.Engine [cached since 24.56s ago] ('admin',)
2025-12-23 15:58:13,675 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:13,675 INFO sqlalchemy.engine.Engine [cached since 24.51s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:13,675 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:13,675 INFO sqlalchemy.engine.Engine [cached since 24.51s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60619 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:58:13,676 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:13,689 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:13,689 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:13,689 INFO sqlalchemy.engine.Engine [cached since 24.58s ago] ('admin',)
2025-12-23 15:58:13,689 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:13,689 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:13,689 INFO sqlalchemy.engine.Engine [cached since 24.58s ago] ('admin',)
2025-12-23 15:58:13,690 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:13,690 INFO sqlalchemy.engine.Engine [cached since 24.53s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:13,690 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:58:13,690 INFO sqlalchemy.engine.Engine [cached since 24.42s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60628 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:58:13,690 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60619 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:58:13,691 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:13,691 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:13,691 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:13,691 INFO sqlalchemy.engine.Engine [cached since 24.58s ago] ('admin',)
2025-12-23 15:58:13,694 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:13,694 INFO sqlalchemy.engine.Engine [cached since 24.53s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60628 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:58:13,694 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:13,753 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:13,753 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:13,753 INFO sqlalchemy.engine.Engine [cached since 24.64s ago] ('admin',)
2025-12-23 15:58:13,756 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:58:13,756 INFO sqlalchemy.engine.Engine [cached since 24.49s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60619 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:58:13,757 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:14,453 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:14,454 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:14,454 INFO sqlalchemy.engine.Engine [cached since 25.34s ago] ('admin',)
2025-12-23 15:58:14,457 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:14,457 INFO sqlalchemy.engine.Engine [cached since 25.3s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:14,458 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:14,458 INFO sqlalchemy.engine.Engine [cached since 25.29s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60637 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:58:14,459 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:14,460 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:14,460 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:14,460 INFO sqlalchemy.engine.Engine [cached since 25.35s ago] ('admin',)
2025-12-23 15:58:14,461 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:14,461 INFO sqlalchemy.engine.Engine [cached since 25.3s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:14,462 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:14,462 INFO sqlalchemy.engine.Engine [cached since 25.3s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60637 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:58:14,462 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:14,470 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:14,470 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:14,470 INFO sqlalchemy.engine.Engine [cached since 25.36s ago] ('admin',)
2025-12-23 15:58:14,471 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:14,471 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:14,471 INFO sqlalchemy.engine.Engine [cached since 25.36s ago] ('admin',)
2025-12-23 15:58:14,472 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:58:14,472 INFO sqlalchemy.engine.Engine [cached since 25.21s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:14,473 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:14,473 INFO sqlalchemy.engine.Engine [cached since 25.31s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60637 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:58:14,474 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60639 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:58:14,474 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:14,476 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:14,476 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:14,476 INFO sqlalchemy.engine.Engine [cached since 25.36s ago] ('admin',)
2025-12-23 15:58:14,479 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:14,480 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:14,480 INFO sqlalchemy.engine.Engine [cached since 25.37s ago] ('admin',)
2025-12-23 15:58:14,481 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:58:14,481 INFO sqlalchemy.engine.Engine [cached since 25.22s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:14,481 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:14,481 INFO sqlalchemy.engine.Engine [cached since 25.32s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60637 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:58:14,482 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60639 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:58:14,484 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:14,656 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:14,656 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:14,656 INFO sqlalchemy.engine.Engine [cached since 25.55s ago] ('admin',)
2025-12-23 15:58:14,657 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:14,657 INFO sqlalchemy.engine.Engine [cached since 25.5s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:14,658 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:14,658 INFO sqlalchemy.engine.Engine [cached since 25.49s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60639 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:58:14,659 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:14,660 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:14,660 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:14,660 INFO sqlalchemy.engine.Engine [cached since 25.55s ago] ('admin',)
2025-12-23 15:58:14,661 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:14,661 INFO sqlalchemy.engine.Engine [cached since 25.5s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:14,662 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:14,662 INFO sqlalchemy.engine.Engine [cached since 25.5s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60639 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:58:14,663 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:14,669 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:14,669 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:14,669 INFO sqlalchemy.engine.Engine [cached since 25.56s ago] ('admin',)
2025-12-23 15:58:14,670 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:14,670 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:14,670 INFO sqlalchemy.engine.Engine [cached since 25.56s ago] ('admin',)
2025-12-23 15:58:14,671 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:14,671 INFO sqlalchemy.engine.Engine [cached since 25.51s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:14,672 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:58:14,672 INFO sqlalchemy.engine.Engine [cached since 25.41s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60637 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:58:14,672 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60639 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:58:14,673 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:14,675 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:14,675 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:14,675 INFO sqlalchemy.engine.Engine [cached since 25.56s ago] ('admin',)
2025-12-23 15:58:14,676 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:14,676 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:14,676 INFO sqlalchemy.engine.Engine [cached since 25.56s ago] ('admin',)
2025-12-23 15:58:14,677 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:14,677 INFO sqlalchemy.engine.Engine [cached since 25.51s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:14,677 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:58:14,677 INFO sqlalchemy.engine.Engine [cached since 25.41s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60637 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:58:14,678 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60639 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:58:14,679 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:14,856 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:14,857 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:14,857 INFO sqlalchemy.engine.Engine [cached since 25.75s ago] ('admin',)
2025-12-23 15:58:14,859 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:14,859 INFO sqlalchemy.engine.Engine [cached since 25.7s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:14,860 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:14,861 INFO sqlalchemy.engine.Engine [cached since 25.7s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60639 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:58:14,862 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:14,863 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:14,863 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:14,863 INFO sqlalchemy.engine.Engine [cached since 25.75s ago] ('admin',)
2025-12-23 15:58:14,864 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:14,864 INFO sqlalchemy.engine.Engine [cached since 25.7s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:14,865 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:14,865 INFO sqlalchemy.engine.Engine [cached since 25.7s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60639 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:58:14,865 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:14,871 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:14,872 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:14,872 INFO sqlalchemy.engine.Engine [cached since 25.76s ago] ('admin',)
2025-12-23 15:58:14,873 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:14,873 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:14,873 INFO sqlalchemy.engine.Engine [cached since 25.76s ago] ('admin',)
2025-12-23 15:58:14,874 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:58:14,874 INFO sqlalchemy.engine.Engine [cached since 25.61s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:14,875 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:14,875 INFO sqlalchemy.engine.Engine [cached since 25.71s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60639 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:58:14,875 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60637 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:58:14,876 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:14,876 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:14,877 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:14,877 INFO sqlalchemy.engine.Engine [cached since 25.77s ago] ('admin',)
2025-12-23 15:58:14,877 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:14,877 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:14,877 INFO sqlalchemy.engine.Engine [cached since 25.77s ago] ('admin',)
2025-12-23 15:58:14,878 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:58:14,878 INFO sqlalchemy.engine.Engine [cached since 25.61s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:14,879 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:14,879 INFO sqlalchemy.engine.Engine [cached since 25.72s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60639 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:58:14,880 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60637 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:58:14,881 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:15,199 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:15,199 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:15,199 INFO sqlalchemy.engine.Engine [cached since 26.09s ago] ('admin',)
2025-12-23 15:58:15,200 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:15,200 INFO sqlalchemy.engine.Engine [cached since 26.04s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:15,200 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:15,200 INFO sqlalchemy.engine.Engine [cached since 26.04s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60637 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:58:15,201 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:15,202 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:15,202 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:15,202 INFO sqlalchemy.engine.Engine [cached since 26.09s ago] ('admin',)
2025-12-23 15:58:15,203 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:15,203 INFO sqlalchemy.engine.Engine [cached since 26.04s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:15,204 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:15,204 INFO sqlalchemy.engine.Engine [cached since 26.04s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60637 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:58:15,205 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:15,212 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:15,212 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:15,212 INFO sqlalchemy.engine.Engine [cached since 26.1s ago] ('admin',)
2025-12-23 15:58:15,212 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:15,212 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:15,212 INFO sqlalchemy.engine.Engine [cached since 26.1s ago] ('admin',)
2025-12-23 15:58:15,212 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:58:15,213 INFO sqlalchemy.engine.Engine [cached since 25.95s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:15,213 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:15,213 INFO sqlalchemy.engine.Engine [cached since 26.05s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60637 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:58:15,213 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60639 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:58:15,213 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:15,214 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:15,214 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:15,214 INFO sqlalchemy.engine.Engine [cached since 26.1s ago] ('admin',)
2025-12-23 15:58:15,215 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:15,216 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:15,216 INFO sqlalchemy.engine.Engine [cached since 26.1s ago] ('admin',)
2025-12-23 15:58:15,216 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:58:15,216 INFO sqlalchemy.engine.Engine [cached since 25.95s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:15,216 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:15,216 INFO sqlalchemy.engine.Engine [cached since 26.05s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60637 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:58:15,218 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60639 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:58:15,220 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:15,398 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:15,399 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:15,399 INFO sqlalchemy.engine.Engine [cached since 26.29s ago] ('admin',)
2025-12-23 15:58:15,400 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:15,400 INFO sqlalchemy.engine.Engine [cached since 26.24s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:15,401 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:15,401 INFO sqlalchemy.engine.Engine [cached since 26.24s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60639 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:58:15,402 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:15,403 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:15,404 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:15,404 INFO sqlalchemy.engine.Engine [cached since 26.29s ago] ('admin',)
2025-12-23 15:58:15,404 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:15,405 INFO sqlalchemy.engine.Engine [cached since 26.24s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:15,405 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:15,405 INFO sqlalchemy.engine.Engine [cached since 26.24s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60639 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:58:15,406 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:15,412 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:15,413 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:15,413 INFO sqlalchemy.engine.Engine [cached since 26.3s ago] ('admin',)
2025-12-23 15:58:15,413 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:15,413 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:15,413 INFO sqlalchemy.engine.Engine [cached since 26.3s ago] ('admin',)
2025-12-23 15:58:15,414 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:58:15,414 INFO sqlalchemy.engine.Engine [cached since 26.15s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:15,415 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:15,415 INFO sqlalchemy.engine.Engine [cached since 26.25s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60639 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:58:15,416 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60637 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:58:15,417 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:15,418 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:15,418 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:15,418 INFO sqlalchemy.engine.Engine [cached since 26.31s ago] ('admin',)
2025-12-23 15:58:15,419 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:15,419 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:15,419 INFO sqlalchemy.engine.Engine [cached since 26.31s ago] ('admin',)
2025-12-23 15:58:15,420 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:58:15,420 INFO sqlalchemy.engine.Engine [cached since 26.15s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:15,421 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:15,421 INFO sqlalchemy.engine.Engine [cached since 26.26s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60639 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:58:15,422 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60637 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:58:15,422 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:15,722 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:15,722 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:15,722 INFO sqlalchemy.engine.Engine [cached since 26.61s ago] ('admin',)
2025-12-23 15:58:15,724 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:15,724 INFO sqlalchemy.engine.Engine [cached since 26.56s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:15,725 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:15,725 INFO sqlalchemy.engine.Engine [cached since 26.56s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60637 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:58:15,725 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:15,726 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:15,726 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:15,726 INFO sqlalchemy.engine.Engine [cached since 26.62s ago] ('admin',)
2025-12-23 15:58:15,727 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:15,727 INFO sqlalchemy.engine.Engine [cached since 26.57s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:15,728 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:15,728 INFO sqlalchemy.engine.Engine [cached since 26.56s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60637 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:58:15,729 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:15,736 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:15,736 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:15,736 INFO sqlalchemy.engine.Engine [cached since 26.63s ago] ('admin',)
2025-12-23 15:58:15,737 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:15,737 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:15,737 INFO sqlalchemy.engine.Engine [cached since 26.63s ago] ('admin',)
2025-12-23 15:58:15,738 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:58:15,738 INFO sqlalchemy.engine.Engine [cached since 26.47s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:15,739 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:15,739 INFO sqlalchemy.engine.Engine [cached since 26.58s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60637 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:58:15,740 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60639 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:58:15,740 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:15,741 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:15,741 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:15,741 INFO sqlalchemy.engine.Engine [cached since 26.63s ago] ('admin',)
2025-12-23 15:58:15,742 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:15,742 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:15,742 INFO sqlalchemy.engine.Engine [cached since 26.63s ago] ('admin',)
2025-12-23 15:58:15,743 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:58:15,743 INFO sqlalchemy.engine.Engine [cached since 26.48s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:15,743 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:15,743 INFO sqlalchemy.engine.Engine [cached since 26.58s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60637 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:58:15,744 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60639 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:58:15,744 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:19,750 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:19,751 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:19,751 INFO sqlalchemy.engine.Engine [cached since 30.64s ago] ('admin',)
INFO:     127.0.0.1:60648 - "POST /token HTTP/1.1" 200 OK
2025-12-23 15:58:19,997 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:20,016 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:20,017 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:20,017 INFO sqlalchemy.engine.Engine [cached since 30.91s ago] ('admin',)
2025-12-23 15:58:20,018 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:20,018 INFO sqlalchemy.engine.Engine [cached since 30.86s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:20,022 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:20,022 INFO sqlalchemy.engine.Engine [cached since 30.86s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60648 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:58:20,023 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:20,024 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:20,024 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:20,024 INFO sqlalchemy.engine.Engine [cached since 30.91s ago] ('admin',)
2025-12-23 15:58:20,024 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:20,024 INFO sqlalchemy.engine.Engine [cached since 30.86s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:20,025 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:20,025 INFO sqlalchemy.engine.Engine [cached since 30.86s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60648 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:58:20,025 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60648 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
INFO:     127.0.0.1:60651 - "OPTIONS /tenants HTTP/1.1" 200 OK
INFO:     127.0.0.1:60648 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
INFO:     127.0.0.1:60654 - "OPTIONS /tenants HTTP/1.1" 200 OK
2025-12-23 15:58:20,048 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:20,048 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:20,048 INFO sqlalchemy.engine.Engine [cached since 30.94s ago] ('admin',)
2025-12-23 15:58:20,049 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:20,049 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:20,049 INFO sqlalchemy.engine.Engine [cached since 30.94s ago] ('admin',)
2025-12-23 15:58:20,049 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:20,049 INFO sqlalchemy.engine.Engine [cached since 30.89s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:20,049 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:20,049 INFO sqlalchemy.engine.Engine [cached since 30.89s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:20,052 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:58:20,052 INFO sqlalchemy.engine.Engine [generated in 0.00007s] ()
2025-12-23 15:58:20,053 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:58:20,053 INFO sqlalchemy.engine.Engine [generated in 0.00008s] ()
2025-12-23 15:58:20,057 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:58:20,057 INFO sqlalchemy.engine.Engine [generated in 0.00005s] ()
2025-12-23 15:58:20,059 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:58:20,059 INFO sqlalchemy.engine.Engine [generated in 0.00007s] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 15:58:20,060 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> $1::JSONB AND tenants.is_super_admin = false
2025-12-23 15:58:20,061 INFO sqlalchemy.engine.Engine [generated in 0.00006s] ('["admin"]',)
2025-12-23 15:58:20,061 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:58:20,061 INFO sqlalchemy.engine.Engine [cached since 0.002347s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:60656 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:58:20,062 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:20,063 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:20,063 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:20,063 INFO sqlalchemy.engine.Engine [cached since 30.95s ago] ('admin',)
2025-12-23 15:58:20,068 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:20,068 INFO sqlalchemy.engine.Engine [cached since 30.91s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:20,068 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:58:20,068 INFO sqlalchemy.engine.Engine [generated in 0.00004s] ()
2025-12-23 15:58:20,069 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:58:20,069 INFO sqlalchemy.engine.Engine [cached since 0.01564s ago] ()
INFO:     127.0.0.1:60651 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:58:20,069 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:20,070 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:20,070 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:20,070 INFO sqlalchemy.engine.Engine [cached since 30.96s ago] ('admin',)
2025-12-23 15:58:20,070 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:20,070 INFO sqlalchemy.engine.Engine [cached since 30.91s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:20,071 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:58:20,071 INFO sqlalchemy.engine.Engine [cached since 0.01193s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 15:58:20,071 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:58:20,071 INFO sqlalchemy.engine.Engine [cached since 0.01857s ago] ()
2025-12-23 15:58:20,071 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:58:20,071 INFO sqlalchemy.engine.Engine [cached since 0.01261s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:60656 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:58:20,072 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:20,072 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:58:20,072 INFO sqlalchemy.engine.Engine [cached since 0.01506s ago] ()
2025-12-23 15:58:20,072 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:20,072 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:20,072 INFO sqlalchemy.engine.Engine [cached since 30.96s ago] ('admin',)
2025-12-23 15:58:20,073 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:20,073 INFO sqlalchemy.engine.Engine [cached since 30.91s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:20,073 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:58:20,073 INFO sqlalchemy.engine.Engine [cached since 0.02022s ago] ()
2025-12-23 15:58:20,074 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> $1::JSONB AND tenants.is_super_admin = false
2025-12-23 15:58:20,074 INFO sqlalchemy.engine.Engine [cached since 0.0132s ago] ('["admin"]',)
2025-12-23 15:58:20,074 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:58:20,074 INFO sqlalchemy.engine.Engine [cached since 0.01549s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 15:58:20,075 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:58:20,075 INFO sqlalchemy.engine.Engine [cached since 0.01601s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
2025-12-23 15:58:20,075 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:58:20,075 INFO sqlalchemy.engine.Engine [cached since 0.006477s ago] ()
INFO:     127.0.0.1:60656 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:58:20,075 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60651 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:58:20,076 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:20,076 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:20,076 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:20,076 INFO sqlalchemy.engine.Engine [cached since 30.97s ago] ('admin',)
2025-12-23 15:58:20,076 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:20,077 INFO sqlalchemy.engine.Engine [cached since 30.92s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:20,077 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:58:20,077 INFO sqlalchemy.engine.Engine [cached since 0.02451s ago] ()
2025-12-23 15:58:20,077 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 15:58:20,077 INFO sqlalchemy.engine.Engine [cached since 0.02051s ago] ()
2025-12-23 15:58:20,078 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> $1::JSONB AND tenants.is_super_admin = false
2025-12-23 15:58:20,078 INFO sqlalchemy.engine.Engine [cached since 0.01784s ago] ('["admin"]',)
2025-12-23 15:58:20,079 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 15:58:20,079 INFO sqlalchemy.engine.Engine [cached since 0.01076s ago] ()
INFO:     127.0.0.1:60651 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:58:20,080 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:21,808 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:21,809 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:21,809 INFO sqlalchemy.engine.Engine [cached since 32.7s ago] ('admin',)
2025-12-23 15:58:21,810 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:21,810 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:21,811 INFO sqlalchemy.engine.Engine [cached since 32.7s ago] ('admin',)
2025-12-23 15:58:21,812 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:21,812 INFO sqlalchemy.engine.Engine [cached since 32.65s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:21,813 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:21,813 INFO sqlalchemy.engine.Engine [cached since 32.65s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:21,813 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:58:21,813 INFO sqlalchemy.engine.Engine [cached since 1.76s ago] ()
2025-12-23 15:58:21,814 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:21,814 INFO sqlalchemy.engine.Engine [cached since 32.65s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:21,815 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:58:21,815 INFO sqlalchemy.engine.Engine [cached since 1.756s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
INFO:     127.0.0.1:60656 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:58:21,816 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:21,817 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:58:21,817 INFO sqlalchemy.engine.Engine [cached since 1.758s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:60651 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:58:21,818 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:21,820 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:21,820 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:21,820 INFO sqlalchemy.engine.Engine [cached since 32.71s ago] ('admin',)
2025-12-23 15:58:21,823 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:21,823 INFO sqlalchemy.engine.Engine [cached since 32.66s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:21,824 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:58:21,824 INFO sqlalchemy.engine.Engine [cached since 1.771s ago] ()
2025-12-23 15:58:21,825 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:58:21,825 INFO sqlalchemy.engine.Engine [cached since 1.767s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 15:58:21,826 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:58:21,826 INFO sqlalchemy.engine.Engine [cached since 1.767s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:60651 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:58:21,827 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:23,726 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:23,726 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:23,726 INFO sqlalchemy.engine.Engine [cached since 34.62s ago] ('admin',)
2025-12-23 15:58:23,727 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:23,727 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:23,728 INFO sqlalchemy.engine.Engine [cached since 34.62s ago] ('admin',)
2025-12-23 15:58:23,728 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:23,729 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:23,729 INFO sqlalchemy.engine.Engine [cached since 34.62s ago] ('admin',)
2025-12-23 15:58:23,730 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:23,730 INFO sqlalchemy.engine.Engine [cached since 34.57s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:23,732 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:58:23,732 INFO sqlalchemy.engine.Engine [cached since 34.47s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:23,733 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:23,733 INFO sqlalchemy.engine.Engine [cached since 34.57s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60656 - "GET /settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:60651 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:58:23,736 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:23,736 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:23,737 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:23,737 INFO sqlalchemy.engine.Engine [cached since 34.57s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60654 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:58:23,743 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:23,786 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:23,786 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:23,786 INFO sqlalchemy.engine.Engine [cached since 34.68s ago] ('admin',)
2025-12-23 15:58:23,786 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:23,787 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:23,787 INFO sqlalchemy.engine.Engine [cached since 34.68s ago] ('admin',)
2025-12-23 15:58:23,789 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:23,789 INFO sqlalchemy.engine.Engine [cached since 34.63s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:23,790 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:58:23,790 INFO sqlalchemy.engine.Engine [cached since 34.52s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60656 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 15:58:23,791 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60651 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:58:23,792 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60667 - "POST /register HTTP/1.1" 404 Not Found
2025-12-23 15:58:49,130 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:49,131 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:49,131 INFO sqlalchemy.engine.Engine [cached since 60.02s ago] ('admin',)
2025-12-23 15:58:49,133 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:49,133 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:49,133 INFO sqlalchemy.engine.Engine [cached since 60.02s ago] ('admin',)
2025-12-23 15:58:49,138 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:49,138 INFO sqlalchemy.engine.Engine [cached since 59.98s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:49,139 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:49,139 INFO sqlalchemy.engine.Engine [cached since 59.98s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:49,139 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:58:49,139 INFO sqlalchemy.engine.Engine [cached since 29.09s ago] ()
2025-12-23 15:58:49,139 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:49,139 INFO sqlalchemy.engine.Engine [cached since 59.98s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:49,140 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:58:49,140 INFO sqlalchemy.engine.Engine [cached since 29.08s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
INFO:     127.0.0.1:60671 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:58:49,141 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:49,141 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:58:49,141 INFO sqlalchemy.engine.Engine [cached since 29.08s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:60670 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:58:49,142 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:49,143 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:49,143 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:49,143 INFO sqlalchemy.engine.Engine [cached since 60.03s ago] ('admin',)
2025-12-23 15:58:49,143 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:49,143 INFO sqlalchemy.engine.Engine [cached since 59.98s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:49,144 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 15:58:49,144 INFO sqlalchemy.engine.Engine [cached since 29.09s ago] ()
2025-12-23 15:58:49,144 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:58:49,144 INFO sqlalchemy.engine.Engine [cached since 29.09s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 15:58:49,145 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 15:58:49,145 INFO sqlalchemy.engine.Engine [cached since 29.09s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:60670 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 15:58:49,145 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60675 - "OPTIONS /tenants/68923952-1085-4d0e-85bf-66bbbb8ad0c7/impersonate HTTP/1.1" 200 OK
2025-12-23 15:58:54,711 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:54,711 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:54,711 INFO sqlalchemy.engine.Engine [cached since 65.6s ago] ('admin',)
2025-12-23 15:58:54,716 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:54,716 INFO sqlalchemy.engine.Engine [cached since 65.56s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 15:58:54,722 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER
2025-12-23 15:58:54,722 INFO sqlalchemy.engine.Engine [generated in 0.00020s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 1)
2025-12-23 15:58:54,724 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:58:54,724 INFO sqlalchemy.engine.Engine [cached since 65.46s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60675 - "POST /tenants/68923952-1085-4d0e-85bf-66bbbb8ad0c7/impersonate HTTP/1.1" 200 OK
2025-12-23 15:58:54,726 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:54,823 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:54,823 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:54,823 INFO sqlalchemy.engine.Engine [cached since 65.71s ago] ('apollo_admin',)
2025-12-23 15:58:54,825 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:54,825 INFO sqlalchemy.engine.Engine [cached since 65.66s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:58:54,826 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:54,826 INFO sqlalchemy.engine.Engine [cached since 65.66s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60675 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:58:54,827 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:54,828 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:54,828 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:54,828 INFO sqlalchemy.engine.Engine [cached since 65.72s ago] ('apollo_admin',)
2025-12-23 15:58:54,829 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:54,829 INFO sqlalchemy.engine.Engine [cached since 65.67s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:58:54,829 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:54,829 INFO sqlalchemy.engine.Engine [cached since 65.67s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60675 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:58:54,830 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:54,837 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:54,837 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:54,837 INFO sqlalchemy.engine.Engine [cached since 65.73s ago] ('apollo_admin',)
2025-12-23 15:58:54,838 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:54,838 INFO sqlalchemy.engine.Engine [cached since 65.68s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:58:54,841 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 15:58:54,841 INFO sqlalchemy.engine.Engine [generated in 0.00007s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:58:54,847 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:58:54,847 INFO sqlalchemy.engine.Engine [generated in 0.00016s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:58:54,850 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 15:58:54,850 INFO sqlalchemy.engine.Engine [generated in 0.00007s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:60675 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:58:54,855 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:54,855 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:54,855 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:54,855 INFO sqlalchemy.engine.Engine [cached since 65.74s ago] ('apollo_admin',)
2025-12-23 15:58:54,856 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:54,856 INFO sqlalchemy.engine.Engine [cached since 65.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:58:54,856 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 15:58:54,856 INFO sqlalchemy.engine.Engine [cached since 0.01478s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:58:54,857 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:58:54,857 INFO sqlalchemy.engine.Engine [cached since 0.009376s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:58:54,857 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 15:58:54,857 INFO sqlalchemy.engine.Engine [cached since 0.007153s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:60675 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:58:54,858 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:54,859 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:54,859 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:54,859 INFO sqlalchemy.engine.Engine [cached since 65.75s ago] ('apollo_admin',)
2025-12-23 15:58:54,860 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:54,860 INFO sqlalchemy.engine.Engine [cached since 65.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:58:54,860 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 15:58:54,860 INFO sqlalchemy.engine.Engine [cached since 0.01881s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:58:54,862 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:58:54,862 INFO sqlalchemy.engine.Engine [cached since 0.01452s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:58:54,862 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 15:58:54,862 INFO sqlalchemy.engine.Engine [cached since 0.01229s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:60675 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 15:58:54,864 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60675 - "OPTIONS /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:60677 - "OPTIONS /patients HTTP/1.1" 200 OK
2025-12-23 15:58:56,664 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:56,664 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:56,664 INFO sqlalchemy.engine.Engine [cached since 67.55s ago] ('apollo_admin',)
2025-12-23 15:58:56,665 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:56,665 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:56,665 INFO sqlalchemy.engine.Engine [cached since 67.55s ago] ('apollo_admin',)
2025-12-23 15:58:56,670 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:56,670 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:56,670 INFO sqlalchemy.engine.Engine [cached since 67.56s ago] ('apollo_admin',)
INFO:     127.0.0.1:60690 - "OPTIONS /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:60691 - "OPTIONS /patients HTTP/1.1" 200 OK
2025-12-23 15:58:56,673 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:56,674 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:56,674 INFO sqlalchemy.engine.Engine [cached since 67.56s ago] ('apollo_admin',)
2025-12-23 15:58:56,675 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:58:56,675 INFO sqlalchemy.engine.Engine [cached since 67.41s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:58:56,675 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:56,675 INFO sqlalchemy.engine.Engine [cached since 67.52s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:58:56,680 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 15:58:56,680 INFO sqlalchemy.engine.Engine [generated in 0.00016s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 100, 0)
INFO:     127.0.0.1:60688 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:58:56,682 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:56,682 INFO sqlalchemy.engine.Engine [cached since 67.52s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:58:56,682 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:56,685 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT $2::INTEGER
2025-12-23 15:58:56,685 INFO sqlalchemy.engine.Engine [generated in 0.00013s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 200)
INFO:     127.0.0.1:60675 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:58:56,686 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:56,687 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:56,687 INFO sqlalchemy.engine.Engine [cached since 67.58s ago] ('apollo_admin',)
2025-12-23 15:58:56,687 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60677 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 15:58:56,689 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60692 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 15:58:56,691 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 15:58:56,691 INFO sqlalchemy.engine.Engine [cached since 67.43s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:58:56,691 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:56,692 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:56,692 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:56,692 INFO sqlalchemy.engine.Engine [cached since 67.58s ago] ('apollo_admin',)
INFO:     127.0.0.1:60688 - "GET /users HTTP/1.1" 200 OK
2025-12-23 15:58:56,693 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:56,693 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:56,693 INFO sqlalchemy.engine.Engine [cached since 67.58s ago] ('apollo_admin',)
2025-12-23 15:58:56,693 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:56,694 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 15:58:56,695 INFO sqlalchemy.engine.Engine [cached since 0.01433s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 100, 0)
2025-12-23 15:58:56,695 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT $2::INTEGER
2025-12-23 15:58:56,695 INFO sqlalchemy.engine.Engine [cached since 0.01022s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 200)
INFO:     127.0.0.1:60675 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 15:58:56,697 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60692 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 15:58:56,699 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:57,711 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:57,712 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:57,712 INFO sqlalchemy.engine.Engine [cached since 68.6s ago] ('apollo_admin',)
2025-12-23 15:58:57,713 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:57,713 INFO sqlalchemy.engine.Engine [cached since 68.55s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:58:57,716 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:57,716 INFO sqlalchemy.engine.Engine [cached since 68.55s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60692 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:58:57,718 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60692 - "OPTIONS /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:58:58,022 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:58,023 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:58,023 INFO sqlalchemy.engine.Engine [cached since 68.91s ago] ('apollo_admin',)
2025-12-23 15:58:58,026 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 15:58:58,026 INFO sqlalchemy.engine.Engine [cached since 1.346s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:60675 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:58:58,030 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:58,492 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:58,493 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:58,493 INFO sqlalchemy.engine.Engine [cached since 69.38s ago] ('apollo_admin',)
2025-12-23 15:58:58,495 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:58,495 INFO sqlalchemy.engine.Engine [cached since 69.33s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:58:58,496 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:58,496 INFO sqlalchemy.engine.Engine [cached since 69.33s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60675 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:58:58,498 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:59,307 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:59,307 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:59,307 INFO sqlalchemy.engine.Engine [cached since 70.2s ago] ('apollo_admin',)
2025-12-23 15:58:59,309 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:58:59,309 INFO sqlalchemy.engine.Engine [cached since 70.15s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:58:59,310 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:58:59,310 INFO sqlalchemy.engine.Engine [cached since 70.15s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60675 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:58:59,311 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:58:59,610 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:58:59,611 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:58:59,611 INFO sqlalchemy.engine.Engine [cached since 70.5s ago] ('apollo_admin',)
2025-12-23 15:58:59,614 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 15:58:59,614 INFO sqlalchemy.engine.Engine [cached since 2.934s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:60694 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 15:58:59,619 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60694 - "OPTIONS /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 15:59:00,640 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:59:00,640 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:59:00,640 INFO sqlalchemy.engine.Engine [cached since 71.53s ago] ('apollo_admin',)
2025-12-23 15:59:00,642 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:59:00,642 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:59:00,642 INFO sqlalchemy.engine.Engine [cached since 71.53s ago] ('apollo_admin',)
INFO:     127.0.0.1:60698 - "OPTIONS /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 15:59:00,644 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:59:00,644 INFO sqlalchemy.engine.Engine [cached since 71.48s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:59:00,645 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:59:00,645 INFO sqlalchemy.engine.Engine [cached since 71.48s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:59:00,646 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:59:00,646 INFO sqlalchemy.engine.Engine [cached since 71.48s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:59:00,655 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 15:59:00,655 INFO sqlalchemy.engine.Engine [generated in 0.00026s] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
INFO:     127.0.0.1:60697 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:59:00,656 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:59:00,664 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 15:59:00,664 INFO sqlalchemy.engine.Engine [generated in 0.00072s] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 15:59:00,671 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 15:59:00,671 INFO sqlalchemy.engine.Engine [generated in 0.00020s] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 15:59:00,674 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 15:59:00,674 INFO sqlalchemy.engine.Engine [generated in 0.00020s] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60694 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 15:59:00,676 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:59:00,678 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:59:00,678 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:59:00,678 INFO sqlalchemy.engine.Engine [cached since 71.57s ago] ('apollo_admin',)
2025-12-23 15:59:00,679 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:59:00,679 INFO sqlalchemy.engine.Engine [cached since 71.52s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:59:00,680 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 15:59:00,680 INFO sqlalchemy.engine.Engine [cached since 0.02562s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 15:59:00,682 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 15:59:00,682 INFO sqlalchemy.engine.Engine [cached since 0.01806s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 15:59:00,684 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 15:59:00,684 INFO sqlalchemy.engine.Engine [cached since 0.01263s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 15:59:00,685 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 15:59:00,685 INFO sqlalchemy.engine.Engine [cached since 0.01076s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60694 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 15:59:00,686 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:59:02,580 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:59:02,580 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:59:02,580 INFO sqlalchemy.engine.Engine [cached since 73.47s ago] ('apollo_admin',)
2025-12-23 15:59:02,582 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:59:02,582 INFO sqlalchemy.engine.Engine [cached since 73.42s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:59:02,583 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:59:02,583 INFO sqlalchemy.engine.Engine [cached since 73.42s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60694 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:59:02,584 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:59:02,585 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:59:02,585 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:59:02,586 INFO sqlalchemy.engine.Engine [cached since 73.47s ago] ('apollo_admin',)
2025-12-23 15:59:02,587 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:59:02,587 INFO sqlalchemy.engine.Engine [cached since 73.43s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:59:02,587 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 15:59:02,587 INFO sqlalchemy.engine.Engine [cached since 73.42s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60694 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 15:59:02,588 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:59:02,591 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:59:02,591 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:59:02,591 INFO sqlalchemy.engine.Engine [cached since 73.48s ago] ('apollo_admin',)
2025-12-23 15:59:02,592 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:59:02,592 INFO sqlalchemy.engine.Engine [cached since 73.43s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:59:02,593 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 15:59:02,594 INFO sqlalchemy.engine.Engine [cached since 1.939s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 15:59:02,595 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 15:59:02,595 INFO sqlalchemy.engine.Engine [cached since 1.932s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 15:59:02,597 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 15:59:02,598 INFO sqlalchemy.engine.Engine [cached since 1.926s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 15:59:02,599 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 15:59:02,599 INFO sqlalchemy.engine.Engine [cached since 1.924s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60694 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 15:59:02,601 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 15:59:02,602 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 15:59:02,602 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 15:59:02,602 INFO sqlalchemy.engine.Engine [cached since 73.49s ago] ('apollo_admin',)
2025-12-23 15:59:02,604 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 15:59:02,604 INFO sqlalchemy.engine.Engine [cached since 73.44s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 15:59:02,605 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 15:59:02,605 INFO sqlalchemy.engine.Engine [cached since 1.95s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 15:59:02,606 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 15:59:02,606 INFO sqlalchemy.engine.Engine [cached since 1.942s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 15:59:02,607 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 15:59:02,607 INFO sqlalchemy.engine.Engine [cached since 1.936s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 15:59:02,607 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 15:59:02,608 INFO sqlalchemy.engine.Engine [cached since 1.933s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60694 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 15:59:02,609 INFO sqlalchemy.engine.Engine ROLLBACK
WARNING:  WatchFiles detected changes in 'debug_ops.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [27359]
WARNING:  WatchFiles detected changes in 'debug_ops.py'. Reloading...
INFO:     Started server process [27575]
INFO:     Waiting for application startup.
2025-12-23 16:00:11,915 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 16:00:11,916 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 16:00:11,930 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 16:00:11,930 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 16:00:11,933 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 16:00:11,933 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 16:00:11,936 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:00:11,938 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:00:11,938 INFO sqlalchemy.engine.Engine [generated in 0.00011s] ('tenants', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:00:11,945 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:00:11,945 INFO sqlalchemy.engine.Engine [cached since 0.007804s ago] ('tenant_settings', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:00:11,946 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:00:11,946 INFO sqlalchemy.engine.Engine [cached since 0.008102s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:00:11,946 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:00:11,946 INFO sqlalchemy.engine.Engine [cached since 0.008305s ago] ('patients', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:00:11,946 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:00:11,946 INFO sqlalchemy.engine.Engine [cached since 0.008489s ago] ('clinical_records', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:00:11,946 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:00:11,946 INFO sqlalchemy.engine.Engine [cached since 0.008661s ago] ('appointments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:00:11,946 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:00:11,946 INFO sqlalchemy.engine.Engine [cached since 0.008841s ago] ('attachments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:00:11,947 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:00:11,947 INFO sqlalchemy.engine.Engine [cached since 0.008988s ago] ('prescriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:00:11,947 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:00:11,947 INFO sqlalchemy.engine.Engine [cached since 0.009131s ago] ('invoices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:00:11,947 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [27575]
INFO:     Started server process [27709]
INFO:     Waiting for application startup.
2025-12-23 16:01:08,495 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 16:01:08,495 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 16:01:08,496 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 16:01:08,496 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 16:01:08,496 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 16:01:08,496 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 16:01:08,497 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:01:08,499 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:01:08,499 INFO sqlalchemy.engine.Engine [generated in 0.00010s] ('tenants', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:01:08,502 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:01:08,502 INFO sqlalchemy.engine.Engine [cached since 0.003191s ago] ('tenant_settings', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:01:08,502 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:01:08,502 INFO sqlalchemy.engine.Engine [cached since 0.003489s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:01:08,502 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:01:08,502 INFO sqlalchemy.engine.Engine [cached since 0.003734s ago] ('patients', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:01:08,503 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:01:08,503 INFO sqlalchemy.engine.Engine [cached since 0.003973s ago] ('clinical_records', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:01:08,503 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:01:08,503 INFO sqlalchemy.engine.Engine [cached since 0.004206s ago] ('appointments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:01:08,503 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:01:08,503 INFO sqlalchemy.engine.Engine [cached since 0.004438s ago] ('attachments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:01:08,503 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:01:08,503 INFO sqlalchemy.engine.Engine [cached since 0.004607s ago] ('prescriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:01:08,503 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:01:08,503 INFO sqlalchemy.engine.Engine [cached since 0.004778s ago] ('invoices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:01:08,504 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-12-23 16:01:35,384 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:01:35,395 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:01:35,395 INFO sqlalchemy.engine.Engine [generated in 0.00020s] ('apollo_admin',)
2025-12-23 16:01:35,409 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:01:35,409 INFO sqlalchemy.engine.Engine [generated in 0.00011s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:01:35,412 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:01:35,412 INFO sqlalchemy.engine.Engine [generated in 0.00005s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60768 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:01:35,415 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:01:35,416 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:01:35,416 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:01:35,416 INFO sqlalchemy.engine.Engine [cached since 0.02107s ago] ('apollo_admin',)
2025-12-23 16:01:35,417 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:01:35,417 INFO sqlalchemy.engine.Engine [cached since 0.007379s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:01:35,417 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:01:35,417 INFO sqlalchemy.engine.Engine [cached since 0.004986s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60768 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:01:35,418 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:01:35,442 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:01:35,442 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:01:35,442 INFO sqlalchemy.engine.Engine [cached since 0.04692s ago] ('apollo_admin',)
2025-12-23 16:01:35,445 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:01:35,445 INFO sqlalchemy.engine.Engine [cached since 0.03552s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:01:35,447 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:01:35,447 INFO sqlalchemy.engine.Engine [generated in 0.00008s] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:01:35,452 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:01:35,452 INFO sqlalchemy.engine.Engine [generated in 0.00010s] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:01:35,455 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:01:35,455 INFO sqlalchemy.engine.Engine [generated in 0.00010s] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:01:35,458 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:01:35,458 INFO sqlalchemy.engine.Engine [generated in 0.00009s] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60768 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:01:35,460 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:01:35,460 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:01:35,461 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:01:35,461 INFO sqlalchemy.engine.Engine [cached since 0.06551s ago] ('apollo_admin',)
2025-12-23 16:01:35,461 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:01:35,461 INFO sqlalchemy.engine.Engine [cached since 0.05174s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:01:35,462 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:01:35,462 INFO sqlalchemy.engine.Engine [cached since 0.0144s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:01:35,462 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:01:35,462 INFO sqlalchemy.engine.Engine [cached since 0.01065s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:01:35,463 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:01:35,463 INFO sqlalchemy.engine.Engine [cached since 0.007516s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:01:35,463 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:01:35,463 INFO sqlalchemy.engine.Engine [cached since 0.005454s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60768 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:01:35,464 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:01:42,952 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:01:42,952 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:01:42,952 INFO sqlalchemy.engine.Engine [cached since 7.557s ago] ('apollo_admin',)
2025-12-23 16:01:42,953 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:01:42,953 INFO sqlalchemy.engine.Engine [cached since 7.544s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:01:42,953 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:01:42,953 INFO sqlalchemy.engine.Engine [cached since 7.541s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60777 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:01:42,954 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:01:42,954 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:01:42,955 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:01:42,955 INFO sqlalchemy.engine.Engine [cached since 7.559s ago] ('apollo_admin',)
2025-12-23 16:01:42,955 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:01:42,955 INFO sqlalchemy.engine.Engine [cached since 7.546s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:01:42,955 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:01:42,956 INFO sqlalchemy.engine.Engine [cached since 7.543s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60777 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:01:42,956 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:01:43,278 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:01:43,279 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:01:43,280 INFO sqlalchemy.engine.Engine [cached since 7.884s ago] ('apollo_admin',)
2025-12-23 16:01:43,284 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:01:43,284 INFO sqlalchemy.engine.Engine [generated in 0.00025s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:60777 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:01:43,288 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:01:53,426 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:01:53,427 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:01:53,427 INFO sqlalchemy.engine.Engine [cached since 18.03s ago] ('apollo_admin',)
2025-12-23 16:01:53,429 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:01:53,429 INFO sqlalchemy.engine.Engine [cached since 18.02s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:01:53,429 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:01:53,430 INFO sqlalchemy.engine.Engine [cached since 18.02s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60786 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:01:53,430 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:01:53,472 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:01:53,473 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:01:53,473 INFO sqlalchemy.engine.Engine [cached since 18.08s ago] ('apollo_admin',)
2025-12-23 16:01:53,475 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:01:53,475 INFO sqlalchemy.engine.Engine [cached since 18.07s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:01:53,481 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:01:53,481 INFO sqlalchemy.engine.Engine [cached since 18.07s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60786 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:01:53,504 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:01:53,755 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:01:53,756 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:01:53,756 INFO sqlalchemy.engine.Engine [cached since 18.36s ago] ('apollo_admin',)
2025-12-23 16:01:53,758 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:01:53,758 INFO sqlalchemy.engine.Engine [cached since 10.47s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:60786 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:01:53,761 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:01:55,140 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:01:55,140 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:01:55,140 INFO sqlalchemy.engine.Engine [cached since 19.75s ago] ('apollo_admin',)
2025-12-23 16:01:55,142 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:01:55,142 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:01:55,142 INFO sqlalchemy.engine.Engine [cached since 19.75s ago] ('apollo_admin',)
2025-12-23 16:01:55,144 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:01:55,144 INFO sqlalchemy.engine.Engine [cached since 19.73s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:01:55,145 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:01:55,145 INFO sqlalchemy.engine.Engine [cached since 19.74s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:01:55,146 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:01:55,146 INFO sqlalchemy.engine.Engine [cached since 19.7s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:01:55,146 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:01:55,146 INFO sqlalchemy.engine.Engine [cached since 19.73s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60789 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:01:55,147 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:01:55,149 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:01:55,149 INFO sqlalchemy.engine.Engine [cached since 19.7s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:01:55,151 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:01:55,151 INFO sqlalchemy.engine.Engine [cached since 19.7s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:01:55,153 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:01:55,154 INFO sqlalchemy.engine.Engine [cached since 19.7s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60786 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:01:55,156 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:01:55,158 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:01:55,158 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:01:55,158 INFO sqlalchemy.engine.Engine [cached since 19.76s ago] ('apollo_admin',)
2025-12-23 16:01:55,159 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:01:55,159 INFO sqlalchemy.engine.Engine [cached since 19.75s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:01:55,161 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:01:55,161 INFO sqlalchemy.engine.Engine [cached since 19.71s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:01:55,162 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:01:55,162 INFO sqlalchemy.engine.Engine [cached since 19.71s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:01:55,164 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:01:55,164 INFO sqlalchemy.engine.Engine [cached since 19.71s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:01:55,165 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:01:55,165 INFO sqlalchemy.engine.Engine [cached since 19.71s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60786 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:01:55,166 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:01:59,942 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:01:59,943 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:01:59,943 INFO sqlalchemy.engine.Engine [cached since 24.55s ago] ('apollo_admin',)
2025-12-23 16:01:59,945 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:01:59,946 INFO sqlalchemy.engine.Engine [cached since 24.54s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:01:59,946 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:01:59,946 INFO sqlalchemy.engine.Engine [cached since 24.53s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60800 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:01:59,947 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:01:59,948 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:01:59,948 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:01:59,948 INFO sqlalchemy.engine.Engine [cached since 24.55s ago] ('apollo_admin',)
2025-12-23 16:01:59,950 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:01:59,950 INFO sqlalchemy.engine.Engine [cached since 24.54s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:01:59,950 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:01:59,951 INFO sqlalchemy.engine.Engine [cached since 24.54s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60800 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:01:59,951 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:02:00,277 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:02:00,278 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:02:00,278 INFO sqlalchemy.engine.Engine [cached since 24.88s ago] ('apollo_admin',)
2025-12-23 16:02:00,281 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:02:00,281 INFO sqlalchemy.engine.Engine [cached since 17s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:60800 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:02:00,288 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:02:36,479 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:02:36,481 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:02:36,481 INFO sqlalchemy.engine.Engine [cached since 61.09s ago] ('apollo_admin',)
2025-12-23 16:02:36,484 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:02:36,484 INFO sqlalchemy.engine.Engine [cached since 61.07s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:02:36,485 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:02:36,485 INFO sqlalchemy.engine.Engine [cached since 61.07s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60813 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:02:36,487 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:02:37,310 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:02:37,311 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:02:37,311 INFO sqlalchemy.engine.Engine [cached since 61.92s ago] ('apollo_admin',)
2025-12-23 16:02:37,312 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:02:37,312 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:02:37,312 INFO sqlalchemy.engine.Engine [cached since 61.92s ago] ('apollo_admin',)
2025-12-23 16:02:37,313 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:02:37,313 INFO sqlalchemy.engine.Engine [cached since 61.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:02:37,315 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:02:37,315 INFO sqlalchemy.engine.Engine [generated in 0.00017s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:02:37,316 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:02:37,316 INFO sqlalchemy.engine.Engine [cached since 61.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60815 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:02:37,317 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60813 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:02:37,319 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:02:37,320 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:02:37,320 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:02:37,320 INFO sqlalchemy.engine.Engine [cached since 61.93s ago] ('apollo_admin',)
2025-12-23 16:02:37,321 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:02:37,321 INFO sqlalchemy.engine.Engine [cached since 0.006219s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60813 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:02:37,323 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:02:42,398 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:02:42,399 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:02:42,399 INFO sqlalchemy.engine.Engine [cached since 67s ago] ('apollo_admin',)
2025-12-23 16:02:42,400 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:02:42,400 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:02:42,400 INFO sqlalchemy.engine.Engine [cached since 67s ago] ('apollo_admin',)
2025-12-23 16:02:42,401 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:02:42,401 INFO sqlalchemy.engine.Engine [cached since 66.99s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:02:42,402 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:02:42,402 INFO sqlalchemy.engine.Engine [cached since 66.99s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:02:42,402 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:02:42,402 INFO sqlalchemy.engine.Engine [cached since 66.99s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60818 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 16:02:42,403 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60819 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:02:42,404 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60822 - "GET /static/uploads/68923952-1085-4d0e-85bf-66bbbb8ad0c7_logo.svg HTTP/1.1" 200 OK
2025-12-23 16:02:42,452 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:02:42,452 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:02:42,452 INFO sqlalchemy.engine.Engine [cached since 67.06s ago] ('apollo_admin',)
2025-12-23 16:02:42,455 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:02:42,455 INFO sqlalchemy.engine.Engine [cached since 67.04s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60818 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 16:02:42,457 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:02:50,962 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:02:50,963 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:02:50,963 INFO sqlalchemy.engine.Engine [cached since 75.57s ago] ('admin',)
INFO:     127.0.0.1:60825 - "POST /token HTTP/1.1" 200 OK
2025-12-23 16:02:51,225 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:02:51,242 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:02:51,242 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:02:51,242 INFO sqlalchemy.engine.Engine [cached since 75.85s ago] ('admin',)
2025-12-23 16:02:51,243 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:02:51,243 INFO sqlalchemy.engine.Engine [cached since 75.83s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:02:51,244 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:02:51,244 INFO sqlalchemy.engine.Engine [cached since 75.83s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60825 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:02:51,244 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:02:51,245 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:02:51,245 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:02:51,245 INFO sqlalchemy.engine.Engine [cached since 75.85s ago] ('admin',)
2025-12-23 16:02:51,246 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:02:51,246 INFO sqlalchemy.engine.Engine [cached since 75.84s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:02:51,247 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:02:51,247 INFO sqlalchemy.engine.Engine [cached since 75.84s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60825 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:02:51,248 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:02:51,266 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:02:51,266 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:02:51,266 INFO sqlalchemy.engine.Engine [cached since 75.87s ago] ('admin',)
2025-12-23 16:02:51,267 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:02:51,267 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:02:51,267 INFO sqlalchemy.engine.Engine [cached since 75.87s ago] ('admin',)
2025-12-23 16:02:51,268 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:02:51,268 INFO sqlalchemy.engine.Engine [cached since 75.86s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:02:51,268 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:02:51,268 INFO sqlalchemy.engine.Engine [cached since 75.86s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:02:51,269 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 16:02:51,269 INFO sqlalchemy.engine.Engine [generated in 0.00005s] ()
2025-12-23 16:02:51,270 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:02:51,270 INFO sqlalchemy.engine.Engine [generated in 0.00004s] ()
2025-12-23 16:02:51,271 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 16:02:51,271 INFO sqlalchemy.engine.Engine [generated in 0.00006s] ()
2025-12-23 16:02:51,272 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> $1::JSONB AND tenants.is_super_admin = false
2025-12-23 16:02:51,272 INFO sqlalchemy.engine.Engine [generated in 0.00008s] ('["admin"]',)
2025-12-23 16:02:51,273 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:02:51,273 INFO sqlalchemy.engine.Engine [generated in 0.00006s] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 16:02:51,274 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:02:51,274 INFO sqlalchemy.engine.Engine [cached since 0.0009118s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:60828 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:02:51,275 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:02:51,275 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:02:51,275 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:02:51,275 INFO sqlalchemy.engine.Engine [cached since 75.88s ago] ('admin',)
2025-12-23 16:02:51,276 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 16:02:51,276 INFO sqlalchemy.engine.Engine [generated in 0.00004s] ()
2025-12-23 16:02:51,276 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:02:51,276 INFO sqlalchemy.engine.Engine [cached since 75.87s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60825 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:02:51,278 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:02:51,278 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:02:51,278 INFO sqlalchemy.engine.Engine [cached since 0.008313s ago] ()
2025-12-23 16:02:51,278 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:02:51,278 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:02:51,278 INFO sqlalchemy.engine.Engine [cached since 75.88s ago] ('admin',)
2025-12-23 16:02:51,279 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:02:51,279 INFO sqlalchemy.engine.Engine [cached since 75.87s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:02:51,280 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:02:51,280 INFO sqlalchemy.engine.Engine [cached since 0.006767s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 16:02:51,280 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 16:02:51,280 INFO sqlalchemy.engine.Engine [cached since 0.01075s ago] ()
2025-12-23 16:02:51,285 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:02:51,285 INFO sqlalchemy.engine.Engine [cached since 0.01203s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
2025-12-23 16:02:51,285 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 16:02:51,285 INFO sqlalchemy.engine.Engine [cached since 0.01398s ago] ()
INFO:     127.0.0.1:60828 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:02:51,285 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:02:51,286 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> $1::JSONB AND tenants.is_super_admin = false
2025-12-23 16:02:51,286 INFO sqlalchemy.engine.Engine [cached since 0.01373s ago] ('["admin"]',)
2025-12-23 16:02:51,286 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:02:51,286 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:02:51,286 INFO sqlalchemy.engine.Engine [cached since 75.89s ago] ('admin',)
2025-12-23 16:02:51,287 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:02:51,287 INFO sqlalchemy.engine.Engine [cached since 75.88s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:02:51,287 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 16:02:51,287 INFO sqlalchemy.engine.Engine [cached since 0.01152s ago] ()
2025-12-23 16:02:51,287 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:02:51,287 INFO sqlalchemy.engine.Engine [cached since 0.01776s ago] ()
INFO:     127.0.0.1:60825 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:02:51,288 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:02:51,289 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:02:51,289 INFO sqlalchemy.engine.Engine [cached since 0.0157s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 16:02:51,289 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:02:51,289 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:02:51,289 INFO sqlalchemy.engine.Engine [cached since 75.89s ago] ('admin',)
2025-12-23 16:02:51,289 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:02:51,289 INFO sqlalchemy.engine.Engine [cached since 0.01657s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
2025-12-23 16:02:51,290 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:02:51,290 INFO sqlalchemy.engine.Engine [cached since 75.88s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60828 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:02:51,290 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:02:51,290 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 16:02:51,290 INFO sqlalchemy.engine.Engine [cached since 0.02128s ago] ()
2025-12-23 16:02:51,291 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 16:02:51,291 INFO sqlalchemy.engine.Engine [cached since 0.0198s ago] ()
2025-12-23 16:02:51,292 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> $1::JSONB AND tenants.is_super_admin = false
2025-12-23 16:02:51,292 INFO sqlalchemy.engine.Engine [cached since 0.02009s ago] ('["admin"]',)
2025-12-23 16:02:51,293 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 16:02:51,293 INFO sqlalchemy.engine.Engine [cached since 0.01745s ago] ()
INFO:     127.0.0.1:60825 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:02:51,294 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:02:54,776 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:02:54,776 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:02:54,777 INFO sqlalchemy.engine.Engine [cached since 79.38s ago] ('admin',)
2025-12-23 16:02:54,777 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:02:54,778 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:02:54,778 INFO sqlalchemy.engine.Engine [cached since 79.38s ago] ('admin',)
2025-12-23 16:02:54,779 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:02:54,779 INFO sqlalchemy.engine.Engine [cached since 79.37s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:02:54,780 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:02:54,780 INFO sqlalchemy.engine.Engine [cached since 79.37s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:02:54,780 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:02:54,780 INFO sqlalchemy.engine.Engine [cached since 3.511s ago] ()
2025-12-23 16:02:54,781 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:02:54,781 INFO sqlalchemy.engine.Engine [cached since 79.37s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:02:54,781 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:02:54,782 INFO sqlalchemy.engine.Engine [cached since 3.509s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
INFO:     127.0.0.1:60832 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:02:54,782 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:02:54,783 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:02:54,783 INFO sqlalchemy.engine.Engine [cached since 3.51s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:60831 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:02:54,784 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:02:54,785 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:02:54,786 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:02:54,786 INFO sqlalchemy.engine.Engine [cached since 79.39s ago] ('admin',)
2025-12-23 16:02:54,787 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:02:54,787 INFO sqlalchemy.engine.Engine [cached since 79.38s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:02:54,788 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:02:54,788 INFO sqlalchemy.engine.Engine [cached since 3.518s ago] ()
2025-12-23 16:02:54,789 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:02:54,789 INFO sqlalchemy.engine.Engine [cached since 3.516s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 16:02:54,789 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:02:54,789 INFO sqlalchemy.engine.Engine [cached since 3.517s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:60831 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:02:54,790 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:02:59,739 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:02:59,739 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:02:59,739 INFO sqlalchemy.engine.Engine [cached since 84.34s ago] ('admin',)
2025-12-23 16:02:59,740 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:02:59,740 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:02:59,740 INFO sqlalchemy.engine.Engine [cached since 84.35s ago] ('admin',)
2025-12-23 16:02:59,741 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:02:59,741 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:02:59,741 INFO sqlalchemy.engine.Engine [cached since 84.35s ago] ('admin',)
2025-12-23 16:02:59,742 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:02:59,742 INFO sqlalchemy.engine.Engine [cached since 84.33s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:02:59,743 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:02:59,743 INFO sqlalchemy.engine.Engine [cached since 22.43s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:02:59,744 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:02:59,744 INFO sqlalchemy.engine.Engine [cached since 84.33s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60837 - "GET /settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:60836 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:02:59,745 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:02:59,745 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:02:59,745 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:02:59,745 INFO sqlalchemy.engine.Engine [cached since 84.33s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60838 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:02:59,749 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:02:59,788 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:02:59,789 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:02:59,789 INFO sqlalchemy.engine.Engine [cached since 84.39s ago] ('admin',)
2025-12-23 16:02:59,790 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:02:59,790 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:02:59,790 INFO sqlalchemy.engine.Engine [cached since 84.4s ago] ('admin',)
2025-12-23 16:02:59,793 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:02:59,793 INFO sqlalchemy.engine.Engine [cached since 84.38s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:02:59,793 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:02:59,794 INFO sqlalchemy.engine.Engine [cached since 22.48s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60836 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:02:59,795 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60837 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 16:02:59,795 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60855 - "OPTIONS /register HTTP/1.1" 200 OK
INFO:     127.0.0.1:60855 - "POST /register HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:60859 - "POST /register HTTP/1.1" 404 Not Found
2025-12-23 16:04:42,258 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:04:42,261 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:04:42,262 INFO sqlalchemy.engine.Engine [cached since 186.9s ago] ('admin',)
2025-12-23 16:04:42,282 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:04:42,282 INFO sqlalchemy.engine.Engine [cached since 186.9s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:04:42,283 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:04:42,283 INFO sqlalchemy.engine.Engine [cached since 186.9s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60907 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:04:42,288 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:04:42,288 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:04:42,289 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:04:42,289 INFO sqlalchemy.engine.Engine [cached since 186.9s ago] ('admin',)
2025-12-23 16:04:42,290 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:04:42,290 INFO sqlalchemy.engine.Engine [cached since 186.9s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:04:42,291 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:04:42,291 INFO sqlalchemy.engine.Engine [cached since 186.9s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60907 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:04:42,292 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:04:42,300 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:04:42,300 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:04:42,300 INFO sqlalchemy.engine.Engine [cached since 186.9s ago] ('admin',)
2025-12-23 16:04:42,301 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:04:42,301 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:04:42,301 INFO sqlalchemy.engine.Engine [cached since 186.9s ago] ('admin',)
2025-12-23 16:04:42,303 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:04:42,303 INFO sqlalchemy.engine.Engine [cached since 125s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:04:42,304 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:04:42,304 INFO sqlalchemy.engine.Engine [cached since 186.9s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60907 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:04:42,311 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:04:42,314 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:04:42,315 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:04:42,315 INFO sqlalchemy.engine.Engine [cached since 186.9s ago] ('admin',)
INFO:     127.0.0.1:60909 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 16:04:42,315 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:04:42,316 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:04:42,316 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:04:42,316 INFO sqlalchemy.engine.Engine [cached since 186.9s ago] ('admin',)
2025-12-23 16:04:42,317 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:04:42,317 INFO sqlalchemy.engine.Engine [cached since 186.9s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60909 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 16:04:42,317 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:04:42,319 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:04:42,319 INFO sqlalchemy.engine.Engine [cached since 125s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60907 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:04:42,320 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:04:42,472 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:04:42,472 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:04:42,472 INFO sqlalchemy.engine.Engine [cached since 187.1s ago] ('admin',)
2025-12-23 16:04:42,479 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:04:42,480 INFO sqlalchemy.engine.Engine [cached since 187.1s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:04:42,487 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:04:42,487 INFO sqlalchemy.engine.Engine [cached since 187.1s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60907 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:04:42,492 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:04:42,494 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:04:42,495 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:04:42,495 INFO sqlalchemy.engine.Engine [cached since 187.1s ago] ('admin',)
2025-12-23 16:04:42,511 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:04:42,511 INFO sqlalchemy.engine.Engine [cached since 187.1s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:04:42,512 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:04:42,512 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:04:42,512 INFO sqlalchemy.engine.Engine [cached since 187.1s ago] ('admin',)
2025-12-23 16:04:42,518 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:04:42,523 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:04:42,523 INFO sqlalchemy.engine.Engine [cached since 187.1s ago] ('admin',)
2025-12-23 16:04:42,526 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:04:42,526 INFO sqlalchemy.engine.Engine [cached since 187.1s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:04:42,527 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:04:42,528 INFO sqlalchemy.engine.Engine [cached since 187.1s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60907 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:04:42,530 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:04:42,530 INFO sqlalchemy.engine.Engine [cached since 125.2s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:04:42,530 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60912 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 16:04:42,541 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60909 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:04:42,552 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:04:42,558 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:04:42,559 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:04:42,559 INFO sqlalchemy.engine.Engine [cached since 187.2s ago] ('admin',)
2025-12-23 16:04:42,561 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:04:42,561 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:04:42,561 INFO sqlalchemy.engine.Engine [cached since 187.2s ago] ('admin',)
2025-12-23 16:04:42,562 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:04:42,562 INFO sqlalchemy.engine.Engine [cached since 125.2s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:04:42,563 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:04:42,563 INFO sqlalchemy.engine.Engine [cached since 187.2s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:60912 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 16:04:42,563 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60909 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:04:42,564 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60915 - "POST /register HTTP/1.1" 404 Not Found
2025-12-23 16:04:58,116 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:04:58,117 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:04:58,117 INFO sqlalchemy.engine.Engine [cached since 202.7s ago] ('admin',)
2025-12-23 16:04:58,119 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:04:58,119 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:04:58,119 INFO sqlalchemy.engine.Engine [cached since 202.7s ago] ('admin',)
2025-12-23 16:04:58,122 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:04:58,122 INFO sqlalchemy.engine.Engine [cached since 202.7s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:04:58,122 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:04:58,122 INFO sqlalchemy.engine.Engine [cached since 202.7s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:04:58,123 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:04:58,123 INFO sqlalchemy.engine.Engine [cached since 202.7s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:04:58,124 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:04:58,124 INFO sqlalchemy.engine.Engine [cached since 126.9s ago] ()
INFO:     127.0.0.1:60919 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:04:58,125 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:04:58,125 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:04:58,125 INFO sqlalchemy.engine.Engine [cached since 126.9s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 16:04:58,126 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:04:58,126 INFO sqlalchemy.engine.Engine [cached since 126.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:60918 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:04:58,127 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:04:58,128 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:04:58,128 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:04:58,128 INFO sqlalchemy.engine.Engine [cached since 202.7s ago] ('admin',)
2025-12-23 16:04:58,129 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:04:58,129 INFO sqlalchemy.engine.Engine [cached since 202.7s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:04:58,132 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:04:58,132 INFO sqlalchemy.engine.Engine [cached since 126.9s ago] ()
2025-12-23 16:04:58,134 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:04:58,134 INFO sqlalchemy.engine.Engine [cached since 126.9s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 16:04:58,136 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:04:58,136 INFO sqlalchemy.engine.Engine [cached since 126.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:60918 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:04:58,136 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:03,059 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:03,060 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:03,060 INFO sqlalchemy.engine.Engine [cached since 207.7s ago] ('admin',)
2025-12-23 16:05:03,068 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:03,068 INFO sqlalchemy.engine.Engine [cached since 207.7s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:05:03,072 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER
2025-12-23 16:05:03,072 INFO sqlalchemy.engine.Engine [generated in 0.00030s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 1)
2025-12-23 16:05:03,074 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:05:03,074 INFO sqlalchemy.engine.Engine [cached since 145.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60921 - "POST /tenants/68923952-1085-4d0e-85bf-66bbbb8ad0c7/impersonate HTTP/1.1" 200 OK
2025-12-23 16:05:03,076 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:03,165 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:03,166 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:03,166 INFO sqlalchemy.engine.Engine [cached since 207.8s ago] ('apollo_admin',)
2025-12-23 16:05:03,170 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:03,171 INFO sqlalchemy.engine.Engine [cached since 207.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:03,171 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:03,172 INFO sqlalchemy.engine.Engine [cached since 207.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60921 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:03,172 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:03,173 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:03,174 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:03,174 INFO sqlalchemy.engine.Engine [cached since 207.8s ago] ('apollo_admin',)
2025-12-23 16:05:03,175 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:03,175 INFO sqlalchemy.engine.Engine [cached since 207.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:03,176 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:03,176 INFO sqlalchemy.engine.Engine [cached since 207.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60921 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:03,177 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:03,200 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:03,201 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:03,201 INFO sqlalchemy.engine.Engine [cached since 207.8s ago] ('apollo_admin',)
2025-12-23 16:05:03,202 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:03,202 INFO sqlalchemy.engine.Engine [cached since 207.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:03,203 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 16:05:03,203 INFO sqlalchemy.engine.Engine [generated in 0.00014s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:03,205 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:05:03,205 INFO sqlalchemy.engine.Engine [generated in 0.00004s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:03,206 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 16:05:03,206 INFO sqlalchemy.engine.Engine [generated in 0.00007s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:60921 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:05:03,210 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:03,211 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:03,211 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:03,211 INFO sqlalchemy.engine.Engine [cached since 207.8s ago] ('apollo_admin',)
2025-12-23 16:05:03,212 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:03,213 INFO sqlalchemy.engine.Engine [cached since 207.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:03,215 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 16:05:03,215 INFO sqlalchemy.engine.Engine [cached since 0.01193s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:03,226 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:05:03,226 INFO sqlalchemy.engine.Engine [cached since 0.02149s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:03,231 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 16:05:03,231 INFO sqlalchemy.engine.Engine [cached since 0.02469s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:60921 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:05:03,236 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:05,663 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:05,664 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:05,664 INFO sqlalchemy.engine.Engine [cached since 210.3s ago] ('apollo_admin',)
2025-12-23 16:05:05,666 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:05,666 INFO sqlalchemy.engine.Engine [cached since 210.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:05,667 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:05,668 INFO sqlalchemy.engine.Engine [cached since 210.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60921 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:05,669 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:05,968 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:05,968 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:05,968 INFO sqlalchemy.engine.Engine [cached since 210.6s ago] ('apollo_admin',)
2025-12-23 16:05:05,972 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:05:05,972 INFO sqlalchemy.engine.Engine [cached since 202.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:60921 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:05:05,977 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:07,488 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:07,489 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:07,489 INFO sqlalchemy.engine.Engine [cached since 212.1s ago] ('apollo_admin',)
2025-12-23 16:05:07,492 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:07,492 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:07,492 INFO sqlalchemy.engine.Engine [cached since 212.1s ago] ('apollo_admin',)
2025-12-23 16:05:07,493 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:07,493 INFO sqlalchemy.engine.Engine [cached since 212.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:07,494 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:07,494 INFO sqlalchemy.engine.Engine [cached since 212.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:07,499 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:07,499 INFO sqlalchemy.engine.Engine [cached since 212.1s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:07,500 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:07,500 INFO sqlalchemy.engine.Engine [cached since 212.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60932 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:07,502 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:07,504 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:07,504 INFO sqlalchemy.engine.Engine [cached since 212.1s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:07,506 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:07,506 INFO sqlalchemy.engine.Engine [cached since 212.1s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:07,508 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:07,508 INFO sqlalchemy.engine.Engine [cached since 212.1s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60921 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:07,509 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:07,511 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:07,511 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:07,511 INFO sqlalchemy.engine.Engine [cached since 212.1s ago] ('apollo_admin',)
2025-12-23 16:05:07,512 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:07,512 INFO sqlalchemy.engine.Engine [cached since 212.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:07,513 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:07,513 INFO sqlalchemy.engine.Engine [cached since 212.1s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:07,515 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:07,515 INFO sqlalchemy.engine.Engine [cached since 212.1s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:07,516 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:07,516 INFO sqlalchemy.engine.Engine [cached since 212.1s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:07,518 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:07,518 INFO sqlalchemy.engine.Engine [cached since 212.1s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60921 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:07,519 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:13,174 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:13,175 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:13,175 INFO sqlalchemy.engine.Engine [cached since 217.8s ago] ('apollo_admin',)
2025-12-23 16:05:13,176 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:13,176 INFO sqlalchemy.engine.Engine [cached since 217.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:13,177 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:13,177 INFO sqlalchemy.engine.Engine [cached since 217.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60939 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:13,178 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:13,179 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:13,180 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:13,180 INFO sqlalchemy.engine.Engine [cached since 217.8s ago] ('apollo_admin',)
2025-12-23 16:05:13,180 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:13,181 INFO sqlalchemy.engine.Engine [cached since 217.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:13,181 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:13,182 INFO sqlalchemy.engine.Engine [cached since 217.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60939 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:13,182 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:13,186 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:13,187 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:13,187 INFO sqlalchemy.engine.Engine [cached since 217.8s ago] ('apollo_admin',)
2025-12-23 16:05:13,188 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:13,188 INFO sqlalchemy.engine.Engine [cached since 217.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:13,189 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:13,189 INFO sqlalchemy.engine.Engine [cached since 217.7s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:13,190 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:13,190 INFO sqlalchemy.engine.Engine [cached since 217.7s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:13,192 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:13,192 INFO sqlalchemy.engine.Engine [cached since 217.7s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:13,193 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:13,193 INFO sqlalchemy.engine.Engine [cached since 217.7s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60939 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:13,195 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:13,196 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:13,196 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:13,196 INFO sqlalchemy.engine.Engine [cached since 217.8s ago] ('apollo_admin',)
2025-12-23 16:05:13,197 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:13,197 INFO sqlalchemy.engine.Engine [cached since 217.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:13,198 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:13,198 INFO sqlalchemy.engine.Engine [cached since 217.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:13,199 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:13,199 INFO sqlalchemy.engine.Engine [cached since 217.7s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:13,200 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:13,200 INFO sqlalchemy.engine.Engine [cached since 217.7s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:13,201 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:13,201 INFO sqlalchemy.engine.Engine [cached since 217.7s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60939 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:13,203 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:13,887 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:13,887 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:13,888 INFO sqlalchemy.engine.Engine [cached since 218.5s ago] ('apollo_admin',)
2025-12-23 16:05:13,889 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:13,889 INFO sqlalchemy.engine.Engine [cached since 218.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:13,890 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:13,890 INFO sqlalchemy.engine.Engine [cached since 218.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60939 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:13,891 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:13,892 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:13,892 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:13,892 INFO sqlalchemy.engine.Engine [cached since 218.5s ago] ('apollo_admin',)
2025-12-23 16:05:13,893 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:13,893 INFO sqlalchemy.engine.Engine [cached since 218.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:13,893 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:13,893 INFO sqlalchemy.engine.Engine [cached since 218.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60939 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:13,894 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:13,898 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:13,899 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:13,899 INFO sqlalchemy.engine.Engine [cached since 218.5s ago] ('apollo_admin',)
2025-12-23 16:05:13,900 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:13,900 INFO sqlalchemy.engine.Engine [cached since 218.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:13,901 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:13,901 INFO sqlalchemy.engine.Engine [cached since 218.5s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:13,903 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:13,903 INFO sqlalchemy.engine.Engine [cached since 218.5s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:13,905 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:13,905 INFO sqlalchemy.engine.Engine [cached since 218.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:13,906 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:13,906 INFO sqlalchemy.engine.Engine [cached since 218.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60939 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:13,907 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:13,908 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:13,908 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:13,908 INFO sqlalchemy.engine.Engine [cached since 218.5s ago] ('apollo_admin',)
2025-12-23 16:05:13,909 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:13,909 INFO sqlalchemy.engine.Engine [cached since 218.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:13,910 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:13,910 INFO sqlalchemy.engine.Engine [cached since 218.5s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:13,912 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:13,912 INFO sqlalchemy.engine.Engine [cached since 218.5s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:13,913 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:13,913 INFO sqlalchemy.engine.Engine [cached since 218.5s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:13,913 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:13,914 INFO sqlalchemy.engine.Engine [cached since 218.5s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60939 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:13,915 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:14,098 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:14,098 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:14,098 INFO sqlalchemy.engine.Engine [cached since 218.7s ago] ('apollo_admin',)
2025-12-23 16:05:14,100 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:14,100 INFO sqlalchemy.engine.Engine [cached since 218.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:14,101 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:14,101 INFO sqlalchemy.engine.Engine [cached since 218.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60939 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:14,102 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:14,103 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:14,103 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:14,103 INFO sqlalchemy.engine.Engine [cached since 218.7s ago] ('apollo_admin',)
2025-12-23 16:05:14,104 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:14,104 INFO sqlalchemy.engine.Engine [cached since 218.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:14,105 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:14,105 INFO sqlalchemy.engine.Engine [cached since 218.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60939 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:14,105 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:14,111 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:14,111 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:14,112 INFO sqlalchemy.engine.Engine [cached since 218.7s ago] ('apollo_admin',)
2025-12-23 16:05:14,113 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:14,113 INFO sqlalchemy.engine.Engine [cached since 218.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:14,114 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:14,114 INFO sqlalchemy.engine.Engine [cached since 218.7s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:14,115 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:14,116 INFO sqlalchemy.engine.Engine [cached since 218.7s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:14,118 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:14,119 INFO sqlalchemy.engine.Engine [cached since 218.7s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:14,120 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:14,120 INFO sqlalchemy.engine.Engine [cached since 218.7s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60939 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:14,122 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:14,123 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:14,123 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:14,123 INFO sqlalchemy.engine.Engine [cached since 218.7s ago] ('apollo_admin',)
2025-12-23 16:05:14,124 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:14,125 INFO sqlalchemy.engine.Engine [cached since 218.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:14,125 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:14,125 INFO sqlalchemy.engine.Engine [cached since 218.7s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:14,128 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:14,128 INFO sqlalchemy.engine.Engine [cached since 218.7s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:14,140 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:14,140 INFO sqlalchemy.engine.Engine [cached since 218.7s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:14,154 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:14,154 INFO sqlalchemy.engine.Engine [cached since 218.7s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60939 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:14,173 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:14,676 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:14,676 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:14,676 INFO sqlalchemy.engine.Engine [cached since 219.3s ago] ('apollo_admin',)
2025-12-23 16:05:14,677 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:14,677 INFO sqlalchemy.engine.Engine [cached since 219.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:14,678 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:14,678 INFO sqlalchemy.engine.Engine [cached since 219.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60939 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:14,679 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:14,680 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:14,680 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:14,680 INFO sqlalchemy.engine.Engine [cached since 219.3s ago] ('apollo_admin',)
2025-12-23 16:05:14,681 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:14,681 INFO sqlalchemy.engine.Engine [cached since 219.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:14,682 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:14,682 INFO sqlalchemy.engine.Engine [cached since 219.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60939 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:14,682 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:14,686 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:14,687 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:14,687 INFO sqlalchemy.engine.Engine [cached since 219.3s ago] ('apollo_admin',)
2025-12-23 16:05:14,688 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:14,688 INFO sqlalchemy.engine.Engine [cached since 219.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:14,689 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:14,689 INFO sqlalchemy.engine.Engine [cached since 219.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:14,690 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:14,690 INFO sqlalchemy.engine.Engine [cached since 219.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:14,691 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:14,691 INFO sqlalchemy.engine.Engine [cached since 219.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:14,692 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:14,692 INFO sqlalchemy.engine.Engine [cached since 219.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60939 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:14,693 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:14,694 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:14,694 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:14,694 INFO sqlalchemy.engine.Engine [cached since 219.3s ago] ('apollo_admin',)
2025-12-23 16:05:14,695 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:14,695 INFO sqlalchemy.engine.Engine [cached since 219.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:14,697 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:14,697 INFO sqlalchemy.engine.Engine [cached since 219.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:14,698 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:14,698 INFO sqlalchemy.engine.Engine [cached since 219.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:14,699 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:14,699 INFO sqlalchemy.engine.Engine [cached since 219.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:14,700 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:14,700 INFO sqlalchemy.engine.Engine [cached since 219.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60939 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:14,701 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:15,204 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:15,205 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:15,205 INFO sqlalchemy.engine.Engine [cached since 219.8s ago] ('apollo_admin',)
2025-12-23 16:05:15,206 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:15,207 INFO sqlalchemy.engine.Engine [cached since 219.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:15,208 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:15,208 INFO sqlalchemy.engine.Engine [cached since 219.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60939 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:15,210 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:15,212 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:15,213 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:15,213 INFO sqlalchemy.engine.Engine [cached since 219.8s ago] ('apollo_admin',)
2025-12-23 16:05:15,214 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:15,214 INFO sqlalchemy.engine.Engine [cached since 219.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:15,215 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:15,215 INFO sqlalchemy.engine.Engine [cached since 219.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60939 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:15,216 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:15,219 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:15,220 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:15,220 INFO sqlalchemy.engine.Engine [cached since 219.8s ago] ('apollo_admin',)
2025-12-23 16:05:15,221 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:15,221 INFO sqlalchemy.engine.Engine [cached since 219.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:15,222 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:15,222 INFO sqlalchemy.engine.Engine [cached since 219.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:15,223 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:15,223 INFO sqlalchemy.engine.Engine [cached since 219.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:15,224 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:15,224 INFO sqlalchemy.engine.Engine [cached since 219.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:15,225 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:15,225 INFO sqlalchemy.engine.Engine [cached since 219.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60939 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:15,226 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:15,227 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:15,227 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:15,227 INFO sqlalchemy.engine.Engine [cached since 219.8s ago] ('apollo_admin',)
2025-12-23 16:05:15,227 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:15,227 INFO sqlalchemy.engine.Engine [cached since 219.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:15,228 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:15,228 INFO sqlalchemy.engine.Engine [cached since 219.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:15,228 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:15,228 INFO sqlalchemy.engine.Engine [cached since 219.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:15,229 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:15,229 INFO sqlalchemy.engine.Engine [cached since 219.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:15,230 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:15,230 INFO sqlalchemy.engine.Engine [cached since 219.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60939 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:15,231 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:15,393 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:15,393 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:15,394 INFO sqlalchemy.engine.Engine [cached since 220s ago] ('apollo_admin',)
2025-12-23 16:05:15,395 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:15,395 INFO sqlalchemy.engine.Engine [cached since 220s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:15,395 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:15,396 INFO sqlalchemy.engine.Engine [cached since 220s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60939 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:15,396 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:15,397 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:15,398 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:15,398 INFO sqlalchemy.engine.Engine [cached since 220s ago] ('apollo_admin',)
2025-12-23 16:05:15,399 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:15,399 INFO sqlalchemy.engine.Engine [cached since 220s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:15,399 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:15,400 INFO sqlalchemy.engine.Engine [cached since 220s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60939 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:15,401 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:15,404 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:15,404 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:15,404 INFO sqlalchemy.engine.Engine [cached since 220s ago] ('apollo_admin',)
2025-12-23 16:05:15,405 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:15,405 INFO sqlalchemy.engine.Engine [cached since 220s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:15,406 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:15,406 INFO sqlalchemy.engine.Engine [cached since 220s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:15,407 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:15,407 INFO sqlalchemy.engine.Engine [cached since 220s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:15,408 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:15,408 INFO sqlalchemy.engine.Engine [cached since 220s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:15,409 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:15,409 INFO sqlalchemy.engine.Engine [cached since 220s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60939 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:15,410 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:15,411 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:15,411 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:15,412 INFO sqlalchemy.engine.Engine [cached since 220s ago] ('apollo_admin',)
2025-12-23 16:05:15,412 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:15,412 INFO sqlalchemy.engine.Engine [cached since 220s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:15,413 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:15,413 INFO sqlalchemy.engine.Engine [cached since 220s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:15,414 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:15,414 INFO sqlalchemy.engine.Engine [cached since 220s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:15,415 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:15,415 INFO sqlalchemy.engine.Engine [cached since 220s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:15,415 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:15,415 INFO sqlalchemy.engine.Engine [cached since 220s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60939 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:15,426 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:15,655 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:15,656 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:15,656 INFO sqlalchemy.engine.Engine [cached since 220.3s ago] ('apollo_admin',)
2025-12-23 16:05:15,658 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:15,658 INFO sqlalchemy.engine.Engine [cached since 220.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:15,661 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:15,662 INFO sqlalchemy.engine.Engine [cached since 220.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60939 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:15,663 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:15,664 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:15,664 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:15,664 INFO sqlalchemy.engine.Engine [cached since 220.3s ago] ('apollo_admin',)
2025-12-23 16:05:15,666 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:15,666 INFO sqlalchemy.engine.Engine [cached since 220.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:15,667 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:15,668 INFO sqlalchemy.engine.Engine [cached since 220.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60939 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:15,668 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:15,671 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:15,671 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:15,671 INFO sqlalchemy.engine.Engine [cached since 220.3s ago] ('apollo_admin',)
2025-12-23 16:05:15,672 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:15,672 INFO sqlalchemy.engine.Engine [cached since 220.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:15,673 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:15,673 INFO sqlalchemy.engine.Engine [cached since 220.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:15,674 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:15,674 INFO sqlalchemy.engine.Engine [cached since 220.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:15,675 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:15,675 INFO sqlalchemy.engine.Engine [cached since 220.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:15,676 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:15,676 INFO sqlalchemy.engine.Engine [cached since 220.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60939 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:15,677 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:15,678 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:15,679 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:15,679 INFO sqlalchemy.engine.Engine [cached since 220.3s ago] ('apollo_admin',)
2025-12-23 16:05:15,679 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:15,679 INFO sqlalchemy.engine.Engine [cached since 220.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:15,680 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:15,680 INFO sqlalchemy.engine.Engine [cached since 220.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:15,681 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:15,681 INFO sqlalchemy.engine.Engine [cached since 220.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:15,682 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:15,682 INFO sqlalchemy.engine.Engine [cached since 220.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:15,683 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:15,683 INFO sqlalchemy.engine.Engine [cached since 220.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60939 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:15,684 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:15,894 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:15,895 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:15,895 INFO sqlalchemy.engine.Engine [cached since 220.5s ago] ('apollo_admin',)
2025-12-23 16:05:15,897 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:15,897 INFO sqlalchemy.engine.Engine [cached since 220.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:15,897 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:15,898 INFO sqlalchemy.engine.Engine [cached since 220.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60939 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:15,898 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:15,899 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:15,899 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:15,900 INFO sqlalchemy.engine.Engine [cached since 220.5s ago] ('apollo_admin',)
2025-12-23 16:05:15,901 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:15,901 INFO sqlalchemy.engine.Engine [cached since 220.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:15,902 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:15,902 INFO sqlalchemy.engine.Engine [cached since 220.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60939 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:15,903 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:15,905 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:15,905 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:15,906 INFO sqlalchemy.engine.Engine [cached since 220.5s ago] ('apollo_admin',)
2025-12-23 16:05:15,906 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:15,907 INFO sqlalchemy.engine.Engine [cached since 220.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:15,907 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:15,907 INFO sqlalchemy.engine.Engine [cached since 220.5s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:15,908 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:15,909 INFO sqlalchemy.engine.Engine [cached since 220.5s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:15,909 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:15,909 INFO sqlalchemy.engine.Engine [cached since 220.5s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:15,910 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:15,910 INFO sqlalchemy.engine.Engine [cached since 220.5s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60939 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:15,911 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:15,912 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:15,913 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:15,913 INFO sqlalchemy.engine.Engine [cached since 220.5s ago] ('apollo_admin',)
2025-12-23 16:05:15,913 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:15,913 INFO sqlalchemy.engine.Engine [cached since 220.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:15,914 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:15,914 INFO sqlalchemy.engine.Engine [cached since 220.5s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:15,915 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:15,915 INFO sqlalchemy.engine.Engine [cached since 220.5s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:15,915 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:15,915 INFO sqlalchemy.engine.Engine [cached since 220.5s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:15,916 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:15,916 INFO sqlalchemy.engine.Engine [cached since 220.5s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60939 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:15,917 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:17,635 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:17,635 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:17,635 INFO sqlalchemy.engine.Engine [cached since 222.2s ago] ('apollo_admin',)
2025-12-23 16:05:17,636 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:17,636 INFO sqlalchemy.engine.Engine [cached since 222.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:17,637 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:17,637 INFO sqlalchemy.engine.Engine [cached since 222.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60939 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:17,638 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:17,639 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:17,639 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:17,639 INFO sqlalchemy.engine.Engine [cached since 222.2s ago] ('apollo_admin',)
2025-12-23 16:05:17,639 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:17,640 INFO sqlalchemy.engine.Engine [cached since 222.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:17,640 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:17,640 INFO sqlalchemy.engine.Engine [cached since 222.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60939 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:17,641 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:17,648 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:17,648 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:17,649 INFO sqlalchemy.engine.Engine [cached since 222.3s ago] ('apollo_admin',)
2025-12-23 16:05:17,650 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:17,650 INFO sqlalchemy.engine.Engine [cached since 222.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:17,651 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:17,651 INFO sqlalchemy.engine.Engine [cached since 222.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:17,653 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:17,653 INFO sqlalchemy.engine.Engine [cached since 222.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:17,654 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:17,654 INFO sqlalchemy.engine.Engine [cached since 222.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:17,655 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:17,655 INFO sqlalchemy.engine.Engine [cached since 222.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60939 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:17,656 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:17,657 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:17,657 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:17,657 INFO sqlalchemy.engine.Engine [cached since 222.3s ago] ('apollo_admin',)
2025-12-23 16:05:17,658 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:17,658 INFO sqlalchemy.engine.Engine [cached since 222.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:17,659 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:17,659 INFO sqlalchemy.engine.Engine [cached since 222.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:17,660 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:17,660 INFO sqlalchemy.engine.Engine [cached since 222.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:17,661 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:17,661 INFO sqlalchemy.engine.Engine [cached since 222.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:17,662 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:17,662 INFO sqlalchemy.engine.Engine [cached since 222.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60939 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:17,663 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:17,838 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:17,838 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:17,838 INFO sqlalchemy.engine.Engine [cached since 222.4s ago] ('apollo_admin',)
2025-12-23 16:05:17,839 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:17,839 INFO sqlalchemy.engine.Engine [cached since 222.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:17,840 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:17,840 INFO sqlalchemy.engine.Engine [cached since 222.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60939 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:17,840 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:17,841 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:17,842 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:17,842 INFO sqlalchemy.engine.Engine [cached since 222.4s ago] ('apollo_admin',)
2025-12-23 16:05:17,843 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:17,843 INFO sqlalchemy.engine.Engine [cached since 222.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:17,844 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:17,844 INFO sqlalchemy.engine.Engine [cached since 222.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60939 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:17,844 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:17,848 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:17,848 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:17,848 INFO sqlalchemy.engine.Engine [cached since 222.5s ago] ('apollo_admin',)
2025-12-23 16:05:17,849 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:17,849 INFO sqlalchemy.engine.Engine [cached since 222.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:17,849 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:17,849 INFO sqlalchemy.engine.Engine [cached since 222.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:17,850 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:17,850 INFO sqlalchemy.engine.Engine [cached since 222.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:17,851 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:17,851 INFO sqlalchemy.engine.Engine [cached since 222.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:17,852 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:17,852 INFO sqlalchemy.engine.Engine [cached since 222.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60939 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:17,854 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:17,855 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:17,855 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:17,855 INFO sqlalchemy.engine.Engine [cached since 222.5s ago] ('apollo_admin',)
2025-12-23 16:05:17,855 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:17,855 INFO sqlalchemy.engine.Engine [cached since 222.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:17,856 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:17,856 INFO sqlalchemy.engine.Engine [cached since 222.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:17,856 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:17,856 INFO sqlalchemy.engine.Engine [cached since 222.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:17,857 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:17,857 INFO sqlalchemy.engine.Engine [cached since 222.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:17,857 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:17,857 INFO sqlalchemy.engine.Engine [cached since 222.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60939 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:17,858 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:18,036 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:18,037 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:18,037 INFO sqlalchemy.engine.Engine [cached since 222.6s ago] ('apollo_admin',)
2025-12-23 16:05:18,039 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:18,039 INFO sqlalchemy.engine.Engine [cached since 222.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:18,041 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:18,041 INFO sqlalchemy.engine.Engine [cached since 222.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60957 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:18,041 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:18,042 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:18,042 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:18,043 INFO sqlalchemy.engine.Engine [cached since 222.6s ago] ('apollo_admin',)
2025-12-23 16:05:18,043 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:18,043 INFO sqlalchemy.engine.Engine [cached since 222.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:18,044 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:18,044 INFO sqlalchemy.engine.Engine [cached since 222.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60957 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:18,045 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:18,052 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:18,053 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:18,053 INFO sqlalchemy.engine.Engine [cached since 222.7s ago] ('apollo_admin',)
2025-12-23 16:05:18,054 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:18,054 INFO sqlalchemy.engine.Engine [cached since 222.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:18,055 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:18,055 INFO sqlalchemy.engine.Engine [cached since 222.6s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:18,056 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:18,056 INFO sqlalchemy.engine.Engine [cached since 222.6s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:18,057 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:18,057 INFO sqlalchemy.engine.Engine [cached since 222.6s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:18,058 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:18,058 INFO sqlalchemy.engine.Engine [cached since 222.6s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60957 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:18,059 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:18,060 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:18,060 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:18,060 INFO sqlalchemy.engine.Engine [cached since 222.7s ago] ('apollo_admin',)
2025-12-23 16:05:18,061 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:18,061 INFO sqlalchemy.engine.Engine [cached since 222.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:18,062 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:18,062 INFO sqlalchemy.engine.Engine [cached since 222.6s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:18,063 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:18,063 INFO sqlalchemy.engine.Engine [cached since 222.6s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:18,063 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:18,063 INFO sqlalchemy.engine.Engine [cached since 222.6s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:18,064 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:18,064 INFO sqlalchemy.engine.Engine [cached since 222.6s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60957 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:18,064 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:18,228 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:18,228 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:18,228 INFO sqlalchemy.engine.Engine [cached since 222.8s ago] ('apollo_admin',)
2025-12-23 16:05:18,229 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:18,229 INFO sqlalchemy.engine.Engine [cached since 222.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:18,230 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:18,230 INFO sqlalchemy.engine.Engine [cached since 222.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60957 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:18,231 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:18,232 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:18,232 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:18,232 INFO sqlalchemy.engine.Engine [cached since 222.8s ago] ('apollo_admin',)
2025-12-23 16:05:18,233 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:18,233 INFO sqlalchemy.engine.Engine [cached since 222.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:18,234 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:18,234 INFO sqlalchemy.engine.Engine [cached since 222.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60957 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:18,235 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:18,238 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:18,238 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:18,238 INFO sqlalchemy.engine.Engine [cached since 222.8s ago] ('apollo_admin',)
2025-12-23 16:05:18,239 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:18,239 INFO sqlalchemy.engine.Engine [cached since 222.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:18,240 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:18,240 INFO sqlalchemy.engine.Engine [cached since 222.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:18,241 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:18,241 INFO sqlalchemy.engine.Engine [cached since 222.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:18,241 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:18,241 INFO sqlalchemy.engine.Engine [cached since 222.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:18,242 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:18,242 INFO sqlalchemy.engine.Engine [cached since 222.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60957 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:18,243 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:18,243 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:18,243 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:18,243 INFO sqlalchemy.engine.Engine [cached since 222.8s ago] ('apollo_admin',)
2025-12-23 16:05:18,244 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:18,244 INFO sqlalchemy.engine.Engine [cached since 222.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:18,244 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:18,244 INFO sqlalchemy.engine.Engine [cached since 222.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:18,245 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:18,245 INFO sqlalchemy.engine.Engine [cached since 222.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:18,245 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:18,245 INFO sqlalchemy.engine.Engine [cached since 222.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:18,246 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:18,246 INFO sqlalchemy.engine.Engine [cached since 222.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60957 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:18,247 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:18,455 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:18,455 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:18,455 INFO sqlalchemy.engine.Engine [cached since 223.1s ago] ('apollo_admin',)
2025-12-23 16:05:18,456 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:18,457 INFO sqlalchemy.engine.Engine [cached since 223s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:18,457 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:18,457 INFO sqlalchemy.engine.Engine [cached since 223s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60957 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:18,458 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:18,459 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:18,459 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:18,459 INFO sqlalchemy.engine.Engine [cached since 223.1s ago] ('apollo_admin',)
2025-12-23 16:05:18,460 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:18,460 INFO sqlalchemy.engine.Engine [cached since 223.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:18,460 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:18,460 INFO sqlalchemy.engine.Engine [cached since 223s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60957 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:18,461 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:18,465 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:18,466 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:18,466 INFO sqlalchemy.engine.Engine [cached since 223.1s ago] ('apollo_admin',)
2025-12-23 16:05:18,467 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:18,467 INFO sqlalchemy.engine.Engine [cached since 223.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:18,468 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:18,468 INFO sqlalchemy.engine.Engine [cached since 223s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:18,469 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:18,469 INFO sqlalchemy.engine.Engine [cached since 223s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:18,470 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:18,470 INFO sqlalchemy.engine.Engine [cached since 223s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:18,471 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:18,471 INFO sqlalchemy.engine.Engine [cached since 223s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60957 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:18,472 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:18,473 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:18,473 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:18,473 INFO sqlalchemy.engine.Engine [cached since 223.1s ago] ('apollo_admin',)
2025-12-23 16:05:18,474 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:18,474 INFO sqlalchemy.engine.Engine [cached since 223.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:18,475 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:18,475 INFO sqlalchemy.engine.Engine [cached since 223s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:18,476 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:18,476 INFO sqlalchemy.engine.Engine [cached since 223s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:18,476 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:18,476 INFO sqlalchemy.engine.Engine [cached since 223s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:18,477 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:18,477 INFO sqlalchemy.engine.Engine [cached since 223s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60957 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:18,477 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:18,661 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:18,661 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:18,661 INFO sqlalchemy.engine.Engine [cached since 223.3s ago] ('apollo_admin',)
2025-12-23 16:05:18,663 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:18,663 INFO sqlalchemy.engine.Engine [cached since 223.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:18,664 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:18,664 INFO sqlalchemy.engine.Engine [cached since 223.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60957 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:18,665 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:18,666 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:18,667 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:18,667 INFO sqlalchemy.engine.Engine [cached since 223.3s ago] ('apollo_admin',)
2025-12-23 16:05:18,668 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:18,668 INFO sqlalchemy.engine.Engine [cached since 223.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:18,669 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:18,669 INFO sqlalchemy.engine.Engine [cached since 223.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60957 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:18,670 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:18,672 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:18,673 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:18,673 INFO sqlalchemy.engine.Engine [cached since 223.3s ago] ('apollo_admin',)
2025-12-23 16:05:18,675 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:18,675 INFO sqlalchemy.engine.Engine [cached since 223.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:18,676 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:18,676 INFO sqlalchemy.engine.Engine [cached since 223.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:18,677 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:18,677 INFO sqlalchemy.engine.Engine [cached since 223.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:18,678 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:18,678 INFO sqlalchemy.engine.Engine [cached since 223.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:18,678 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:18,678 INFO sqlalchemy.engine.Engine [cached since 223.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60957 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:18,679 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:18,680 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:18,680 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:18,680 INFO sqlalchemy.engine.Engine [cached since 223.3s ago] ('apollo_admin',)
2025-12-23 16:05:18,680 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:18,680 INFO sqlalchemy.engine.Engine [cached since 223.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:18,681 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:18,681 INFO sqlalchemy.engine.Engine [cached since 223.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:18,681 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:18,681 INFO sqlalchemy.engine.Engine [cached since 223.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:18,682 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:18,682 INFO sqlalchemy.engine.Engine [cached since 223.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:18,682 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:18,682 INFO sqlalchemy.engine.Engine [cached since 223.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60957 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:18,683 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:18,831 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:18,832 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:18,832 INFO sqlalchemy.engine.Engine [cached since 223.4s ago] ('apollo_admin',)
2025-12-23 16:05:18,835 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:18,835 INFO sqlalchemy.engine.Engine [cached since 223.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:18,837 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:18,837 INFO sqlalchemy.engine.Engine [cached since 223.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60957 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:18,840 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:18,841 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:18,841 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:18,841 INFO sqlalchemy.engine.Engine [cached since 223.4s ago] ('apollo_admin',)
2025-12-23 16:05:18,842 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:18,842 INFO sqlalchemy.engine.Engine [cached since 223.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:18,843 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:18,843 INFO sqlalchemy.engine.Engine [cached since 223.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60957 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:18,843 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:18,850 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:18,850 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:18,850 INFO sqlalchemy.engine.Engine [cached since 223.5s ago] ('apollo_admin',)
2025-12-23 16:05:18,851 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:18,852 INFO sqlalchemy.engine.Engine [cached since 223.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:18,853 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:18,853 INFO sqlalchemy.engine.Engine [cached since 223.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:18,854 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:18,854 INFO sqlalchemy.engine.Engine [cached since 223.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:18,854 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:18,854 INFO sqlalchemy.engine.Engine [cached since 223.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:18,855 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:18,855 INFO sqlalchemy.engine.Engine [cached since 223.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60957 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:18,856 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:18,857 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:18,857 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:18,857 INFO sqlalchemy.engine.Engine [cached since 223.5s ago] ('apollo_admin',)
2025-12-23 16:05:18,858 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:18,858 INFO sqlalchemy.engine.Engine [cached since 223.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:18,859 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:18,859 INFO sqlalchemy.engine.Engine [cached since 223.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:18,859 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:18,859 INFO sqlalchemy.engine.Engine [cached since 223.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:18,860 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:18,860 INFO sqlalchemy.engine.Engine [cached since 223.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:18,860 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:18,860 INFO sqlalchemy.engine.Engine [cached since 223.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60957 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:18,861 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:19,029 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:19,030 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:19,030 INFO sqlalchemy.engine.Engine [cached since 223.6s ago] ('apollo_admin',)
2025-12-23 16:05:19,031 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:19,031 INFO sqlalchemy.engine.Engine [cached since 223.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:19,032 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:19,032 INFO sqlalchemy.engine.Engine [cached since 223.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60957 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:19,033 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:19,034 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:19,035 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:19,035 INFO sqlalchemy.engine.Engine [cached since 223.6s ago] ('apollo_admin',)
2025-12-23 16:05:19,036 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:19,036 INFO sqlalchemy.engine.Engine [cached since 223.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:19,036 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:19,036 INFO sqlalchemy.engine.Engine [cached since 223.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60957 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:19,037 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:19,040 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:19,040 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:19,040 INFO sqlalchemy.engine.Engine [cached since 223.6s ago] ('apollo_admin',)
2025-12-23 16:05:19,041 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:19,041 INFO sqlalchemy.engine.Engine [cached since 223.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:19,042 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:19,042 INFO sqlalchemy.engine.Engine [cached since 223.6s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:19,043 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:19,043 INFO sqlalchemy.engine.Engine [cached since 223.6s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:19,043 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:19,043 INFO sqlalchemy.engine.Engine [cached since 223.6s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:19,044 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:19,044 INFO sqlalchemy.engine.Engine [cached since 223.6s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60957 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:19,045 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:19,046 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:19,046 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:19,046 INFO sqlalchemy.engine.Engine [cached since 223.7s ago] ('apollo_admin',)
2025-12-23 16:05:19,047 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:19,047 INFO sqlalchemy.engine.Engine [cached since 223.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:19,047 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:19,047 INFO sqlalchemy.engine.Engine [cached since 223.6s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:19,048 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:19,048 INFO sqlalchemy.engine.Engine [cached since 223.6s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:19,048 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:19,048 INFO sqlalchemy.engine.Engine [cached since 223.6s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:19,049 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:19,049 INFO sqlalchemy.engine.Engine [cached since 223.6s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60957 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:19,049 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:19,218 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:19,219 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:19,219 INFO sqlalchemy.engine.Engine [cached since 223.8s ago] ('apollo_admin',)
2025-12-23 16:05:19,220 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:19,220 INFO sqlalchemy.engine.Engine [cached since 223.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:19,221 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:19,221 INFO sqlalchemy.engine.Engine [cached since 223.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60957 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:19,222 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:19,223 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:19,223 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:19,223 INFO sqlalchemy.engine.Engine [cached since 223.8s ago] ('apollo_admin',)
2025-12-23 16:05:19,224 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:19,224 INFO sqlalchemy.engine.Engine [cached since 223.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:19,225 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:19,225 INFO sqlalchemy.engine.Engine [cached since 223.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60957 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:19,226 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:19,231 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:19,231 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:19,231 INFO sqlalchemy.engine.Engine [cached since 223.8s ago] ('apollo_admin',)
2025-12-23 16:05:19,232 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:19,232 INFO sqlalchemy.engine.Engine [cached since 223.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:19,233 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:19,233 INFO sqlalchemy.engine.Engine [cached since 223.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:19,235 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:19,235 INFO sqlalchemy.engine.Engine [cached since 223.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:19,236 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:19,236 INFO sqlalchemy.engine.Engine [cached since 223.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:19,237 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:19,237 INFO sqlalchemy.engine.Engine [cached since 223.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60957 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:19,239 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:19,240 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:19,240 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:19,240 INFO sqlalchemy.engine.Engine [cached since 223.8s ago] ('apollo_admin',)
2025-12-23 16:05:19,240 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:19,240 INFO sqlalchemy.engine.Engine [cached since 223.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:19,241 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:19,241 INFO sqlalchemy.engine.Engine [cached since 223.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:19,241 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:19,241 INFO sqlalchemy.engine.Engine [cached since 223.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:19,242 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:19,242 INFO sqlalchemy.engine.Engine [cached since 223.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:19,243 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:19,243 INFO sqlalchemy.engine.Engine [cached since 223.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60957 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:19,243 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:19,379 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:19,380 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:19,380 INFO sqlalchemy.engine.Engine [cached since 224s ago] ('apollo_admin',)
2025-12-23 16:05:19,382 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:19,382 INFO sqlalchemy.engine.Engine [cached since 224s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:19,383 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:19,384 INFO sqlalchemy.engine.Engine [cached since 224s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60957 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:19,385 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:19,386 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:19,386 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:19,386 INFO sqlalchemy.engine.Engine [cached since 224s ago] ('apollo_admin',)
2025-12-23 16:05:19,387 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:19,387 INFO sqlalchemy.engine.Engine [cached since 224s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:19,388 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:19,388 INFO sqlalchemy.engine.Engine [cached since 224s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60957 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:19,389 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:19,394 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:19,394 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:19,394 INFO sqlalchemy.engine.Engine [cached since 224s ago] ('apollo_admin',)
2025-12-23 16:05:19,396 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:19,396 INFO sqlalchemy.engine.Engine [cached since 224s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:19,397 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:19,397 INFO sqlalchemy.engine.Engine [cached since 223.9s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:19,398 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:19,398 INFO sqlalchemy.engine.Engine [cached since 223.9s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:19,399 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:19,399 INFO sqlalchemy.engine.Engine [cached since 223.9s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:19,400 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:19,400 INFO sqlalchemy.engine.Engine [cached since 223.9s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60957 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:19,401 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:19,402 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:19,403 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:19,403 INFO sqlalchemy.engine.Engine [cached since 224s ago] ('apollo_admin',)
2025-12-23 16:05:19,404 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:19,404 INFO sqlalchemy.engine.Engine [cached since 224s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:19,405 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:19,405 INFO sqlalchemy.engine.Engine [cached since 224s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:19,406 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:19,406 INFO sqlalchemy.engine.Engine [cached since 224s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:19,407 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:19,407 INFO sqlalchemy.engine.Engine [cached since 224s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:19,407 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:19,407 INFO sqlalchemy.engine.Engine [cached since 223.9s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60957 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:19,408 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:19,589 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:19,591 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:19,591 INFO sqlalchemy.engine.Engine [cached since 224.2s ago] ('apollo_admin',)
2025-12-23 16:05:19,594 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:19,595 INFO sqlalchemy.engine.Engine [cached since 224.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:19,596 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:19,597 INFO sqlalchemy.engine.Engine [cached since 224.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60957 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:19,600 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:19,603 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:19,603 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:19,603 INFO sqlalchemy.engine.Engine [cached since 224.2s ago] ('apollo_admin',)
2025-12-23 16:05:19,607 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:19,607 INFO sqlalchemy.engine.Engine [cached since 224.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:19,609 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:19,610 INFO sqlalchemy.engine.Engine [cached since 224.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60957 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:19,612 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:19,613 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:19,614 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:19,614 INFO sqlalchemy.engine.Engine [cached since 224.2s ago] ('apollo_admin',)
2025-12-23 16:05:19,618 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:19,619 INFO sqlalchemy.engine.Engine [cached since 224.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:19,622 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:19,623 INFO sqlalchemy.engine.Engine [cached since 224.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:19,626 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:19,626 INFO sqlalchemy.engine.Engine [cached since 224.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:19,627 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:19,627 INFO sqlalchemy.engine.Engine [cached since 224.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:19,628 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:19,628 INFO sqlalchemy.engine.Engine [cached since 224.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60970 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:19,629 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:19,632 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:19,632 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:19,633 INFO sqlalchemy.engine.Engine [cached since 224.2s ago] ('apollo_admin',)
2025-12-23 16:05:19,636 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:19,636 INFO sqlalchemy.engine.Engine [cached since 224.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:19,637 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:19,637 INFO sqlalchemy.engine.Engine [cached since 224.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:19,637 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:19,637 INFO sqlalchemy.engine.Engine [cached since 224.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:19,638 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:19,638 INFO sqlalchemy.engine.Engine [cached since 224.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:19,638 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:19,638 INFO sqlalchemy.engine.Engine [cached since 224.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60970 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:19,639 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:21,422 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:21,422 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:21,422 INFO sqlalchemy.engine.Engine [cached since 226s ago] ('apollo_admin',)
2025-12-23 16:05:21,423 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:21,423 INFO sqlalchemy.engine.Engine [cached since 226s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:21,424 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:21,424 INFO sqlalchemy.engine.Engine [cached since 226s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60970 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:21,425 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:21,426 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:21,426 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:21,426 INFO sqlalchemy.engine.Engine [cached since 226s ago] ('apollo_admin',)
2025-12-23 16:05:21,427 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:21,427 INFO sqlalchemy.engine.Engine [cached since 226s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:21,427 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:21,427 INFO sqlalchemy.engine.Engine [cached since 226s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60970 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:21,428 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:21,432 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:21,432 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:21,433 INFO sqlalchemy.engine.Engine [cached since 226s ago] ('apollo_admin',)
2025-12-23 16:05:21,434 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:21,434 INFO sqlalchemy.engine.Engine [cached since 226s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:21,435 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:21,435 INFO sqlalchemy.engine.Engine [cached since 226s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:21,436 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:21,436 INFO sqlalchemy.engine.Engine [cached since 226s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:21,437 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:21,437 INFO sqlalchemy.engine.Engine [cached since 226s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:21,438 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:21,438 INFO sqlalchemy.engine.Engine [cached since 226s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60970 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:21,439 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:21,440 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:21,440 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:21,440 INFO sqlalchemy.engine.Engine [cached since 226s ago] ('apollo_admin',)
2025-12-23 16:05:21,440 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:21,441 INFO sqlalchemy.engine.Engine [cached since 226s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:21,441 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:21,441 INFO sqlalchemy.engine.Engine [cached since 226s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:21,442 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:21,442 INFO sqlalchemy.engine.Engine [cached since 226s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:21,443 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:21,443 INFO sqlalchemy.engine.Engine [cached since 226s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:21,444 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:21,444 INFO sqlalchemy.engine.Engine [cached since 226s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60970 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:21,445 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:21,766 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:21,766 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:21,766 INFO sqlalchemy.engine.Engine [cached since 226.4s ago] ('apollo_admin',)
2025-12-23 16:05:21,769 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:21,769 INFO sqlalchemy.engine.Engine [cached since 226.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:21,770 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:21,770 INFO sqlalchemy.engine.Engine [cached since 226.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60970 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:21,771 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:21,772 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:21,772 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:21,772 INFO sqlalchemy.engine.Engine [cached since 226.4s ago] ('apollo_admin',)
2025-12-23 16:05:21,773 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:21,774 INFO sqlalchemy.engine.Engine [cached since 226.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:21,774 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:21,774 INFO sqlalchemy.engine.Engine [cached since 226.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60970 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:21,775 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:21,780 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:21,781 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:21,781 INFO sqlalchemy.engine.Engine [cached since 226.4s ago] ('apollo_admin',)
2025-12-23 16:05:21,782 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:21,782 INFO sqlalchemy.engine.Engine [cached since 226.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:21,783 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:21,783 INFO sqlalchemy.engine.Engine [cached since 226.3s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:21,784 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:21,785 INFO sqlalchemy.engine.Engine [cached since 226.3s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:21,786 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:21,786 INFO sqlalchemy.engine.Engine [cached since 226.3s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:21,787 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:21,787 INFO sqlalchemy.engine.Engine [cached since 226.3s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60970 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:21,788 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:21,789 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:21,789 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:21,789 INFO sqlalchemy.engine.Engine [cached since 226.4s ago] ('apollo_admin',)
2025-12-23 16:05:21,790 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:21,790 INFO sqlalchemy.engine.Engine [cached since 226.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:21,791 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:21,791 INFO sqlalchemy.engine.Engine [cached since 226.3s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:21,792 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:21,792 INFO sqlalchemy.engine.Engine [cached since 226.3s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:21,793 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:21,793 INFO sqlalchemy.engine.Engine [cached since 226.3s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:21,794 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:21,794 INFO sqlalchemy.engine.Engine [cached since 226.3s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60970 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:21,795 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:21,944 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:21,945 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:21,945 INFO sqlalchemy.engine.Engine [cached since 226.5s ago] ('apollo_admin',)
2025-12-23 16:05:21,946 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:21,946 INFO sqlalchemy.engine.Engine [cached since 226.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:21,947 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:21,947 INFO sqlalchemy.engine.Engine [cached since 226.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60970 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:21,948 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:21,948 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:21,949 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:21,949 INFO sqlalchemy.engine.Engine [cached since 226.6s ago] ('apollo_admin',)
2025-12-23 16:05:21,950 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:21,950 INFO sqlalchemy.engine.Engine [cached since 226.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:21,951 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:21,951 INFO sqlalchemy.engine.Engine [cached since 226.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60970 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:21,952 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:21,955 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:21,955 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:21,955 INFO sqlalchemy.engine.Engine [cached since 226.6s ago] ('apollo_admin',)
2025-12-23 16:05:21,956 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:21,956 INFO sqlalchemy.engine.Engine [cached since 226.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:21,957 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:21,957 INFO sqlalchemy.engine.Engine [cached since 226.5s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:21,958 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:21,958 INFO sqlalchemy.engine.Engine [cached since 226.5s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:21,959 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:21,959 INFO sqlalchemy.engine.Engine [cached since 226.5s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:21,959 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:21,960 INFO sqlalchemy.engine.Engine [cached since 226.5s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60970 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:21,960 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:21,962 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:21,962 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:21,962 INFO sqlalchemy.engine.Engine [cached since 226.6s ago] ('apollo_admin',)
2025-12-23 16:05:21,963 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:21,963 INFO sqlalchemy.engine.Engine [cached since 226.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:21,963 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:21,964 INFO sqlalchemy.engine.Engine [cached since 226.5s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:21,964 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:21,964 INFO sqlalchemy.engine.Engine [cached since 226.5s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:21,965 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:21,966 INFO sqlalchemy.engine.Engine [cached since 226.5s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:21,966 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:21,966 INFO sqlalchemy.engine.Engine [cached since 226.5s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60970 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:21,967 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:22,174 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:22,174 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:22,174 INFO sqlalchemy.engine.Engine [cached since 226.8s ago] ('apollo_admin',)
2025-12-23 16:05:22,179 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:22,179 INFO sqlalchemy.engine.Engine [cached since 226.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:22,180 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:22,180 INFO sqlalchemy.engine.Engine [cached since 226.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60970 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:22,182 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:22,184 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:22,184 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:22,185 INFO sqlalchemy.engine.Engine [cached since 226.8s ago] ('apollo_admin',)
2025-12-23 16:05:22,186 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:22,186 INFO sqlalchemy.engine.Engine [cached since 226.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:22,187 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:22,187 INFO sqlalchemy.engine.Engine [cached since 226.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60970 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:22,188 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:22,194 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:22,194 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:22,194 INFO sqlalchemy.engine.Engine [cached since 226.8s ago] ('apollo_admin',)
2025-12-23 16:05:22,195 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:22,195 INFO sqlalchemy.engine.Engine [cached since 226.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:22,196 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:22,196 INFO sqlalchemy.engine.Engine [cached since 226.7s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:22,197 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:22,197 INFO sqlalchemy.engine.Engine [cached since 226.7s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:22,198 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:22,198 INFO sqlalchemy.engine.Engine [cached since 226.7s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:22,199 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:22,199 INFO sqlalchemy.engine.Engine [cached since 226.7s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60970 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:22,200 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:22,201 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:22,201 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:22,201 INFO sqlalchemy.engine.Engine [cached since 226.8s ago] ('apollo_admin',)
2025-12-23 16:05:22,202 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:22,202 INFO sqlalchemy.engine.Engine [cached since 226.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:22,202 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:22,202 INFO sqlalchemy.engine.Engine [cached since 226.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:22,203 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:22,203 INFO sqlalchemy.engine.Engine [cached since 226.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:22,204 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:22,204 INFO sqlalchemy.engine.Engine [cached since 226.7s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:22,205 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:22,205 INFO sqlalchemy.engine.Engine [cached since 226.7s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60970 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:22,206 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:22,377 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:22,377 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:22,377 INFO sqlalchemy.engine.Engine [cached since 227s ago] ('apollo_admin',)
2025-12-23 16:05:22,379 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:22,379 INFO sqlalchemy.engine.Engine [cached since 227s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:22,380 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:22,380 INFO sqlalchemy.engine.Engine [cached since 227s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60970 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:22,381 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:22,382 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:22,382 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:22,382 INFO sqlalchemy.engine.Engine [cached since 227s ago] ('apollo_admin',)
2025-12-23 16:05:22,384 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:22,384 INFO sqlalchemy.engine.Engine [cached since 227s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:22,385 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:22,385 INFO sqlalchemy.engine.Engine [cached since 227s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60970 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:22,386 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:22,388 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:22,392 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:22,392 INFO sqlalchemy.engine.Engine [cached since 227s ago] ('apollo_admin',)
2025-12-23 16:05:22,393 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:22,393 INFO sqlalchemy.engine.Engine [cached since 227s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:22,394 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:22,394 INFO sqlalchemy.engine.Engine [cached since 226.9s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:22,395 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:22,395 INFO sqlalchemy.engine.Engine [cached since 226.9s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:22,396 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:22,396 INFO sqlalchemy.engine.Engine [cached since 226.9s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:22,397 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:22,397 INFO sqlalchemy.engine.Engine [cached since 226.9s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60970 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:22,399 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:22,400 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:22,400 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:22,400 INFO sqlalchemy.engine.Engine [cached since 227s ago] ('apollo_admin',)
2025-12-23 16:05:22,401 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:22,401 INFO sqlalchemy.engine.Engine [cached since 227s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:22,401 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:22,401 INFO sqlalchemy.engine.Engine [cached since 227s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:22,402 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:22,402 INFO sqlalchemy.engine.Engine [cached since 227s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:22,402 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:22,402 INFO sqlalchemy.engine.Engine [cached since 226.9s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:22,403 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:22,403 INFO sqlalchemy.engine.Engine [cached since 226.9s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60970 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:22,404 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:22,592 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:22,592 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:22,592 INFO sqlalchemy.engine.Engine [cached since 227.2s ago] ('apollo_admin',)
2025-12-23 16:05:22,593 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:22,594 INFO sqlalchemy.engine.Engine [cached since 227.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:22,594 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:22,594 INFO sqlalchemy.engine.Engine [cached since 227.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60970 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:22,595 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:22,596 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:22,596 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:22,596 INFO sqlalchemy.engine.Engine [cached since 227.2s ago] ('apollo_admin',)
2025-12-23 16:05:22,597 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:22,597 INFO sqlalchemy.engine.Engine [cached since 227.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:22,598 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:22,598 INFO sqlalchemy.engine.Engine [cached since 227.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60970 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:22,599 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:22,603 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:22,603 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:22,603 INFO sqlalchemy.engine.Engine [cached since 227.2s ago] ('apollo_admin',)
2025-12-23 16:05:22,604 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:22,604 INFO sqlalchemy.engine.Engine [cached since 227.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:22,605 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:22,605 INFO sqlalchemy.engine.Engine [cached since 227.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:22,606 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:22,606 INFO sqlalchemy.engine.Engine [cached since 227.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:22,607 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:22,607 INFO sqlalchemy.engine.Engine [cached since 227.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:22,608 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:22,608 INFO sqlalchemy.engine.Engine [cached since 227.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60970 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:22,609 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:22,610 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:22,610 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:22,610 INFO sqlalchemy.engine.Engine [cached since 227.2s ago] ('apollo_admin',)
2025-12-23 16:05:22,610 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:22,610 INFO sqlalchemy.engine.Engine [cached since 227.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:22,611 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:22,611 INFO sqlalchemy.engine.Engine [cached since 227.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:22,611 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:22,611 INFO sqlalchemy.engine.Engine [cached since 227.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:22,612 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:22,612 INFO sqlalchemy.engine.Engine [cached since 227.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:22,613 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:22,613 INFO sqlalchemy.engine.Engine [cached since 227.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60970 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:22,614 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:22,789 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:22,789 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:22,789 INFO sqlalchemy.engine.Engine [cached since 227.4s ago] ('apollo_admin',)
2025-12-23 16:05:22,791 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:22,791 INFO sqlalchemy.engine.Engine [cached since 227.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:22,791 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:22,792 INFO sqlalchemy.engine.Engine [cached since 227.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60970 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:22,792 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:22,793 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:22,793 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:22,793 INFO sqlalchemy.engine.Engine [cached since 227.4s ago] ('apollo_admin',)
2025-12-23 16:05:22,794 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:22,794 INFO sqlalchemy.engine.Engine [cached since 227.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:22,795 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:22,795 INFO sqlalchemy.engine.Engine [cached since 227.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60970 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:22,795 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:22,800 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:22,800 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:22,800 INFO sqlalchemy.engine.Engine [cached since 227.4s ago] ('apollo_admin',)
2025-12-23 16:05:22,802 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:22,802 INFO sqlalchemy.engine.Engine [cached since 227.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:22,803 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:22,803 INFO sqlalchemy.engine.Engine [cached since 227.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:22,804 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:22,804 INFO sqlalchemy.engine.Engine [cached since 227.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:22,805 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:22,805 INFO sqlalchemy.engine.Engine [cached since 227.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:22,806 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:22,806 INFO sqlalchemy.engine.Engine [cached since 227.3s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60970 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:22,807 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:22,808 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:22,808 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:22,808 INFO sqlalchemy.engine.Engine [cached since 227.4s ago] ('apollo_admin',)
2025-12-23 16:05:22,809 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:22,809 INFO sqlalchemy.engine.Engine [cached since 227.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:22,810 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:22,810 INFO sqlalchemy.engine.Engine [cached since 227.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:22,811 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:22,811 INFO sqlalchemy.engine.Engine [cached since 227.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:22,812 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:22,812 INFO sqlalchemy.engine.Engine [cached since 227.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:22,813 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:22,813 INFO sqlalchemy.engine.Engine [cached since 227.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60970 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:22,814 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:22,991 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:22,992 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:22,992 INFO sqlalchemy.engine.Engine [cached since 227.6s ago] ('apollo_admin',)
2025-12-23 16:05:22,996 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:22,997 INFO sqlalchemy.engine.Engine [cached since 227.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:22,999 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:23,000 INFO sqlalchemy.engine.Engine [cached since 227.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60982 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:23,001 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:23,003 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:23,003 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:23,003 INFO sqlalchemy.engine.Engine [cached since 227.6s ago] ('apollo_admin',)
2025-12-23 16:05:23,004 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:23,004 INFO sqlalchemy.engine.Engine [cached since 227.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:23,005 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:23,005 INFO sqlalchemy.engine.Engine [cached since 227.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60982 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:23,005 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:23,010 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:23,011 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:23,011 INFO sqlalchemy.engine.Engine [cached since 227.6s ago] ('apollo_admin',)
2025-12-23 16:05:23,012 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:23,012 INFO sqlalchemy.engine.Engine [cached since 227.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:23,013 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:23,013 INFO sqlalchemy.engine.Engine [cached since 227.6s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:23,014 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,014 INFO sqlalchemy.engine.Engine [cached since 227.6s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:23,014 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,014 INFO sqlalchemy.engine.Engine [cached since 227.6s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:23,015 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,015 INFO sqlalchemy.engine.Engine [cached since 227.6s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60982 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:23,016 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:23,017 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:23,017 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:23,017 INFO sqlalchemy.engine.Engine [cached since 227.6s ago] ('apollo_admin',)
2025-12-23 16:05:23,018 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:23,018 INFO sqlalchemy.engine.Engine [cached since 227.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:23,018 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:23,018 INFO sqlalchemy.engine.Engine [cached since 227.6s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:23,019 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,019 INFO sqlalchemy.engine.Engine [cached since 227.6s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:23,019 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,019 INFO sqlalchemy.engine.Engine [cached since 227.6s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:23,020 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,020 INFO sqlalchemy.engine.Engine [cached since 227.6s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60982 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:23,021 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:23,204 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:23,205 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:23,205 INFO sqlalchemy.engine.Engine [cached since 227.8s ago] ('apollo_admin',)
2025-12-23 16:05:23,206 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:23,207 INFO sqlalchemy.engine.Engine [cached since 227.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:23,207 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:23,207 INFO sqlalchemy.engine.Engine [cached since 227.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60982 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:23,208 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:23,209 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:23,209 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:23,209 INFO sqlalchemy.engine.Engine [cached since 227.8s ago] ('apollo_admin',)
2025-12-23 16:05:23,211 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:23,211 INFO sqlalchemy.engine.Engine [cached since 227.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:23,211 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:23,211 INFO sqlalchemy.engine.Engine [cached since 227.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60982 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:23,212 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:23,215 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:23,215 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:23,215 INFO sqlalchemy.engine.Engine [cached since 227.8s ago] ('apollo_admin',)
2025-12-23 16:05:23,216 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:23,216 INFO sqlalchemy.engine.Engine [cached since 227.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:23,218 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:23,218 INFO sqlalchemy.engine.Engine [cached since 227.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:23,219 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,219 INFO sqlalchemy.engine.Engine [cached since 227.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:23,220 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,220 INFO sqlalchemy.engine.Engine [cached since 227.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:23,221 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,221 INFO sqlalchemy.engine.Engine [cached since 227.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60982 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:23,222 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:23,222 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:23,222 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:23,222 INFO sqlalchemy.engine.Engine [cached since 227.8s ago] ('apollo_admin',)
2025-12-23 16:05:23,223 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:23,223 INFO sqlalchemy.engine.Engine [cached since 227.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:23,224 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:23,224 INFO sqlalchemy.engine.Engine [cached since 227.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:23,224 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,224 INFO sqlalchemy.engine.Engine [cached since 227.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:23,225 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,225 INFO sqlalchemy.engine.Engine [cached since 227.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:23,226 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,226 INFO sqlalchemy.engine.Engine [cached since 227.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60982 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:23,227 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:23,424 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:23,424 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:23,424 INFO sqlalchemy.engine.Engine [cached since 228s ago] ('apollo_admin',)
2025-12-23 16:05:23,426 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:23,426 INFO sqlalchemy.engine.Engine [cached since 228s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:23,426 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:23,426 INFO sqlalchemy.engine.Engine [cached since 228s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60982 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:23,427 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:23,428 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:23,428 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:23,428 INFO sqlalchemy.engine.Engine [cached since 228s ago] ('apollo_admin',)
2025-12-23 16:05:23,429 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:23,429 INFO sqlalchemy.engine.Engine [cached since 228s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:23,430 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:23,430 INFO sqlalchemy.engine.Engine [cached since 228s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60982 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:23,430 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:23,435 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:23,435 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:23,435 INFO sqlalchemy.engine.Engine [cached since 228s ago] ('apollo_admin',)
2025-12-23 16:05:23,436 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:23,436 INFO sqlalchemy.engine.Engine [cached since 228s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:23,437 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:23,438 INFO sqlalchemy.engine.Engine [cached since 228s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:23,439 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,439 INFO sqlalchemy.engine.Engine [cached since 228s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:23,439 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,439 INFO sqlalchemy.engine.Engine [cached since 228s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:23,440 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,440 INFO sqlalchemy.engine.Engine [cached since 228s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60982 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:23,441 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:23,442 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:23,442 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:23,443 INFO sqlalchemy.engine.Engine [cached since 228s ago] ('apollo_admin',)
2025-12-23 16:05:23,443 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:23,443 INFO sqlalchemy.engine.Engine [cached since 228s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:23,444 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:23,444 INFO sqlalchemy.engine.Engine [cached since 228s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:23,445 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,445 INFO sqlalchemy.engine.Engine [cached since 228s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:23,446 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,446 INFO sqlalchemy.engine.Engine [cached since 228s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:23,446 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,446 INFO sqlalchemy.engine.Engine [cached since 228s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60982 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:23,447 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:23,635 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:23,635 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:23,635 INFO sqlalchemy.engine.Engine [cached since 228.2s ago] ('apollo_admin',)
2025-12-23 16:05:23,637 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:23,637 INFO sqlalchemy.engine.Engine [cached since 228.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:23,637 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:23,637 INFO sqlalchemy.engine.Engine [cached since 228.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60982 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:23,638 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:23,639 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:23,639 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:23,639 INFO sqlalchemy.engine.Engine [cached since 228.2s ago] ('apollo_admin',)
2025-12-23 16:05:23,640 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:23,640 INFO sqlalchemy.engine.Engine [cached since 228.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:23,641 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:23,641 INFO sqlalchemy.engine.Engine [cached since 228.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60982 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:23,642 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:23,648 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:23,648 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:23,648 INFO sqlalchemy.engine.Engine [cached since 228.3s ago] ('apollo_admin',)
2025-12-23 16:05:23,649 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:23,649 INFO sqlalchemy.engine.Engine [cached since 228.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:23,650 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:23,651 INFO sqlalchemy.engine.Engine [cached since 228.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:23,652 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,652 INFO sqlalchemy.engine.Engine [cached since 228.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:23,653 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,653 INFO sqlalchemy.engine.Engine [cached since 228.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:23,654 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,654 INFO sqlalchemy.engine.Engine [cached since 228.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60982 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:23,655 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:23,656 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:23,656 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:23,656 INFO sqlalchemy.engine.Engine [cached since 228.3s ago] ('apollo_admin',)
2025-12-23 16:05:23,657 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:23,657 INFO sqlalchemy.engine.Engine [cached since 228.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:23,658 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:23,658 INFO sqlalchemy.engine.Engine [cached since 228.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:23,659 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,659 INFO sqlalchemy.engine.Engine [cached since 228.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:23,660 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,660 INFO sqlalchemy.engine.Engine [cached since 228.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:23,661 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,661 INFO sqlalchemy.engine.Engine [cached since 228.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60982 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:23,662 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:23,773 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:23,774 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:23,774 INFO sqlalchemy.engine.Engine [cached since 228.4s ago] ('apollo_admin',)
2025-12-23 16:05:23,778 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:23,778 INFO sqlalchemy.engine.Engine [cached since 228.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:23,780 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:23,780 INFO sqlalchemy.engine.Engine [cached since 228.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60982 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:23,784 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:23,786 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:23,786 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:23,786 INFO sqlalchemy.engine.Engine [cached since 228.4s ago] ('apollo_admin',)
2025-12-23 16:05:23,788 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:23,788 INFO sqlalchemy.engine.Engine [cached since 228.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:23,789 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:23,789 INFO sqlalchemy.engine.Engine [cached since 228.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60982 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:23,789 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:23,795 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:23,795 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:23,795 INFO sqlalchemy.engine.Engine [cached since 228.4s ago] ('apollo_admin',)
2025-12-23 16:05:23,796 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:23,796 INFO sqlalchemy.engine.Engine [cached since 228.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:23,796 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:23,796 INFO sqlalchemy.engine.Engine [cached since 228.3s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:23,797 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,797 INFO sqlalchemy.engine.Engine [cached since 228.3s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:23,797 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,797 INFO sqlalchemy.engine.Engine [cached since 228.3s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:23,798 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,798 INFO sqlalchemy.engine.Engine [cached since 228.3s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60982 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:23,800 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:23,800 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:23,800 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:23,800 INFO sqlalchemy.engine.Engine [cached since 228.4s ago] ('apollo_admin',)
2025-12-23 16:05:23,801 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:23,801 INFO sqlalchemy.engine.Engine [cached since 228.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:23,801 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:23,801 INFO sqlalchemy.engine.Engine [cached since 228.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:23,802 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,802 INFO sqlalchemy.engine.Engine [cached since 228.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:23,802 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,802 INFO sqlalchemy.engine.Engine [cached since 228.3s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:23,803 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,803 INFO sqlalchemy.engine.Engine [cached since 228.3s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60982 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:23,804 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:23,984 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:23,984 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:23,984 INFO sqlalchemy.engine.Engine [cached since 228.6s ago] ('apollo_admin',)
2025-12-23 16:05:23,985 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:23,986 INFO sqlalchemy.engine.Engine [cached since 228.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:23,986 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:23,986 INFO sqlalchemy.engine.Engine [cached since 228.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60982 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:23,987 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:23,988 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:23,988 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:23,988 INFO sqlalchemy.engine.Engine [cached since 228.6s ago] ('apollo_admin',)
2025-12-23 16:05:23,989 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:23,989 INFO sqlalchemy.engine.Engine [cached since 228.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:23,989 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:23,989 INFO sqlalchemy.engine.Engine [cached since 228.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60982 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:23,990 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:23,996 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:23,996 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:23,996 INFO sqlalchemy.engine.Engine [cached since 228.6s ago] ('apollo_admin',)
2025-12-23 16:05:23,997 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:23,997 INFO sqlalchemy.engine.Engine [cached since 228.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:23,998 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:23,998 INFO sqlalchemy.engine.Engine [cached since 228.6s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:23,998 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,998 INFO sqlalchemy.engine.Engine [cached since 228.5s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:23,999 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:23,999 INFO sqlalchemy.engine.Engine [cached since 228.5s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:24,000 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:24,000 INFO sqlalchemy.engine.Engine [cached since 228.5s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60982 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:24,001 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:24,001 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:24,002 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:24,002 INFO sqlalchemy.engine.Engine [cached since 228.6s ago] ('apollo_admin',)
2025-12-23 16:05:24,002 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:24,002 INFO sqlalchemy.engine.Engine [cached since 228.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:24,003 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:24,003 INFO sqlalchemy.engine.Engine [cached since 228.6s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:24,003 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:24,003 INFO sqlalchemy.engine.Engine [cached since 228.6s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:24,004 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:24,004 INFO sqlalchemy.engine.Engine [cached since 228.5s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:05:24,005 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:24,005 INFO sqlalchemy.engine.Engine [cached since 228.5s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:60982 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:05:24,006 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:26,776 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:26,776 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:26,776 INFO sqlalchemy.engine.Engine [cached since 231.4s ago] ('apollo_admin',)
2025-12-23 16:05:26,778 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:26,778 INFO sqlalchemy.engine.Engine [cached since 231.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:26,778 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:26,779 INFO sqlalchemy.engine.Engine [cached since 231.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60982 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:26,779 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:26,780 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:26,780 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:26,781 INFO sqlalchemy.engine.Engine [cached since 231.4s ago] ('apollo_admin',)
2025-12-23 16:05:26,782 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:26,782 INFO sqlalchemy.engine.Engine [cached since 231.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:26,783 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:26,783 INFO sqlalchemy.engine.Engine [cached since 231.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60982 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:26,784 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:27,097 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:27,098 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:27,098 INFO sqlalchemy.engine.Engine [cached since 231.7s ago] ('apollo_admin',)
2025-12-23 16:05:27,101 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:05:27,101 INFO sqlalchemy.engine.Engine [cached since 223.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:60982 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:05:27,105 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:60998 - "OPTIONS /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:05:29,825 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:29,825 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:29,826 INFO sqlalchemy.engine.Engine [cached since 234.4s ago] ('apollo_admin',)
2025-12-23 16:05:29,827 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:29,827 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:29,827 INFO sqlalchemy.engine.Engine [cached since 234.4s ago] ('apollo_admin',)
INFO:     127.0.0.1:61000 - "OPTIONS /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:05:29,829 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:29,829 INFO sqlalchemy.engine.Engine [cached since 234.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:29,830 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:29,830 INFO sqlalchemy.engine.Engine [cached since 234.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:29,830 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:29,830 INFO sqlalchemy.engine.Engine [cached since 234.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:29,831 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:29,831 INFO sqlalchemy.engine.Engine [cached since 234.4s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
INFO:     127.0.0.1:60999 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:29,832 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:29,833 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:29,833 INFO sqlalchemy.engine.Engine [cached since 234.4s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:05:29,835 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:29,835 INFO sqlalchemy.engine.Engine [cached since 234.4s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:05:29,836 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:29,836 INFO sqlalchemy.engine.Engine [cached since 234.4s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:60998 - "GET /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:05:29,838 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:29,839 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:29,839 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:29,839 INFO sqlalchemy.engine.Engine [cached since 234.4s ago] ('apollo_admin',)
2025-12-23 16:05:29,841 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:29,841 INFO sqlalchemy.engine.Engine [cached since 234.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:29,841 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:29,841 INFO sqlalchemy.engine.Engine [cached since 234.4s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:29,842 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:29,843 INFO sqlalchemy.engine.Engine [cached since 234.4s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:05:29,843 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:29,843 INFO sqlalchemy.engine.Engine [cached since 234.4s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:05:29,844 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:29,844 INFO sqlalchemy.engine.Engine [cached since 234.4s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:60998 - "GET /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:05:29,844 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:31,962 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:31,962 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:31,962 INFO sqlalchemy.engine.Engine [cached since 236.6s ago] ('apollo_admin',)
2025-12-23 16:05:31,964 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:31,964 INFO sqlalchemy.engine.Engine [cached since 236.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:31,965 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:31,965 INFO sqlalchemy.engine.Engine [cached since 236.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:60998 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:31,966 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:32,264 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:32,264 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:32,265 INFO sqlalchemy.engine.Engine [cached since 236.9s ago] ('apollo_admin',)
2025-12-23 16:05:32,269 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:05:32,269 INFO sqlalchemy.engine.Engine [cached since 229s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:60998 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:05:32,272 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:34,835 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:34,835 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:34,836 INFO sqlalchemy.engine.Engine [cached since 239.4s ago] ('apollo_admin',)
2025-12-23 16:05:34,838 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:34,838 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:34,838 INFO sqlalchemy.engine.Engine [cached since 239.4s ago] ('apollo_admin',)
2025-12-23 16:05:34,839 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:34,839 INFO sqlalchemy.engine.Engine [cached since 239.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:34,840 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:34,840 INFO sqlalchemy.engine.Engine [cached since 239.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:34,841 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:34,841 INFO sqlalchemy.engine.Engine [cached since 239.4s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:34,841 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:05:34,841 INFO sqlalchemy.engine.Engine [cached since 239.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:34,842 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:34,842 INFO sqlalchemy.engine.Engine [cached since 239.4s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:61006 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:05:34,843 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:34,844 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:34,844 INFO sqlalchemy.engine.Engine [cached since 239.4s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:05:34,844 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:34,845 INFO sqlalchemy.engine.Engine [cached since 239.4s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:61005 - "GET /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:05:34,845 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:05:34,846 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:05:34,847 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:05:34,847 INFO sqlalchemy.engine.Engine [cached since 239.5s ago] ('apollo_admin',)
2025-12-23 16:05:34,847 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:05:34,847 INFO sqlalchemy.engine.Engine [cached since 239.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:05:34,848 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:05:34,848 INFO sqlalchemy.engine.Engine [cached since 239.4s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:05:34,849 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:34,849 INFO sqlalchemy.engine.Engine [cached since 239.4s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:05:34,850 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:34,850 INFO sqlalchemy.engine.Engine [cached since 239.4s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:05:34,851 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:05:34,851 INFO sqlalchemy.engine.Engine [cached since 239.4s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:61005 - "GET /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:05:34,851 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:06:01,634 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:06:01,637 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:06:01,637 INFO sqlalchemy.engine.Engine [cached since 266.2s ago] ('apollo_admin',)
2025-12-23 16:06:01,653 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:06:01,653 INFO sqlalchemy.engine.Engine [cached since 266.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:06:01,655 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:06:01,655 INFO sqlalchemy.engine.Engine [cached since 266.2s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:06:01,657 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:06:01,657 INFO sqlalchemy.engine.Engine [cached since 266.2s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:06:01,658 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:06:01,658 INFO sqlalchemy.engine.Engine [cached since 266.2s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:06:01,658 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:06:01,658 INFO sqlalchemy.engine.Engine [cached since 266.2s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:61010 - "GET /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:06:01,660 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:06:02,855 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:06:02,856 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:06:02,856 INFO sqlalchemy.engine.Engine [cached since 267.5s ago] ('apollo_admin',)
2025-12-23 16:06:02,860 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:06:02,860 INFO sqlalchemy.engine.Engine [cached since 267.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:06:02,862 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:06:02,862 INFO sqlalchemy.engine.Engine [cached since 267.4s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:06:02,864 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:06:02,865 INFO sqlalchemy.engine.Engine [cached since 267.4s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:06:02,866 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:06:02,866 INFO sqlalchemy.engine.Engine [cached since 267.4s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:06:02,868 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:06:02,868 INFO sqlalchemy.engine.Engine [cached since 267.4s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:61010 - "GET /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:06:02,871 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:06:13,093 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:06:13,093 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:06:13,093 INFO sqlalchemy.engine.Engine [cached since 277.7s ago] ('apollo_admin',)
2025-12-23 16:06:13,097 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:06:13,097 INFO sqlalchemy.engine.Engine [cached since 277.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:06:13,098 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:06:13,098 INFO sqlalchemy.engine.Engine [cached since 277.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61015 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:06:13,101 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:06:13,397 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:06:13,398 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:06:13,398 INFO sqlalchemy.engine.Engine [cached since 278s ago] ('apollo_admin',)
2025-12-23 16:06:13,402 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:06:13,402 INFO sqlalchemy.engine.Engine [cached since 270.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61015 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:06:13,405 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61015 - "OPTIONS /patients/4d8fea29-851c-4146-82a5-9d4e4b68eea4/profile HTTP/1.1" 200 OK
2025-12-23 16:06:15,832 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:06:15,833 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:06:15,833 INFO sqlalchemy.engine.Engine [cached since 280.4s ago] ('apollo_admin',)
2025-12-23 16:06:15,835 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:06:15,835 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:06:15,835 INFO sqlalchemy.engine.Engine [cached since 280.4s ago] ('apollo_admin',)
INFO:     127.0.0.1:61019 - "OPTIONS /patients/4d8fea29-851c-4146-82a5-9d4e4b68eea4/profile HTTP/1.1" 200 OK
2025-12-23 16:06:15,836 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:06:15,836 INFO sqlalchemy.engine.Engine [cached since 280.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:06:15,837 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:06:15,837 INFO sqlalchemy.engine.Engine [cached since 280.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:06:15,838 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:06:15,838 INFO sqlalchemy.engine.Engine [cached since 280.4s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:06:15,839 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:06:15,839 INFO sqlalchemy.engine.Engine [cached since 280.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:06:15,839 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:06:15,840 INFO sqlalchemy.engine.Engine [cached since 280.4s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4',)
INFO:     127.0.0.1:61018 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:06:15,840 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:06:15,841 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:06:15,841 INFO sqlalchemy.engine.Engine [cached since 280.4s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4',)
2025-12-23 16:06:15,842 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:06:15,842 INFO sqlalchemy.engine.Engine [cached since 280.4s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4',)
INFO:     127.0.0.1:61015 - "GET /patients/4d8fea29-851c-4146-82a5-9d4e4b68eea4/profile HTTP/1.1" 200 OK
2025-12-23 16:06:15,843 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:06:15,844 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:06:15,844 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:06:15,844 INFO sqlalchemy.engine.Engine [cached since 280.4s ago] ('apollo_admin',)
2025-12-23 16:06:15,845 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:06:15,845 INFO sqlalchemy.engine.Engine [cached since 280.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:06:15,846 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:06:15,846 INFO sqlalchemy.engine.Engine [cached since 280.4s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:06:15,847 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:06:15,847 INFO sqlalchemy.engine.Engine [cached since 280.4s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4',)
2025-12-23 16:06:15,848 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:06:15,848 INFO sqlalchemy.engine.Engine [cached since 280.4s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4',)
2025-12-23 16:06:15,848 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:06:15,848 INFO sqlalchemy.engine.Engine [cached since 280.4s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4',)
INFO:     127.0.0.1:61015 - "GET /patients/4d8fea29-851c-4146-82a5-9d4e4b68eea4/profile HTTP/1.1" 200 OK
2025-12-23 16:06:15,849 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:06:17,954 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:06:17,955 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:06:17,955 INFO sqlalchemy.engine.Engine [cached since 282.6s ago] ('apollo_admin',)
2025-12-23 16:06:17,957 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:06:17,957 INFO sqlalchemy.engine.Engine [cached since 282.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:06:17,958 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:06:17,958 INFO sqlalchemy.engine.Engine [cached since 282.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61015 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:06:17,959 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:06:17,960 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:06:17,960 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:06:17,960 INFO sqlalchemy.engine.Engine [cached since 282.6s ago] ('apollo_admin',)
2025-12-23 16:06:17,961 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:06:17,961 INFO sqlalchemy.engine.Engine [cached since 282.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:06:17,962 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:06:17,962 INFO sqlalchemy.engine.Engine [cached since 282.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61015 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:06:17,963 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:06:17,968 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:06:17,968 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:06:17,968 INFO sqlalchemy.engine.Engine [cached since 282.6s ago] ('apollo_admin',)
2025-12-23 16:06:17,969 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:06:17,970 INFO sqlalchemy.engine.Engine [cached since 282.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:06:17,971 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:06:17,971 INFO sqlalchemy.engine.Engine [cached since 282.5s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:06:17,972 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:06:17,972 INFO sqlalchemy.engine.Engine [cached since 282.5s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4',)
2025-12-23 16:06:17,973 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:06:17,973 INFO sqlalchemy.engine.Engine [cached since 282.5s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4',)
2025-12-23 16:06:17,974 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:06:17,974 INFO sqlalchemy.engine.Engine [cached since 282.5s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4',)
INFO:     127.0.0.1:61015 - "GET /patients/4d8fea29-851c-4146-82a5-9d4e4b68eea4/profile HTTP/1.1" 200 OK
2025-12-23 16:06:17,975 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:06:17,976 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:06:17,976 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:06:17,977 INFO sqlalchemy.engine.Engine [cached since 282.6s ago] ('apollo_admin',)
2025-12-23 16:06:17,977 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:06:17,977 INFO sqlalchemy.engine.Engine [cached since 282.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:06:17,978 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:06:17,978 INFO sqlalchemy.engine.Engine [cached since 282.5s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:06:17,979 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:06:17,979 INFO sqlalchemy.engine.Engine [cached since 282.5s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4',)
2025-12-23 16:06:17,980 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:06:17,980 INFO sqlalchemy.engine.Engine [cached since 282.5s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4',)
2025-12-23 16:06:17,981 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:06:17,981 INFO sqlalchemy.engine.Engine [cached since 282.5s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4',)
INFO:     127.0.0.1:61015 - "GET /patients/4d8fea29-851c-4146-82a5-9d4e4b68eea4/profile HTTP/1.1" 200 OK
2025-12-23 16:06:17,981 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:06:20,777 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:06:20,779 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:06:20,779 INFO sqlalchemy.engine.Engine [cached since 285.4s ago] ('apollo_admin',)
2025-12-23 16:06:20,782 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:06:20,782 INFO sqlalchemy.engine.Engine [cached since 285.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:06:20,784 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:06:20,784 INFO sqlalchemy.engine.Engine [cached since 285.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61037 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:06:20,787 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:06:20,788 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:06:20,788 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:06:20,788 INFO sqlalchemy.engine.Engine [cached since 285.4s ago] ('apollo_admin',)
2025-12-23 16:06:20,790 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:06:20,790 INFO sqlalchemy.engine.Engine [cached since 285.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:06:20,790 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:06:20,790 INFO sqlalchemy.engine.Engine [cached since 285.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61037 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:06:20,791 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:06:21,104 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:06:21,104 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:06:21,105 INFO sqlalchemy.engine.Engine [cached since 285.7s ago] ('apollo_admin',)
2025-12-23 16:06:21,107 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:06:21,107 INFO sqlalchemy.engine.Engine [cached since 277.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61037 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:06:21,110 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61043 - "OPTIONS /patients/96c0815a-35db-4964-9f6d-c79df5ed7f1b/profile HTTP/1.1" 200 OK
2025-12-23 16:06:23,074 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:06:23,074 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:06:23,074 INFO sqlalchemy.engine.Engine [cached since 287.7s ago] ('apollo_admin',)
2025-12-23 16:06:23,075 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:06:23,076 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:06:23,076 INFO sqlalchemy.engine.Engine [cached since 287.7s ago] ('apollo_admin',)
INFO:     127.0.0.1:61045 - "OPTIONS /patients/96c0815a-35db-4964-9f6d-c79df5ed7f1b/profile HTTP/1.1" 200 OK
2025-12-23 16:06:23,077 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:06:23,077 INFO sqlalchemy.engine.Engine [cached since 287.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:06:23,078 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:06:23,078 INFO sqlalchemy.engine.Engine [cached since 287.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:06:23,078 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:06:23,079 INFO sqlalchemy.engine.Engine [cached since 287.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:06:23,081 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:06:23,081 INFO sqlalchemy.engine.Engine [cached since 287.6s ago] ('96c0815a-35db-4964-9f6d-c79df5ed7f1b', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
INFO:     127.0.0.1:61044 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:06:23,081 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:06:23,088 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:06:23,088 INFO sqlalchemy.engine.Engine [cached since 287.6s ago] ('96c0815a-35db-4964-9f6d-c79df5ed7f1b',)
2025-12-23 16:06:23,089 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:06:23,089 INFO sqlalchemy.engine.Engine [cached since 287.6s ago] ('96c0815a-35db-4964-9f6d-c79df5ed7f1b',)
2025-12-23 16:06:23,090 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:06:23,090 INFO sqlalchemy.engine.Engine [cached since 287.6s ago] ('96c0815a-35db-4964-9f6d-c79df5ed7f1b',)
INFO:     127.0.0.1:61043 - "GET /patients/96c0815a-35db-4964-9f6d-c79df5ed7f1b/profile HTTP/1.1" 200 OK
2025-12-23 16:06:23,091 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:06:23,092 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:06:23,092 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:06:23,093 INFO sqlalchemy.engine.Engine [cached since 287.7s ago] ('apollo_admin',)
2025-12-23 16:06:23,094 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:06:23,094 INFO sqlalchemy.engine.Engine [cached since 287.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:06:23,095 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:06:23,095 INFO sqlalchemy.engine.Engine [cached since 287.6s ago] ('96c0815a-35db-4964-9f6d-c79df5ed7f1b', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:06:23,096 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:06:23,096 INFO sqlalchemy.engine.Engine [cached since 287.6s ago] ('96c0815a-35db-4964-9f6d-c79df5ed7f1b',)
2025-12-23 16:06:23,096 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:06:23,097 INFO sqlalchemy.engine.Engine [cached since 287.6s ago] ('96c0815a-35db-4964-9f6d-c79df5ed7f1b',)
2025-12-23 16:06:23,097 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:06:23,097 INFO sqlalchemy.engine.Engine [cached since 287.6s ago] ('96c0815a-35db-4964-9f6d-c79df5ed7f1b',)
INFO:     127.0.0.1:61043 - "GET /patients/96c0815a-35db-4964-9f6d-c79df5ed7f1b/profile HTTP/1.1" 200 OK
2025-12-23 16:06:23,098 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:06:33,863 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:06:33,868 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:06:33,869 INFO sqlalchemy.engine.Engine [cached since 298.5s ago] ('apollo_admin',)
2025-12-23 16:06:33,871 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:06:33,871 INFO sqlalchemy.engine.Engine [cached since 298.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:06:33,872 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:06:33,872 INFO sqlalchemy.engine.Engine [cached since 298.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61050 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:06:33,873 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:06:34,165 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:06:34,166 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:06:34,166 INFO sqlalchemy.engine.Engine [cached since 298.8s ago] ('apollo_admin',)
2025-12-23 16:06:34,169 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:06:34,170 INFO sqlalchemy.engine.Engine [cached since 290.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61050 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:06:34,174 INFO sqlalchemy.engine.Engine ROLLBACK
WARNING:  WatchFiles detected changes in 'test_api_create.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [27709]
WARNING:  WatchFiles detected changes in 'test_api_create.py'. Reloading...
INFO:     Started server process [27882]
INFO:     Waiting for application startup.
2025-12-23 16:08:40,783 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 16:08:40,783 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 16:08:40,794 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 16:08:40,794 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 16:08:40,795 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 16:08:40,796 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 16:08:40,796 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:08:40,798 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:08:40,798 INFO sqlalchemy.engine.Engine [generated in 0.00010s] ('tenants', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:08:40,810 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:08:40,810 INFO sqlalchemy.engine.Engine [cached since 0.01162s ago] ('tenant_settings', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:08:40,810 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:08:40,810 INFO sqlalchemy.engine.Engine [cached since 0.01193s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:08:40,810 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:08:40,810 INFO sqlalchemy.engine.Engine [cached since 0.0122s ago] ('patients', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:08:40,810 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:08:40,811 INFO sqlalchemy.engine.Engine [cached since 0.01245s ago] ('clinical_records', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:08:40,811 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:08:40,811 INFO sqlalchemy.engine.Engine [cached since 0.01269s ago] ('appointments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:08:40,811 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:08:40,811 INFO sqlalchemy.engine.Engine [cached since 0.01293s ago] ('attachments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:08:40,811 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:08:40,811 INFO sqlalchemy.engine.Engine [cached since 0.01311s ago] ('prescriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:08:40,811 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:08:40,811 INFO sqlalchemy.engine.Engine [cached since 0.01328s ago] ('invoices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:08:40,812 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     Started server process [27886]
INFO:     Waiting for application startup.
2025-12-23 16:08:41,241 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 16:08:41,241 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 16:08:41,242 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 16:08:41,242 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 16:08:41,243 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 16:08:41,243 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 16:08:41,243 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:08:41,245 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:08:41,245 INFO sqlalchemy.engine.Engine [generated in 0.00008s] ('tenants', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:08:41,246 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:08:41,246 INFO sqlalchemy.engine.Engine [cached since 0.001483s ago] ('tenant_settings', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:08:41,247 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:08:41,247 INFO sqlalchemy.engine.Engine [cached since 0.001782s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:08:41,247 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:08:41,247 INFO sqlalchemy.engine.Engine [cached since 0.00205s ago] ('patients', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:08:41,247 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:08:41,247 INFO sqlalchemy.engine.Engine [cached since 0.002303s ago] ('clinical_records', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:08:41,247 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:08:41,247 INFO sqlalchemy.engine.Engine [cached since 0.002532s ago] ('appointments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:08:41,248 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:08:41,248 INFO sqlalchemy.engine.Engine [cached since 0.002763s ago] ('attachments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:08:41,248 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:08:41,248 INFO sqlalchemy.engine.Engine [cached since 0.002937s ago] ('prescriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:08:41,248 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:08:41,248 INFO sqlalchemy.engine.Engine [cached since 0.00311s ago] ('invoices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:08:41,248 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-12-23 16:08:42,250 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:08:42,259 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:08:42,259 INFO sqlalchemy.engine.Engine [generated in 0.00021s] ('admin',)
2025-12-23 16:08:42,577 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61104 - "POST /token HTTP/1.1" 401 Unauthorized
WARNING:  WatchFiles detected changes in 'test_api_create.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [27886]
INFO:     Started server process [28022]
INFO:     Waiting for application startup.
2025-12-23 16:08:53,898 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 16:08:53,898 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 16:08:53,899 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 16:08:53,899 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 16:08:53,899 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 16:08:53,899 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 16:08:53,900 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:08:53,901 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:08:53,901 INFO sqlalchemy.engine.Engine [generated in 0.00009s] ('tenants', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:08:53,903 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:08:53,903 INFO sqlalchemy.engine.Engine [cached since 0.001589s ago] ('tenant_settings', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:08:53,903 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:08:53,903 INFO sqlalchemy.engine.Engine [cached since 0.001859s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:08:53,903 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:08:53,903 INFO sqlalchemy.engine.Engine [cached since 0.002089s ago] ('patients', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:08:53,903 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:08:53,903 INFO sqlalchemy.engine.Engine [cached since 0.002305s ago] ('clinical_records', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:08:53,904 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:08:53,904 INFO sqlalchemy.engine.Engine [cached since 0.002512s ago] ('appointments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:08:53,904 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:08:53,904 INFO sqlalchemy.engine.Engine [cached since 0.002724s ago] ('attachments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:08:53,904 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:08:53,904 INFO sqlalchemy.engine.Engine [cached since 0.002886s ago] ('prescriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:08:53,904 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:08:53,904 INFO sqlalchemy.engine.Engine [cached since 0.003042s ago] ('invoices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:08:53,904 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'test_api_create.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [28022]
INFO:     Started server process [28154]
INFO:     Waiting for application startup.
2025-12-23 16:09:09,758 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 16:09:09,759 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 16:09:09,760 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 16:09:09,760 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 16:09:09,760 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 16:09:09,760 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 16:09:09,761 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:09:09,762 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:09:09,762 INFO sqlalchemy.engine.Engine [generated in 0.00009s] ('tenants', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:09:09,764 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:09:09,764 INFO sqlalchemy.engine.Engine [cached since 0.001633s ago] ('tenant_settings', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:09:09,764 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:09:09,764 INFO sqlalchemy.engine.Engine [cached since 0.001903s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:09:09,764 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:09:09,764 INFO sqlalchemy.engine.Engine [cached since 0.002128s ago] ('patients', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:09:09,765 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:09:09,765 INFO sqlalchemy.engine.Engine [cached since 0.00234s ago] ('clinical_records', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:09:09,765 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:09:09,765 INFO sqlalchemy.engine.Engine [cached since 0.002551s ago] ('appointments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:09:09,765 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:09:09,765 INFO sqlalchemy.engine.Engine [cached since 0.002816s ago] ('attachments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:09:09,765 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:09:09,765 INFO sqlalchemy.engine.Engine [cached since 0.003s ago] ('prescriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:09:09,765 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:09:09,765 INFO sqlalchemy.engine.Engine [cached since 0.003159s ago] ('invoices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:09:09,766 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-12-23 16:09:10,883 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:09:10,904 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:09:10,904 INFO sqlalchemy.engine.Engine [generated in 0.00027s] ('admin',)
2025-12-23 16:09:11,274 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61121 - "POST /token HTTP/1.1" 401 Unauthorized
WARNING:  WatchFiles detected changes in 'test_api_create.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [28154]
INFO:     Started server process [28291]
INFO:     Waiting for application startup.
2025-12-23 16:09:28,191 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 16:09:28,191 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 16:09:28,192 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 16:09:28,192 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 16:09:28,193 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 16:09:28,193 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 16:09:28,193 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:09:28,195 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:09:28,195 INFO sqlalchemy.engine.Engine [generated in 0.00009s] ('tenants', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:09:28,197 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:09:28,197 INFO sqlalchemy.engine.Engine [cached since 0.001713s ago] ('tenant_settings', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:09:28,197 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:09:28,197 INFO sqlalchemy.engine.Engine [cached since 0.001991s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:09:28,197 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:09:28,197 INFO sqlalchemy.engine.Engine [cached since 0.002233s ago] ('patients', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:09:28,197 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:09:28,197 INFO sqlalchemy.engine.Engine [cached since 0.002451s ago] ('clinical_records', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:09:28,198 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:09:28,198 INFO sqlalchemy.engine.Engine [cached since 0.002662s ago] ('appointments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:09:28,198 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:09:28,198 INFO sqlalchemy.engine.Engine [cached since 0.00288s ago] ('attachments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:09:28,198 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:09:28,198 INFO sqlalchemy.engine.Engine [cached since 0.003038s ago] ('prescriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:09:28,198 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:09:28,198 INFO sqlalchemy.engine.Engine [cached since 0.003194s ago] ('invoices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:09:28,198 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-12-23 16:09:29,698 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:09:29,708 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:09:29,708 INFO sqlalchemy.engine.Engine [generated in 0.00017s] ('apollo_admin',)
2025-12-23 16:09:30,031 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61133 - "POST /token HTTP/1.1" 401 Unauthorized
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [28291]
INFO:     Started server process [28449]
INFO:     Waiting for application startup.
2025-12-23 16:10:00,982 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 16:10:00,982 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 16:10:00,991 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 16:10:00,991 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 16:10:00,992 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 16:10:00,993 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-12-23 16:10:00,993 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:00,995 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:10:00,995 INFO sqlalchemy.engine.Engine [generated in 0.00011s] ('tenants', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:10:01,001 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:10:01,001 INFO sqlalchemy.engine.Engine [cached since 0.005957s ago] ('tenant_settings', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:10:01,002 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:10:01,002 INFO sqlalchemy.engine.Engine [cached since 0.006805s ago] ('users', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:10:01,003 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:10:01,004 INFO sqlalchemy.engine.Engine [cached since 0.009001s ago] ('patients', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:10:01,005 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:10:01,005 INFO sqlalchemy.engine.Engine [cached since 0.01014s ago] ('clinical_records', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:10:01,007 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:10:01,007 INFO sqlalchemy.engine.Engine [cached since 0.01213s ago] ('appointments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:10:01,024 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:10:01,024 INFO sqlalchemy.engine.Engine [cached since 0.02889s ago] ('attachments', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:10:01,024 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:10:01,024 INFO sqlalchemy.engine.Engine [cached since 0.0296s ago] ('prescriptions', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:10:01,025 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = $1::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[$2::VARCHAR, $3::VARCHAR, $4::VARCHAR, $5::VARCHAR, $6::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != $7::VARCHAR
2025-12-23 16:10:01,025 INFO sqlalchemy.engine.Engine [cached since 0.02982s ago] ('invoices', 'r', 'p', 'f', 'v', 'm', 'pg_catalog')
2025-12-23 16:10:01,025 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     127.0.0.1:61160 - "OPTIONS /users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:61161 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 16:10:34,360 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:34,369 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:34,370 INFO sqlalchemy.engine.Engine [generated in 0.00013s] ('apollo_admin',)
2025-12-23 16:10:34,392 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:10:34,393 INFO sqlalchemy.engine.Engine [generated in 0.00010s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:34,395 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:10:34,395 INFO sqlalchemy.engine.Engine [generated in 0.00008s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61160 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:10:34,398 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:34,508 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:34,508 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:34,508 INFO sqlalchemy.engine.Engine [cached since 0.1385s ago] ('apollo_admin',)
2025-12-23 16:10:34,510 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:10:34,510 INFO sqlalchemy.engine.Engine [cached since 0.1178s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:34,512 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:10:34,512 INFO sqlalchemy.engine.Engine [cached since 0.1172s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61160 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:10:34,517 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61160 - "OPTIONS /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:10:34,899 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:34,899 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:34,900 INFO sqlalchemy.engine.Engine [cached since 0.5302s ago] ('apollo_admin',)
2025-12-23 16:10:34,906 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:10:34,906 INFO sqlalchemy.engine.Engine [generated in 0.00026s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61161 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:10:34,911 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:35,973 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:35,974 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:35,974 INFO sqlalchemy.engine.Engine [cached since 1.605s ago] ('apollo_admin',)
2025-12-23 16:10:35,976 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:10:35,976 INFO sqlalchemy.engine.Engine [cached since 1.583s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:35,976 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:10:35,976 INFO sqlalchemy.engine.Engine [cached since 1.581s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61161 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:10:35,977 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:35,977 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:35,978 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:35,978 INFO sqlalchemy.engine.Engine [cached since 1.608s ago] ('apollo_admin',)
2025-12-23 16:10:35,978 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:10:35,978 INFO sqlalchemy.engine.Engine [cached since 1.586s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:35,980 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:10:35,980 INFO sqlalchemy.engine.Engine [cached since 1.585s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61161 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:10:35,981 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:36,293 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:36,293 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:36,293 INFO sqlalchemy.engine.Engine [cached since 1.924s ago] ('apollo_admin',)
2025-12-23 16:10:36,295 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:10:36,295 INFO sqlalchemy.engine.Engine [cached since 1.389s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61161 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:10:36,298 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61161 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:10:37,747 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:37,748 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:37,748 INFO sqlalchemy.engine.Engine [cached since 3.379s ago] ('apollo_admin',)
INFO:     127.0.0.1:61163 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:10:37,753 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:37,753 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:37,753 INFO sqlalchemy.engine.Engine [cached since 3.384s ago] ('apollo_admin',)
2025-12-23 16:10:37,757 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:10:37,757 INFO sqlalchemy.engine.Engine [cached since 3.364s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:37,758 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:10:37,758 INFO sqlalchemy.engine.Engine [cached since 3.365s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:37,759 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:10:37,759 INFO sqlalchemy.engine.Engine [cached since 3.364s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:37,763 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 16:10:37,763 INFO sqlalchemy.engine.Engine [generated in 0.00018s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61160 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:10:37,764 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:37,766 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:10:37,766 INFO sqlalchemy.engine.Engine [generated in 0.00017s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:37,768 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 16:10:37,768 INFO sqlalchemy.engine.Engine [generated in 0.00012s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:61161 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:10:37,771 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:37,771 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:37,772 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:37,772 INFO sqlalchemy.engine.Engine [cached since 3.402s ago] ('apollo_admin',)
2025-12-23 16:10:37,772 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:10:37,772 INFO sqlalchemy.engine.Engine [cached since 3.38s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:37,773 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 16:10:37,773 INFO sqlalchemy.engine.Engine [cached since 0.01064s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:37,774 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:10:37,774 INFO sqlalchemy.engine.Engine [cached since 0.008129s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:37,775 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 16:10:37,775 INFO sqlalchemy.engine.Engine [cached since 0.007144s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:61161 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:10:37,776 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:37,778 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:37,778 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:37,778 INFO sqlalchemy.engine.Engine [cached since 3.408s ago] ('apollo_admin',)
2025-12-23 16:10:37,778 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:10:37,778 INFO sqlalchemy.engine.Engine [cached since 3.386s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:37,779 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 16:10:37,779 INFO sqlalchemy.engine.Engine [cached since 0.01624s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:37,779 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:10:37,779 INFO sqlalchemy.engine.Engine [cached since 0.01298s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:37,780 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 16:10:37,780 INFO sqlalchemy.engine.Engine [cached since 0.01174s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:61161 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:10:37,780 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61161 - "OPTIONS /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:61160 - "OPTIONS /patients HTTP/1.1" 200 OK
INFO:     127.0.0.1:61163 - "OPTIONS /users HTTP/1.1" 200 OK
2025-12-23 16:10:38,770 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:38,770 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:38,770 INFO sqlalchemy.engine.Engine [cached since 4.401s ago] ('apollo_admin',)
INFO:     127.0.0.1:61161 - "OPTIONS /users HTTP/1.1" 200 OK
2025-12-23 16:10:38,773 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:38,773 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:38,773 INFO sqlalchemy.engine.Engine [cached since 4.404s ago] ('apollo_admin',)
INFO:     127.0.0.1:61170 - "OPTIONS /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:61171 - "OPTIONS /patients HTTP/1.1" 200 OK
2025-12-23 16:10:38,784 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:10:38,784 INFO sqlalchemy.engine.Engine [cached since 4.392s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:38,788 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT $2::INTEGER
2025-12-23 16:10:38,788 INFO sqlalchemy.engine.Engine [generated in 0.00013s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 200)
2025-12-23 16:10:38,788 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:10:38,788 INFO sqlalchemy.engine.Engine [cached since 4.393s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61167 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:10:38,790 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61160 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 16:10:38,791 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:38,793 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:38,793 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:38,793 INFO sqlalchemy.engine.Engine [cached since 4.423s ago] ('apollo_admin',)
2025-12-23 16:10:38,794 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT $2::INTEGER
2025-12-23 16:10:38,794 INFO sqlalchemy.engine.Engine [cached since 0.00625s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 200)
INFO:     127.0.0.1:61160 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 16:10:38,796 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:38,823 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:38,823 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:38,823 INFO sqlalchemy.engine.Engine [cached since 4.454s ago] ('apollo_admin',)
2025-12-23 16:10:38,824 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:38,824 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:38,824 INFO sqlalchemy.engine.Engine [cached since 4.455s ago] ('apollo_admin',)
2025-12-23 16:10:38,830 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:10:38,831 INFO sqlalchemy.engine.Engine [generated in 0.00036s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:38,832 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:10:38,832 INFO sqlalchemy.engine.Engine [cached since 3.926s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 100, 0)
INFO:     127.0.0.1:61170 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:10:38,834 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:38,835 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:38,836 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:38,836 INFO sqlalchemy.engine.Engine [cached since 4.466s ago] ('apollo_admin',)
INFO:     127.0.0.1:61163 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 16:10:38,837 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:38,838 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:10:38,838 INFO sqlalchemy.engine.Engine [cached since 0.007982s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:38,839 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:38,840 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:38,840 INFO sqlalchemy.engine.Engine [cached since 4.47s ago] ('apollo_admin',)
2025-12-23 16:10:38,840 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:10:38,840 INFO sqlalchemy.engine.Engine [cached since 3.934s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 100, 0)
INFO:     127.0.0.1:61170 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:10:38,841 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61160 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 16:10:38,843 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:39,596 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:39,596 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:39,596 INFO sqlalchemy.engine.Engine [cached since 5.227s ago] ('apollo_admin',)
2025-12-23 16:10:39,598 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:10:39,599 INFO sqlalchemy.engine.Engine [cached since 5.206s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:39,602 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:10:39,602 INFO sqlalchemy.engine.Engine [cached since 5.207s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61175 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:10:39,606 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:39,900 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:39,901 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:39,901 INFO sqlalchemy.engine.Engine [cached since 5.532s ago] ('apollo_admin',)
2025-12-23 16:10:39,904 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:10:39,904 INFO sqlalchemy.engine.Engine [cached since 4.998s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61175 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:10:39,907 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:40,452 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:40,452 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:40,452 INFO sqlalchemy.engine.Engine [cached since 6.083s ago] ('apollo_admin',)
2025-12-23 16:10:40,454 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:40,454 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:40,454 INFO sqlalchemy.engine.Engine [cached since 6.084s ago] ('apollo_admin',)
2025-12-23 16:10:40,455 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:40,455 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:40,455 INFO sqlalchemy.engine.Engine [cached since 6.086s ago] ('apollo_admin',)
2025-12-23 16:10:40,456 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT $2::INTEGER
2025-12-23 16:10:40,456 INFO sqlalchemy.engine.Engine [cached since 1.668s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 200)
2025-12-23 16:10:40,457 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:40,457 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:40,457 INFO sqlalchemy.engine.Engine [cached since 6.087s ago] ('apollo_admin',)
2025-12-23 16:10:40,458 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:10:40,458 INFO sqlalchemy.engine.Engine [cached since 5.552s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 100, 0)
2025-12-23 16:10:40,459 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:10:40,459 INFO sqlalchemy.engine.Engine [cached since 1.629s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61175 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 16:10:40,461 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:10:40,461 INFO sqlalchemy.engine.Engine [cached since 6.068s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:40,461 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61178 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 16:10:40,464 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61180 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:10:40,467 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:40,468 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:40,468 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:40,468 INFO sqlalchemy.engine.Engine [cached since 6.099s ago] ('apollo_admin',)
2025-12-23 16:10:40,470 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:10:40,470 INFO sqlalchemy.engine.Engine [cached since 6.075s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:40,471 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:10:40,471 INFO sqlalchemy.engine.Engine [cached since 5.565s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 100, 0)
INFO:     127.0.0.1:61178 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 16:10:40,473 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61181 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:10:40,474 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:40,517 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:40,517 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:40,517 INFO sqlalchemy.engine.Engine [cached since 6.148s ago] ('apollo_admin',)
2025-12-23 16:10:40,518 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:40,518 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:40,518 INFO sqlalchemy.engine.Engine [cached since 6.149s ago] ('apollo_admin',)
2025-12-23 16:10:40,522 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT $2::INTEGER
2025-12-23 16:10:40,522 INFO sqlalchemy.engine.Engine [cached since 1.734s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 200)
2025-12-23 16:10:40,523 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:10:40,523 INFO sqlalchemy.engine.Engine [cached since 1.693s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61180 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:10:40,525 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61175 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 16:10:40,526 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:42,859 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:42,860 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:42,860 INFO sqlalchemy.engine.Engine [cached since 8.491s ago] ('apollo_admin',)
2025-12-23 16:10:42,863 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:10:42,863 INFO sqlalchemy.engine.Engine [cached since 8.471s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:42,867 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:10:42,867 INFO sqlalchemy.engine.Engine [cached since 8.472s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61175 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:10:42,871 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:43,160 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:43,161 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:43,161 INFO sqlalchemy.engine.Engine [cached since 8.792s ago] ('apollo_admin',)
2025-12-23 16:10:43,164 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:10:43,164 INFO sqlalchemy.engine.Engine [cached since 8.258s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61175 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:10:43,170 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:44,447 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:44,447 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:44,448 INFO sqlalchemy.engine.Engine [cached since 10.08s ago] ('apollo_admin',)
2025-12-23 16:10:44,450 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:10:44,450 INFO sqlalchemy.engine.Engine [cached since 10.06s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:44,453 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:10:44,453 INFO sqlalchemy.engine.Engine [cached since 10.06s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61190 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:10:44,455 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:45,492 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:45,492 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:45,492 INFO sqlalchemy.engine.Engine [cached since 11.12s ago] ('apollo_admin',)
2025-12-23 16:10:45,494 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:45,494 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:45,494 INFO sqlalchemy.engine.Engine [cached since 11.12s ago] ('apollo_admin',)
2025-12-23 16:10:45,496 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:10:45,496 INFO sqlalchemy.engine.Engine [cached since 6.666s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:45,497 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:10:45,497 INFO sqlalchemy.engine.Engine [cached since 11.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61190 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:10:45,499 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:45,502 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:45,502 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:45,502 INFO sqlalchemy.engine.Engine [cached since 11.13s ago] ('apollo_admin',)
2025-12-23 16:10:45,503 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:10:45,504 INFO sqlalchemy.engine.Engine [cached since 11.11s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:45,505 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:10:45,505 INFO sqlalchemy.engine.Engine [cached since 6.675s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61192 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:10:45,506 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61190 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:10:45,508 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61190 - "OPTIONS /settings HTTP/1.1" 200 OK
2025-12-23 16:10:47,272 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:47,273 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:47,273 INFO sqlalchemy.engine.Engine [cached since 12.9s ago] ('apollo_admin',)
INFO:     127.0.0.1:61194 - "OPTIONS /settings HTTP/1.1" 200 OK
2025-12-23 16:10:47,276 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:47,277 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:47,277 INFO sqlalchemy.engine.Engine [cached since 12.91s ago] ('apollo_admin',)
2025-12-23 16:10:47,278 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:10:47,278 INFO sqlalchemy.engine.Engine [cached since 12.89s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:47,280 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:10:47,280 INFO sqlalchemy.engine.Engine [cached since 12.88s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:47,281 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:10:47,282 INFO sqlalchemy.engine.Engine [cached since 12.89s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61192 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:10:47,284 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61190 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 16:10:47,285 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:47,287 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:47,287 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:47,287 INFO sqlalchemy.engine.Engine [cached since 12.92s ago] ('apollo_admin',)
2025-12-23 16:10:47,289 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:10:47,289 INFO sqlalchemy.engine.Engine [cached since 12.89s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61190 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 16:10:47,290 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61198 - "GET /static/uploads/68923952-1085-4d0e-85bf-66bbbb8ad0c7_logo.svg HTTP/1.1" 304 Not Modified
2025-12-23 16:10:48,823 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:48,824 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:48,824 INFO sqlalchemy.engine.Engine [cached since 14.45s ago] ('apollo_admin',)
2025-12-23 16:10:48,825 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:48,825 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:48,825 INFO sqlalchemy.engine.Engine [cached since 14.46s ago] ('apollo_admin',)
2025-12-23 16:10:48,827 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:10:48,827 INFO sqlalchemy.engine.Engine [cached since 14.43s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:48,828 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:10:48,828 INFO sqlalchemy.engine.Engine [cached since 9.998s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:48,829 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:10:48,829 INFO sqlalchemy.engine.Engine [cached since 14.43s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61190 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:10:48,830 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61192 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:10:48,831 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:48,833 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:48,833 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:48,833 INFO sqlalchemy.engine.Engine [cached since 14.46s ago] ('apollo_admin',)
2025-12-23 16:10:48,835 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:10:48,835 INFO sqlalchemy.engine.Engine [cached since 10s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61190 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:10:48,837 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:50,335 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:50,336 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:50,336 INFO sqlalchemy.engine.Engine [cached since 15.97s ago] ('apollo_admin',)
2025-12-23 16:10:50,339 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:10:50,339 INFO sqlalchemy.engine.Engine [cached since 15.95s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:50,341 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:10:50,341 INFO sqlalchemy.engine.Engine [cached since 15.95s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61200 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:10:50,342 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:51,840 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:51,840 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:51,840 INFO sqlalchemy.engine.Engine [cached since 17.47s ago] ('apollo_admin',)
2025-12-23 16:10:51,843 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:10:51,843 INFO sqlalchemy.engine.Engine [cached since 17.45s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:51,845 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:10:51,845 INFO sqlalchemy.engine.Engine [cached since 17.45s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61200 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:10:51,847 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:52,143 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:52,144 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:52,144 INFO sqlalchemy.engine.Engine [cached since 17.77s ago] ('apollo_admin',)
2025-12-23 16:10:52,148 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:10:52,148 INFO sqlalchemy.engine.Engine [cached since 17.24s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61200 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:10:52,154 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61200 - "OPTIONS /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:10:53,505 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:53,506 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:53,506 INFO sqlalchemy.engine.Engine [cached since 19.14s ago] ('apollo_admin',)
2025-12-23 16:10:53,507 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:53,508 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:53,508 INFO sqlalchemy.engine.Engine [cached since 19.14s ago] ('apollo_admin',)
INFO:     127.0.0.1:61204 - "OPTIONS /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:10:53,509 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:10:53,510 INFO sqlalchemy.engine.Engine [cached since 19.12s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:53,511 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:10:53,511 INFO sqlalchemy.engine.Engine [cached since 19.12s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:53,513 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:10:53,513 INFO sqlalchemy.engine.Engine [cached since 19.12s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:53,520 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:10:53,521 INFO sqlalchemy.engine.Engine [generated in 0.00022s] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
INFO:     127.0.0.1:61203 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:10:53,521 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:53,525 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:10:53,525 INFO sqlalchemy.engine.Engine [generated in 0.00019s] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:10:53,528 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:10:53,528 INFO sqlalchemy.engine.Engine [generated in 0.00015s] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:10:53,531 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:10:53,531 INFO sqlalchemy.engine.Engine [generated in 0.00018s] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:61200 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:10:53,533 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:53,534 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:53,534 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:53,535 INFO sqlalchemy.engine.Engine [cached since 19.17s ago] ('apollo_admin',)
2025-12-23 16:10:53,536 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:10:53,536 INFO sqlalchemy.engine.Engine [cached since 19.14s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:53,536 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:10:53,536 INFO sqlalchemy.engine.Engine [cached since 0.01613s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:10:53,538 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:10:53,538 INFO sqlalchemy.engine.Engine [cached since 0.01298s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:10:53,540 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:10:53,540 INFO sqlalchemy.engine.Engine [cached since 0.01239s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:10:53,541 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:10:53,541 INFO sqlalchemy.engine.Engine [cached since 0.01029s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:61200 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:10:53,543 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:56,737 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:56,737 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:56,737 INFO sqlalchemy.engine.Engine [cached since 22.37s ago] ('apollo_admin',)
2025-12-23 16:10:56,738 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:10:56,738 INFO sqlalchemy.engine.Engine [cached since 22.35s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:56,738 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:10:56,738 INFO sqlalchemy.engine.Engine [cached since 22.34s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61215 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:10:56,739 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:56,740 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:56,741 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:56,741 INFO sqlalchemy.engine.Engine [cached since 22.37s ago] ('apollo_admin',)
2025-12-23 16:10:56,743 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:10:56,743 INFO sqlalchemy.engine.Engine [cached since 22.35s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:56,744 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:10:56,744 INFO sqlalchemy.engine.Engine [cached since 22.35s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61215 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:10:56,745 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:56,748 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:56,748 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:56,748 INFO sqlalchemy.engine.Engine [cached since 22.38s ago] ('apollo_admin',)
2025-12-23 16:10:56,748 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:10:56,748 INFO sqlalchemy.engine.Engine [cached since 22.36s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:56,749 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:10:56,749 INFO sqlalchemy.engine.Engine [cached since 3.229s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:10:56,750 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:10:56,750 INFO sqlalchemy.engine.Engine [cached since 3.226s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:10:56,752 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:10:56,752 INFO sqlalchemy.engine.Engine [cached since 3.224s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:10:56,753 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:10:56,753 INFO sqlalchemy.engine.Engine [cached since 3.222s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:61215 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:10:56,755 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:56,756 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:56,756 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:56,756 INFO sqlalchemy.engine.Engine [cached since 22.39s ago] ('apollo_admin',)
2025-12-23 16:10:56,756 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:10:56,756 INFO sqlalchemy.engine.Engine [cached since 22.36s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:56,757 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:10:56,757 INFO sqlalchemy.engine.Engine [cached since 3.237s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:10:56,758 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:10:56,758 INFO sqlalchemy.engine.Engine [cached since 3.233s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:10:56,758 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:10:56,758 INFO sqlalchemy.engine.Engine [cached since 3.23s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:10:56,759 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:10:56,759 INFO sqlalchemy.engine.Engine [cached since 3.228s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:61215 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:10:56,760 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:59,761 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:59,762 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:59,762 INFO sqlalchemy.engine.Engine [cached since 25.39s ago] ('apollo_admin',)
2025-12-23 16:10:59,763 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:10:59,763 INFO sqlalchemy.engine.Engine [cached since 25.37s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:59,764 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:10:59,764 INFO sqlalchemy.engine.Engine [cached since 25.37s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61224 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:10:59,765 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:10:59,766 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:10:59,766 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:10:59,766 INFO sqlalchemy.engine.Engine [cached since 25.4s ago] ('apollo_admin',)
2025-12-23 16:10:59,768 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:10:59,768 INFO sqlalchemy.engine.Engine [cached since 25.38s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:10:59,769 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:10:59,769 INFO sqlalchemy.engine.Engine [cached since 25.37s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61224 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:10:59,769 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:11:00,087 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:11:00,087 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:11:00,088 INFO sqlalchemy.engine.Engine [cached since 25.72s ago] ('apollo_admin',)
2025-12-23 16:11:00,091 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:11:00,091 INFO sqlalchemy.engine.Engine [cached since 25.18s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61224 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:11:00,094 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:11:03,169 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:11:03,170 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:11:03,170 INFO sqlalchemy.engine.Engine [cached since 28.8s ago] ('apollo_admin',)
2025-12-23 16:11:03,171 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:11:03,172 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:11:03,172 INFO sqlalchemy.engine.Engine [cached since 28.8s ago] ('apollo_admin',)
2025-12-23 16:11:03,173 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:11:03,173 INFO sqlalchemy.engine.Engine [cached since 28.78s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:11:03,174 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:11:03,174 INFO sqlalchemy.engine.Engine [cached since 28.78s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:11:03,174 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:11:03,175 INFO sqlalchemy.engine.Engine [cached since 9.654s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:11:03,175 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:11:03,175 INFO sqlalchemy.engine.Engine [cached since 28.78s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:11:03,176 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:11:03,176 INFO sqlalchemy.engine.Engine [cached since 9.651s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:61226 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:11:03,177 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:11:03,178 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:11:03,178 INFO sqlalchemy.engine.Engine [cached since 9.65s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:11:03,179 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:11:03,179 INFO sqlalchemy.engine.Engine [cached since 9.649s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:61224 - "GET /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:11:03,180 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:11:03,182 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:11:03,182 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:11:03,182 INFO sqlalchemy.engine.Engine [cached since 28.81s ago] ('apollo_admin',)
2025-12-23 16:11:03,183 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:11:03,183 INFO sqlalchemy.engine.Engine [cached since 28.79s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:11:03,184 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:11:03,184 INFO sqlalchemy.engine.Engine [cached since 9.664s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:11:03,185 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:11:03,185 INFO sqlalchemy.engine.Engine [cached since 9.66s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:11:03,186 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:11:03,186 INFO sqlalchemy.engine.Engine [cached since 9.658s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:11:03,187 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:11:03,187 INFO sqlalchemy.engine.Engine [cached since 9.656s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:61224 - "GET /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:11:03,188 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:12:36,246 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:12:36,248 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:12:36,248 INFO sqlalchemy.engine.Engine [cached since 121.9s ago] ('apollo_admin',)
2025-12-23 16:12:36,249 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:12:36,249 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:12:36,249 INFO sqlalchemy.engine.Engine [cached since 121.9s ago] ('apollo_admin',)
2025-12-23 16:12:36,257 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:12:36,257 INFO sqlalchemy.engine.Engine [cached since 121.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:12:36,257 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:12:36,257 INFO sqlalchemy.engine.Engine [cached since 121.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:12:36,262 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 16:12:36,263 INFO sqlalchemy.engine.Engine [cached since 118.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:12:36,263 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:12:36,263 INFO sqlalchemy.engine.Engine [cached since 121.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61248 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:12:36,265 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:12:36,270 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:12:36,270 INFO sqlalchemy.engine.Engine [cached since 118.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:12:36,271 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 16:12:36,271 INFO sqlalchemy.engine.Engine [cached since 118.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:61247 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:12:36,275 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:12:36,277 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:12:36,277 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:12:36,277 INFO sqlalchemy.engine.Engine [cached since 121.9s ago] ('apollo_admin',)
2025-12-23 16:12:36,278 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:12:36,278 INFO sqlalchemy.engine.Engine [cached since 121.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:12:36,279 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 16:12:36,279 INFO sqlalchemy.engine.Engine [cached since 118.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:12:36,281 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:12:36,281 INFO sqlalchemy.engine.Engine [cached since 118.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:12:36,281 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 16:12:36,281 INFO sqlalchemy.engine.Engine [cached since 118.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:61247 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:12:36,283 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:12:36,284 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:12:36,284 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:12:36,284 INFO sqlalchemy.engine.Engine [cached since 121.9s ago] ('apollo_admin',)
2025-12-23 16:12:36,285 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:12:36,285 INFO sqlalchemy.engine.Engine [cached since 121.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:12:36,286 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 16:12:36,286 INFO sqlalchemy.engine.Engine [cached since 118.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:12:36,287 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:12:36,287 INFO sqlalchemy.engine.Engine [cached since 118.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:12:36,288 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 16:12:36,288 INFO sqlalchemy.engine.Engine [cached since 118.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:61247 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:12:36,289 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:12:51,585 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:12:51,586 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:12:51,586 INFO sqlalchemy.engine.Engine [cached since 137.2s ago] ('dr_jhatka',)
INFO:     127.0.0.1:61252 - "POST /token HTTP/1.1" 200 OK
2025-12-23 16:12:51,852 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:12:51,895 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:12:51,895 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:12:51,895 INFO sqlalchemy.engine.Engine [cached since 137.5s ago] ('dr_jhatka',)
2025-12-23 16:12:51,896 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:12:51,896 INFO sqlalchemy.engine.Engine [cached since 137.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:12:51,897 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:12:51,897 INFO sqlalchemy.engine.Engine [cached since 137.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61252 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:12:51,898 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:12:51,898 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:12:51,899 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:12:51,899 INFO sqlalchemy.engine.Engine [cached since 137.5s ago] ('dr_jhatka',)
2025-12-23 16:12:51,899 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:12:51,899 INFO sqlalchemy.engine.Engine [cached since 137.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:12:51,900 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:12:51,900 INFO sqlalchemy.engine.Engine [cached since 137.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61252 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:12:51,900 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:12:51,904 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:12:51,904 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:12:51,904 INFO sqlalchemy.engine.Engine [cached since 137.5s ago] ('dr_jhatka',)
2025-12-23 16:12:51,905 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:12:51,905 INFO sqlalchemy.engine.Engine [cached since 137.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:12:51,905 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 16:12:51,905 INFO sqlalchemy.engine.Engine [cached since 134.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:12:51,906 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:12:51,906 INFO sqlalchemy.engine.Engine [cached since 134.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:12:51,906 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 16:12:51,906 INFO sqlalchemy.engine.Engine [cached since 134.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:61252 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:12:51,907 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:12:51,908 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:12:51,908 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:12:51,908 INFO sqlalchemy.engine.Engine [cached since 137.5s ago] ('dr_jhatka',)
2025-12-23 16:12:51,908 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:12:51,908 INFO sqlalchemy.engine.Engine [cached since 137.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:12:51,909 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 16:12:51,909 INFO sqlalchemy.engine.Engine [cached since 134.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:12:51,909 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:12:51,909 INFO sqlalchemy.engine.Engine [cached since 134.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:12:51,909 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 16:12:51,909 INFO sqlalchemy.engine.Engine [cached since 134.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:61252 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:12:51,910 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:12:51,911 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:12:51,912 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:12:51,912 INFO sqlalchemy.engine.Engine [cached since 137.5s ago] ('dr_jhatka',)
2025-12-23 16:12:51,913 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:12:51,913 INFO sqlalchemy.engine.Engine [cached since 137.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:12:51,913 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 16:12:51,913 INFO sqlalchemy.engine.Engine [cached since 134.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:12:51,914 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:12:51,914 INFO sqlalchemy.engine.Engine [cached since 134.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:12:51,915 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 16:12:51,915 INFO sqlalchemy.engine.Engine [cached since 134.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:61252 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:12:51,915 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:12:55,706 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:12:55,706 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:12:55,706 INFO sqlalchemy.engine.Engine [cached since 141.3s ago] ('dr_jhatka',)
2025-12-23 16:12:55,707 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:12:55,708 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:12:55,708 INFO sqlalchemy.engine.Engine [cached since 141.3s ago] ('dr_jhatka',)
2025-12-23 16:12:55,708 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:12:55,708 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:12:55,709 INFO sqlalchemy.engine.Engine [cached since 141.3s ago] ('dr_jhatka',)
2025-12-23 16:12:55,709 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:12:55,711 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:12:55,711 INFO sqlalchemy.engine.Engine [cached since 141.3s ago] ('dr_jhatka',)
2025-12-23 16:12:55,714 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT $2::INTEGER
2025-12-23 16:12:55,714 INFO sqlalchemy.engine.Engine [cached since 136.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 200)
2025-12-23 16:12:55,714 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:12:55,715 INFO sqlalchemy.engine.Engine [cached since 141.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:12:55,716 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:12:55,716 INFO sqlalchemy.engine.Engine [cached since 140.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 100, 0)
2025-12-23 16:12:55,717 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:12:55,717 INFO sqlalchemy.engine.Engine [cached since 136.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:12:55,718 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:12:55,718 INFO sqlalchemy.engine.Engine [cached since 141.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61262 - "GET /users HTTP/1.1" 200 OK
INFO:     127.0.0.1:61261 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 16:12:55,722 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:12:55,722 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61263 - "GET /users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:61259 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 16:12:55,724 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:12:55,724 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:12:55,725 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:12:55,725 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:12:55,725 INFO sqlalchemy.engine.Engine [cached since 141.4s ago] ('dr_jhatka',)
2025-12-23 16:12:55,739 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:12:55,739 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:12:55,739 INFO sqlalchemy.engine.Engine [cached since 141.4s ago] ('dr_jhatka',)
2025-12-23 16:12:55,741 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:12:55,741 INFO sqlalchemy.engine.Engine [cached since 136.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:12:55,741 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT $2::INTEGER
2025-12-23 16:12:55,741 INFO sqlalchemy.engine.Engine [cached since 137s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 200)
INFO:     127.0.0.1:61262 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:12:55,743 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61259 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 16:12:55,743 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:12:55,812 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:12:55,813 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:12:55,813 INFO sqlalchemy.engine.Engine [cached since 141.4s ago] ('dr_jhatka',)
2025-12-23 16:12:55,817 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:12:55,817 INFO sqlalchemy.engine.Engine [cached since 140.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 100, 0)
INFO:     127.0.0.1:61261 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 16:12:55,819 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:12:56,743 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:12:56,743 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:12:56,743 INFO sqlalchemy.engine.Engine [cached since 142.4s ago] ('dr_jhatka',)
2025-12-23 16:12:56,746 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:12:56,746 INFO sqlalchemy.engine.Engine [cached since 142.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:12:56,748 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:12:56,748 INFO sqlalchemy.engine.Engine [cached since 142.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61261 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:12:56,750 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:12:57,046 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:12:57,046 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:12:57,047 INFO sqlalchemy.engine.Engine [cached since 142.7s ago] ('dr_jhatka',)
2025-12-23 16:12:57,047 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:12:57,047 INFO sqlalchemy.engine.Engine [cached since 142.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61261 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:12:57,048 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:00,984 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:00,985 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:00,985 INFO sqlalchemy.engine.Engine [cached since 146.6s ago] ('dr_jhatka',)
2025-12-23 16:13:00,988 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:00,988 INFO sqlalchemy.engine.Engine [cached since 146.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:00,989 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:13:00,989 INFO sqlalchemy.engine.Engine [cached since 146.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61268 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:13:00,992 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:02,111 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:02,111 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:02,111 INFO sqlalchemy.engine.Engine [cached since 147.7s ago] ('dr_jhatka',)
2025-12-23 16:13:02,114 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:02,114 INFO sqlalchemy.engine.Engine [cached since 147.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:02,115 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:13:02,115 INFO sqlalchemy.engine.Engine [cached since 147.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61268 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:13:02,116 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:02,410 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:02,410 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:02,410 INFO sqlalchemy.engine.Engine [cached since 148s ago] ('dr_jhatka',)
2025-12-23 16:13:02,411 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:13:02,411 INFO sqlalchemy.engine.Engine [cached since 147.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61268 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:13:02,412 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:03,437 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:03,439 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:03,439 INFO sqlalchemy.engine.Engine [cached since 149.1s ago] ('dr_jhatka',)
2025-12-23 16:13:03,441 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:03,441 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:03,441 INFO sqlalchemy.engine.Engine [cached since 149.1s ago] ('dr_jhatka',)
2025-12-23 16:13:03,443 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:03,443 INFO sqlalchemy.engine.Engine [cached since 149s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:03,444 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:03,444 INFO sqlalchemy.engine.Engine [cached since 149.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:03,445 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:13:03,445 INFO sqlalchemy.engine.Engine [cached since 149s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:03,447 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:13:03,447 INFO sqlalchemy.engine.Engine [cached since 129.9s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
INFO:     127.0.0.1:61270 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:13:03,448 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:03,450 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:03,450 INFO sqlalchemy.engine.Engine [cached since 129.9s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:13:03,454 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:03,455 INFO sqlalchemy.engine.Engine [cached since 129.9s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:13:03,457 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:03,457 INFO sqlalchemy.engine.Engine [cached since 129.9s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:61268 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:13:03,459 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:03,461 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:03,461 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:03,461 INFO sqlalchemy.engine.Engine [cached since 149.1s ago] ('dr_jhatka',)
2025-12-23 16:13:03,463 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:03,463 INFO sqlalchemy.engine.Engine [cached since 149.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:03,464 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:13:03,464 INFO sqlalchemy.engine.Engine [cached since 129.9s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:13:03,466 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:03,466 INFO sqlalchemy.engine.Engine [cached since 129.9s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:13:03,468 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:03,468 INFO sqlalchemy.engine.Engine [cached since 129.9s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:13:03,470 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:03,470 INFO sqlalchemy.engine.Engine [cached since 129.9s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:61268 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:13:03,472 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:07,033 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:07,033 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:07,033 INFO sqlalchemy.engine.Engine [cached since 152.7s ago] ('dr_jhatka',)
2025-12-23 16:13:07,034 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:07,034 INFO sqlalchemy.engine.Engine [cached since 152.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:07,035 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:13:07,035 INFO sqlalchemy.engine.Engine [cached since 152.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61279 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:13:07,035 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:07,036 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:07,036 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:07,036 INFO sqlalchemy.engine.Engine [cached since 152.7s ago] ('dr_jhatka',)
2025-12-23 16:13:07,037 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:07,037 INFO sqlalchemy.engine.Engine [cached since 152.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:07,037 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:13:07,037 INFO sqlalchemy.engine.Engine [cached since 152.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61279 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:13:07,038 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:07,370 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:07,371 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:07,371 INFO sqlalchemy.engine.Engine [cached since 153s ago] ('dr_jhatka',)
2025-12-23 16:13:07,373 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:13:07,373 INFO sqlalchemy.engine.Engine [cached since 152.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61279 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:13:07,374 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:08,758 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:08,759 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:08,759 INFO sqlalchemy.engine.Engine [cached since 154.4s ago] ('dr_jhatka',)
2025-12-23 16:13:08,760 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:08,761 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:08,761 INFO sqlalchemy.engine.Engine [cached since 154.4s ago] ('dr_jhatka',)
2025-12-23 16:13:08,762 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:08,762 INFO sqlalchemy.engine.Engine [cached since 154.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:08,763 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:08,763 INFO sqlalchemy.engine.Engine [cached since 154.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:08,764 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:13:08,764 INFO sqlalchemy.engine.Engine [cached since 135.2s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:13:08,765 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:13:08,765 INFO sqlalchemy.engine.Engine [cached since 154.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61281 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:13:08,766 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:08,767 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:08,767 INFO sqlalchemy.engine.Engine [cached since 135.2s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:13:08,768 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:08,768 INFO sqlalchemy.engine.Engine [cached since 135.2s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:13:08,769 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:08,770 INFO sqlalchemy.engine.Engine [cached since 135.2s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:61279 - "GET /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:13:08,770 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:08,772 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:08,772 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:08,772 INFO sqlalchemy.engine.Engine [cached since 154.4s ago] ('dr_jhatka',)
2025-12-23 16:13:08,773 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:08,773 INFO sqlalchemy.engine.Engine [cached since 154.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:08,774 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:13:08,774 INFO sqlalchemy.engine.Engine [cached since 135.3s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:13:08,775 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:08,775 INFO sqlalchemy.engine.Engine [cached since 135.2s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:13:08,776 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:08,776 INFO sqlalchemy.engine.Engine [cached since 135.2s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:13:08,777 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:08,777 INFO sqlalchemy.engine.Engine [cached since 135.2s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:61279 - "GET /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:13:08,778 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:09,803 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:09,803 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:09,804 INFO sqlalchemy.engine.Engine [cached since 155.4s ago] ('dr_jhatka',)
2025-12-23 16:13:09,805 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:09,805 INFO sqlalchemy.engine.Engine [cached since 155.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:09,806 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:13:09,806 INFO sqlalchemy.engine.Engine [cached since 155.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61290 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:13:09,807 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:09,808 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:09,808 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:09,808 INFO sqlalchemy.engine.Engine [cached since 155.4s ago] ('dr_jhatka',)
2025-12-23 16:13:09,809 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:09,809 INFO sqlalchemy.engine.Engine [cached since 155.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:09,809 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:13:09,809 INFO sqlalchemy.engine.Engine [cached since 155.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61290 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:13:09,811 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:09,817 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:09,817 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:09,817 INFO sqlalchemy.engine.Engine [cached since 155.4s ago] ('dr_jhatka',)
2025-12-23 16:13:09,819 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:09,819 INFO sqlalchemy.engine.Engine [cached since 155.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:09,820 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:13:09,820 INFO sqlalchemy.engine.Engine [cached since 136.3s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:13:09,821 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:09,821 INFO sqlalchemy.engine.Engine [cached since 136.3s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:13:09,823 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:09,823 INFO sqlalchemy.engine.Engine [cached since 136.3s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:13:09,824 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:09,824 INFO sqlalchemy.engine.Engine [cached since 136.3s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:61290 - "GET /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:13:09,825 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:09,826 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:09,827 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:09,827 INFO sqlalchemy.engine.Engine [cached since 155.5s ago] ('dr_jhatka',)
2025-12-23 16:13:09,828 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:09,828 INFO sqlalchemy.engine.Engine [cached since 155.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:09,829 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:13:09,829 INFO sqlalchemy.engine.Engine [cached since 136.3s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:13:09,830 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:09,830 INFO sqlalchemy.engine.Engine [cached since 136.3s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:13:09,831 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:09,831 INFO sqlalchemy.engine.Engine [cached since 136.3s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:13:09,832 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:09,832 INFO sqlalchemy.engine.Engine [cached since 136.3s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:61290 - "GET /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:13:09,832 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:11,076 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:11,076 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:11,076 INFO sqlalchemy.engine.Engine [cached since 156.7s ago] ('dr_jhatka',)
2025-12-23 16:13:11,077 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:11,077 INFO sqlalchemy.engine.Engine [cached since 156.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:11,078 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:13:11,078 INFO sqlalchemy.engine.Engine [cached since 156.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61290 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:13:11,079 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:11,382 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:11,382 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:11,383 INFO sqlalchemy.engine.Engine [cached since 157s ago] ('dr_jhatka',)
2025-12-23 16:13:11,386 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:13:11,386 INFO sqlalchemy.engine.Engine [cached since 156.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61290 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:13:11,389 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:12,470 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:12,470 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:12,471 INFO sqlalchemy.engine.Engine [cached since 158.1s ago] ('dr_jhatka',)
2025-12-23 16:13:12,472 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:12,472 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:12,472 INFO sqlalchemy.engine.Engine [cached since 158.1s ago] ('dr_jhatka',)
2025-12-23 16:13:12,474 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:12,474 INFO sqlalchemy.engine.Engine [cached since 158.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:12,475 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:12,475 INFO sqlalchemy.engine.Engine [cached since 158.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:12,476 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:13:12,476 INFO sqlalchemy.engine.Engine [cached since 139s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:13:12,476 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:13:12,476 INFO sqlalchemy.engine.Engine [cached since 158.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:12,477 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:12,477 INFO sqlalchemy.engine.Engine [cached since 139s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4',)
INFO:     127.0.0.1:61292 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:13:12,478 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:12,479 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:12,479 INFO sqlalchemy.engine.Engine [cached since 138.9s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4',)
2025-12-23 16:13:12,480 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:12,480 INFO sqlalchemy.engine.Engine [cached since 138.9s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4',)
INFO:     127.0.0.1:61290 - "GET /patients/4d8fea29-851c-4146-82a5-9d4e4b68eea4/profile HTTP/1.1" 200 OK
2025-12-23 16:13:12,481 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:12,483 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:12,483 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:12,483 INFO sqlalchemy.engine.Engine [cached since 158.1s ago] ('dr_jhatka',)
2025-12-23 16:13:12,484 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:12,485 INFO sqlalchemy.engine.Engine [cached since 158.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:12,485 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:13:12,486 INFO sqlalchemy.engine.Engine [cached since 139s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:13:12,487 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:12,487 INFO sqlalchemy.engine.Engine [cached since 139s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4',)
2025-12-23 16:13:12,488 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:12,488 INFO sqlalchemy.engine.Engine [cached since 139s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4',)
2025-12-23 16:13:12,489 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:12,489 INFO sqlalchemy.engine.Engine [cached since 139s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4',)
INFO:     127.0.0.1:61290 - "GET /patients/4d8fea29-851c-4146-82a5-9d4e4b68eea4/profile HTTP/1.1" 200 OK
2025-12-23 16:13:12,490 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:13,968 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:13,968 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:13,968 INFO sqlalchemy.engine.Engine [cached since 159.6s ago] ('dr_jhatka',)
2025-12-23 16:13:13,970 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:13,970 INFO sqlalchemy.engine.Engine [cached since 159.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:13,971 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:13:13,971 INFO sqlalchemy.engine.Engine [cached since 159.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61290 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:13:13,972 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:13,972 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:13,972 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:13,973 INFO sqlalchemy.engine.Engine [cached since 159.6s ago] ('dr_jhatka',)
2025-12-23 16:13:13,973 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:13,973 INFO sqlalchemy.engine.Engine [cached since 159.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:13,974 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:13:13,974 INFO sqlalchemy.engine.Engine [cached since 159.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61290 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:13:13,975 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:13,981 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:13,981 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:13,981 INFO sqlalchemy.engine.Engine [cached since 159.6s ago] ('dr_jhatka',)
2025-12-23 16:13:13,982 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:13,982 INFO sqlalchemy.engine.Engine [cached since 159.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:13,983 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:13:13,984 INFO sqlalchemy.engine.Engine [cached since 140.5s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:13:13,985 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:13,985 INFO sqlalchemy.engine.Engine [cached since 140.5s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4',)
2025-12-23 16:13:13,986 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:13,986 INFO sqlalchemy.engine.Engine [cached since 140.5s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4',)
2025-12-23 16:13:13,988 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:13,988 INFO sqlalchemy.engine.Engine [cached since 140.5s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4',)
INFO:     127.0.0.1:61290 - "GET /patients/4d8fea29-851c-4146-82a5-9d4e4b68eea4/profile HTTP/1.1" 200 OK
2025-12-23 16:13:13,989 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:13,991 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:13,991 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:13,991 INFO sqlalchemy.engine.Engine [cached since 159.6s ago] ('dr_jhatka',)
2025-12-23 16:13:13,992 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:13,992 INFO sqlalchemy.engine.Engine [cached since 159.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:13,993 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:13:13,993 INFO sqlalchemy.engine.Engine [cached since 140.5s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:13:13,994 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:13,994 INFO sqlalchemy.engine.Engine [cached since 140.5s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4',)
2025-12-23 16:13:13,995 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:13,995 INFO sqlalchemy.engine.Engine [cached since 140.5s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4',)
2025-12-23 16:13:13,996 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:13,997 INFO sqlalchemy.engine.Engine [cached since 140.5s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4',)
INFO:     127.0.0.1:61290 - "GET /patients/4d8fea29-851c-4146-82a5-9d4e4b68eea4/profile HTTP/1.1" 200 OK
2025-12-23 16:13:14,008 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:18,933 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:18,934 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:18,934 INFO sqlalchemy.engine.Engine [cached since 164.6s ago] ('dr_jhatka',)
2025-12-23 16:13:18,936 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:18,936 INFO sqlalchemy.engine.Engine [cached since 164.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:18,936 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:13:18,936 INFO sqlalchemy.engine.Engine [cached since 164.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61305 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:13:18,937 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:18,938 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:18,938 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:18,938 INFO sqlalchemy.engine.Engine [cached since 164.6s ago] ('dr_jhatka',)
2025-12-23 16:13:18,939 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:18,939 INFO sqlalchemy.engine.Engine [cached since 164.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:18,939 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:13:18,939 INFO sqlalchemy.engine.Engine [cached since 164.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61305 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:13:18,940 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:18,950 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:18,951 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:18,951 INFO sqlalchemy.engine.Engine [cached since 164.6s ago] ('dr_jhatka',)
2025-12-23 16:13:18,954 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:18,954 INFO sqlalchemy.engine.Engine [cached since 164.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:18,956 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:13:18,956 INFO sqlalchemy.engine.Engine [cached since 145.4s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:13:18,958 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:18,958 INFO sqlalchemy.engine.Engine [cached since 145.4s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4',)
2025-12-23 16:13:18,958 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:18,958 INFO sqlalchemy.engine.Engine [cached since 145.4s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4',)
2025-12-23 16:13:18,959 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:18,959 INFO sqlalchemy.engine.Engine [cached since 145.4s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4',)
INFO:     127.0.0.1:61305 - "GET /patients/4d8fea29-851c-4146-82a5-9d4e4b68eea4/profile HTTP/1.1" 200 OK
2025-12-23 16:13:18,960 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:18,961 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:18,961 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:18,961 INFO sqlalchemy.engine.Engine [cached since 164.6s ago] ('dr_jhatka',)
2025-12-23 16:13:18,962 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:18,962 INFO sqlalchemy.engine.Engine [cached since 164.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:18,962 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:13:18,962 INFO sqlalchemy.engine.Engine [cached since 145.4s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:13:18,963 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:18,963 INFO sqlalchemy.engine.Engine [cached since 145.4s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4',)
2025-12-23 16:13:18,964 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:18,964 INFO sqlalchemy.engine.Engine [cached since 145.4s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4',)
2025-12-23 16:13:18,965 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:18,965 INFO sqlalchemy.engine.Engine [cached since 145.4s ago] ('4d8fea29-851c-4146-82a5-9d4e4b68eea4',)
INFO:     127.0.0.1:61305 - "GET /patients/4d8fea29-851c-4146-82a5-9d4e4b68eea4/profile HTTP/1.1" 200 OK
2025-12-23 16:13:18,966 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:20,963 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:20,964 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:20,964 INFO sqlalchemy.engine.Engine [cached since 166.6s ago] ('dr_jhatka',)
2025-12-23 16:13:20,970 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:20,970 INFO sqlalchemy.engine.Engine [cached since 166.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:20,973 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:13:20,973 INFO sqlalchemy.engine.Engine [cached since 166.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61319 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:13:20,975 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:20,976 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:20,977 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:20,977 INFO sqlalchemy.engine.Engine [cached since 166.6s ago] ('dr_jhatka',)
2025-12-23 16:13:20,978 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:20,979 INFO sqlalchemy.engine.Engine [cached since 166.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:20,980 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:13:20,981 INFO sqlalchemy.engine.Engine [cached since 166.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61319 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:13:20,982 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:21,290 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:21,291 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:21,291 INFO sqlalchemy.engine.Engine [cached since 166.9s ago] ('dr_jhatka',)
2025-12-23 16:13:21,293 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:13:21,293 INFO sqlalchemy.engine.Engine [cached since 166.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61319 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:13:21,295 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61319 - "OPTIONS /patients/ba1ab861-133a-46a8-b77b-bc614923e958/profile HTTP/1.1" 200 OK
2025-12-23 16:13:23,557 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:23,558 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:23,558 INFO sqlalchemy.engine.Engine [cached since 169.2s ago] ('dr_jhatka',)
2025-12-23 16:13:23,559 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:23,559 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:23,559 INFO sqlalchemy.engine.Engine [cached since 169.2s ago] ('dr_jhatka',)
INFO:     127.0.0.1:61323 - "OPTIONS /patients/ba1ab861-133a-46a8-b77b-bc614923e958/profile HTTP/1.1" 200 OK
2025-12-23 16:13:23,560 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:23,560 INFO sqlalchemy.engine.Engine [cached since 169.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:23,561 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:23,561 INFO sqlalchemy.engine.Engine [cached since 169.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:23,561 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:13:23,561 INFO sqlalchemy.engine.Engine [cached since 169.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:23,561 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:13:23,561 INFO sqlalchemy.engine.Engine [cached since 150s ago] ('ba1ab861-133a-46a8-b77b-bc614923e958', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
INFO:     127.0.0.1:61322 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:13:23,562 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:23,563 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:23,563 INFO sqlalchemy.engine.Engine [cached since 150s ago] ('ba1ab861-133a-46a8-b77b-bc614923e958',)
2025-12-23 16:13:23,563 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:23,563 INFO sqlalchemy.engine.Engine [cached since 150s ago] ('ba1ab861-133a-46a8-b77b-bc614923e958',)
2025-12-23 16:13:23,564 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:23,564 INFO sqlalchemy.engine.Engine [cached since 150s ago] ('ba1ab861-133a-46a8-b77b-bc614923e958',)
INFO:     127.0.0.1:61319 - "GET /patients/ba1ab861-133a-46a8-b77b-bc614923e958/profile HTTP/1.1" 200 OK
2025-12-23 16:13:23,564 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:23,565 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:23,565 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:23,565 INFO sqlalchemy.engine.Engine [cached since 169.2s ago] ('dr_jhatka',)
2025-12-23 16:13:23,566 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:23,566 INFO sqlalchemy.engine.Engine [cached since 169.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:23,566 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:13:23,566 INFO sqlalchemy.engine.Engine [cached since 150s ago] ('ba1ab861-133a-46a8-b77b-bc614923e958', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:13:23,567 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:23,567 INFO sqlalchemy.engine.Engine [cached since 150s ago] ('ba1ab861-133a-46a8-b77b-bc614923e958',)
2025-12-23 16:13:23,567 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:23,567 INFO sqlalchemy.engine.Engine [cached since 150s ago] ('ba1ab861-133a-46a8-b77b-bc614923e958',)
2025-12-23 16:13:23,568 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:23,568 INFO sqlalchemy.engine.Engine [cached since 150s ago] ('ba1ab861-133a-46a8-b77b-bc614923e958',)
INFO:     127.0.0.1:61319 - "GET /patients/ba1ab861-133a-46a8-b77b-bc614923e958/profile HTTP/1.1" 200 OK
2025-12-23 16:13:23,569 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:25,754 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:25,754 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:25,754 INFO sqlalchemy.engine.Engine [cached since 171.4s ago] ('dr_jhatka',)
2025-12-23 16:13:25,756 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:25,756 INFO sqlalchemy.engine.Engine [cached since 171.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:25,756 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:13:25,756 INFO sqlalchemy.engine.Engine [cached since 171.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61336 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:13:25,757 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:25,757 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:25,757 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:25,757 INFO sqlalchemy.engine.Engine [cached since 171.4s ago] ('dr_jhatka',)
2025-12-23 16:13:25,759 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:25,759 INFO sqlalchemy.engine.Engine [cached since 171.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:25,760 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:13:25,760 INFO sqlalchemy.engine.Engine [cached since 171.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61336 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:13:25,761 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:25,765 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:25,765 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:25,765 INFO sqlalchemy.engine.Engine [cached since 171.4s ago] ('dr_jhatka',)
2025-12-23 16:13:25,766 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:25,766 INFO sqlalchemy.engine.Engine [cached since 171.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:25,766 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:13:25,766 INFO sqlalchemy.engine.Engine [cached since 152.2s ago] ('ba1ab861-133a-46a8-b77b-bc614923e958', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:13:25,767 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:25,767 INFO sqlalchemy.engine.Engine [cached since 152.2s ago] ('ba1ab861-133a-46a8-b77b-bc614923e958',)
2025-12-23 16:13:25,768 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:25,768 INFO sqlalchemy.engine.Engine [cached since 152.2s ago] ('ba1ab861-133a-46a8-b77b-bc614923e958',)
2025-12-23 16:13:25,769 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:25,769 INFO sqlalchemy.engine.Engine [cached since 152.2s ago] ('ba1ab861-133a-46a8-b77b-bc614923e958',)
INFO:     127.0.0.1:61336 - "GET /patients/ba1ab861-133a-46a8-b77b-bc614923e958/profile HTTP/1.1" 200 OK
2025-12-23 16:13:25,770 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:25,771 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:25,771 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:25,771 INFO sqlalchemy.engine.Engine [cached since 171.4s ago] ('dr_jhatka',)
2025-12-23 16:13:25,771 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:25,771 INFO sqlalchemy.engine.Engine [cached since 171.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:25,772 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:13:25,772 INFO sqlalchemy.engine.Engine [cached since 152.3s ago] ('ba1ab861-133a-46a8-b77b-bc614923e958', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:13:25,773 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:25,773 INFO sqlalchemy.engine.Engine [cached since 152.2s ago] ('ba1ab861-133a-46a8-b77b-bc614923e958',)
2025-12-23 16:13:25,774 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:25,774 INFO sqlalchemy.engine.Engine [cached since 152.2s ago] ('ba1ab861-133a-46a8-b77b-bc614923e958',)
2025-12-23 16:13:25,774 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:25,774 INFO sqlalchemy.engine.Engine [cached since 152.2s ago] ('ba1ab861-133a-46a8-b77b-bc614923e958',)
INFO:     127.0.0.1:61336 - "GET /patients/ba1ab861-133a-46a8-b77b-bc614923e958/profile HTTP/1.1" 200 OK
2025-12-23 16:13:25,775 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:28,493 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:28,494 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:28,494 INFO sqlalchemy.engine.Engine [cached since 174.1s ago] ('dr_jhatka',)
2025-12-23 16:13:28,495 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:28,495 INFO sqlalchemy.engine.Engine [cached since 174.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:28,496 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:13:28,496 INFO sqlalchemy.engine.Engine [cached since 174.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61336 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:13:28,497 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:28,498 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:28,498 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:28,498 INFO sqlalchemy.engine.Engine [cached since 174.1s ago] ('dr_jhatka',)
2025-12-23 16:13:28,499 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:28,499 INFO sqlalchemy.engine.Engine [cached since 174.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:28,501 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:13:28,501 INFO sqlalchemy.engine.Engine [cached since 174.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61336 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:13:28,502 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:28,814 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:28,814 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:28,814 INFO sqlalchemy.engine.Engine [cached since 174.4s ago] ('dr_jhatka',)
2025-12-23 16:13:28,818 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:13:28,818 INFO sqlalchemy.engine.Engine [cached since 173.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61336 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:13:28,822 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61341 - "OPTIONS /patients/dc61ed42-0af2-404c-8c90-2ff40986d254/profile HTTP/1.1" 200 OK
2025-12-23 16:13:31,190 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:31,191 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:31,191 INFO sqlalchemy.engine.Engine [cached since 176.8s ago] ('dr_jhatka',)
2025-12-23 16:13:31,192 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:31,193 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:31,193 INFO sqlalchemy.engine.Engine [cached since 176.8s ago] ('dr_jhatka',)
INFO:     127.0.0.1:61343 - "OPTIONS /patients/dc61ed42-0af2-404c-8c90-2ff40986d254/profile HTTP/1.1" 200 OK
2025-12-23 16:13:31,196 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:31,196 INFO sqlalchemy.engine.Engine [cached since 176.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:31,197 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:31,197 INFO sqlalchemy.engine.Engine [cached since 176.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:31,198 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:13:31,199 INFO sqlalchemy.engine.Engine [cached since 157.7s ago] ('dc61ed42-0af2-404c-8c90-2ff40986d254', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:13:31,199 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:13:31,199 INFO sqlalchemy.engine.Engine [cached since 176.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:31,201 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:31,201 INFO sqlalchemy.engine.Engine [cached since 157.7s ago] ('dc61ed42-0af2-404c-8c90-2ff40986d254',)
INFO:     127.0.0.1:61342 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:13:31,202 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:31,203 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:31,203 INFO sqlalchemy.engine.Engine [cached since 157.7s ago] ('dc61ed42-0af2-404c-8c90-2ff40986d254',)
2025-12-23 16:13:31,204 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:31,204 INFO sqlalchemy.engine.Engine [cached since 157.7s ago] ('dc61ed42-0af2-404c-8c90-2ff40986d254',)
INFO:     127.0.0.1:61341 - "GET /patients/dc61ed42-0af2-404c-8c90-2ff40986d254/profile HTTP/1.1" 200 OK
2025-12-23 16:13:31,205 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:31,206 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:31,206 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:31,206 INFO sqlalchemy.engine.Engine [cached since 176.8s ago] ('dr_jhatka',)
2025-12-23 16:13:31,207 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:31,207 INFO sqlalchemy.engine.Engine [cached since 176.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:31,208 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:13:31,208 INFO sqlalchemy.engine.Engine [cached since 157.7s ago] ('dc61ed42-0af2-404c-8c90-2ff40986d254', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:13:31,209 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:31,209 INFO sqlalchemy.engine.Engine [cached since 157.7s ago] ('dc61ed42-0af2-404c-8c90-2ff40986d254',)
2025-12-23 16:13:31,210 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:31,210 INFO sqlalchemy.engine.Engine [cached since 157.7s ago] ('dc61ed42-0af2-404c-8c90-2ff40986d254',)
2025-12-23 16:13:31,211 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:31,211 INFO sqlalchemy.engine.Engine [cached since 157.7s ago] ('dc61ed42-0af2-404c-8c90-2ff40986d254',)
INFO:     127.0.0.1:61341 - "GET /patients/dc61ed42-0af2-404c-8c90-2ff40986d254/profile HTTP/1.1" 200 OK
2025-12-23 16:13:31,211 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:33,397 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:33,398 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:33,399 INFO sqlalchemy.engine.Engine [cached since 179s ago] ('dr_jhatka',)
2025-12-23 16:13:33,403 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:33,403 INFO sqlalchemy.engine.Engine [cached since 179s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:33,404 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:13:33,404 INFO sqlalchemy.engine.Engine [cached since 179s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61341 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:13:33,405 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:33,406 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:33,406 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:33,406 INFO sqlalchemy.engine.Engine [cached since 179s ago] ('dr_jhatka',)
2025-12-23 16:13:33,406 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:33,406 INFO sqlalchemy.engine.Engine [cached since 179s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:33,407 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:13:33,407 INFO sqlalchemy.engine.Engine [cached since 179s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61341 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:13:33,407 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:33,771 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:33,772 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:33,772 INFO sqlalchemy.engine.Engine [cached since 179.4s ago] ('dr_jhatka',)
2025-12-23 16:13:33,775 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:13:33,775 INFO sqlalchemy.engine.Engine [cached since 178.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61341 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:13:33,778 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61357 - "OPTIONS /patients/c63ef893-f9f6-44e9-b591-488e8595bb11/profile HTTP/1.1" 200 OK
2025-12-23 16:13:35,218 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:35,219 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:35,219 INFO sqlalchemy.engine.Engine [cached since 180.8s ago] ('dr_jhatka',)
2025-12-23 16:13:35,221 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:35,222 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:35,222 INFO sqlalchemy.engine.Engine [cached since 180.9s ago] ('dr_jhatka',)
INFO:     127.0.0.1:61359 - "OPTIONS /patients/c63ef893-f9f6-44e9-b591-488e8595bb11/profile HTTP/1.1" 200 OK
2025-12-23 16:13:35,228 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:35,228 INFO sqlalchemy.engine.Engine [cached since 180.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:35,229 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:35,229 INFO sqlalchemy.engine.Engine [cached since 180.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:35,230 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:13:35,230 INFO sqlalchemy.engine.Engine [cached since 161.7s ago] ('c63ef893-f9f6-44e9-b591-488e8595bb11', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:13:35,231 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:13:35,231 INFO sqlalchemy.engine.Engine [cached since 180.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:35,232 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:35,232 INFO sqlalchemy.engine.Engine [cached since 161.7s ago] ('c63ef893-f9f6-44e9-b591-488e8595bb11',)
INFO:     127.0.0.1:61358 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:13:35,232 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:35,233 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:35,233 INFO sqlalchemy.engine.Engine [cached since 161.7s ago] ('c63ef893-f9f6-44e9-b591-488e8595bb11',)
2025-12-23 16:13:35,234 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:35,234 INFO sqlalchemy.engine.Engine [cached since 161.7s ago] ('c63ef893-f9f6-44e9-b591-488e8595bb11',)
INFO:     127.0.0.1:61357 - "GET /patients/c63ef893-f9f6-44e9-b591-488e8595bb11/profile HTTP/1.1" 200 OK
2025-12-23 16:13:35,235 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:35,236 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:35,236 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:35,236 INFO sqlalchemy.engine.Engine [cached since 180.9s ago] ('dr_jhatka',)
2025-12-23 16:13:35,237 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:35,237 INFO sqlalchemy.engine.Engine [cached since 180.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:35,238 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:13:35,238 INFO sqlalchemy.engine.Engine [cached since 161.7s ago] ('c63ef893-f9f6-44e9-b591-488e8595bb11', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:13:35,239 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:35,239 INFO sqlalchemy.engine.Engine [cached since 161.7s ago] ('c63ef893-f9f6-44e9-b591-488e8595bb11',)
2025-12-23 16:13:35,240 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:35,240 INFO sqlalchemy.engine.Engine [cached since 161.7s ago] ('c63ef893-f9f6-44e9-b591-488e8595bb11',)
2025-12-23 16:13:35,241 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:13:35,241 INFO sqlalchemy.engine.Engine [cached since 161.7s ago] ('c63ef893-f9f6-44e9-b591-488e8595bb11',)
INFO:     127.0.0.1:61357 - "GET /patients/c63ef893-f9f6-44e9-b591-488e8595bb11/profile HTTP/1.1" 200 OK
2025-12-23 16:13:35,241 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:40,346 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:40,347 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:40,347 INFO sqlalchemy.engine.Engine [cached since 186s ago] ('dr_jhatka',)
2025-12-23 16:13:40,349 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:13:40,349 INFO sqlalchemy.engine.Engine [cached since 186s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:13:40,350 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:13:40,351 INFO sqlalchemy.engine.Engine [cached since 186s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61363 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:13:40,352 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:13:40,650 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:13:40,651 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:13:40,651 INFO sqlalchemy.engine.Engine [cached since 186.3s ago] ('dr_jhatka',)
2025-12-23 16:13:40,655 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:13:40,655 INFO sqlalchemy.engine.Engine [cached since 185.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61363 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:13:40,658 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:34,803 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:34,808 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:34,808 INFO sqlalchemy.engine.Engine [cached since 300.4s ago] ('dr_jhatka',)
2025-12-23 16:15:34,824 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:34,824 INFO sqlalchemy.engine.Engine [cached since 300.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:15:34,825 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:15:34,825 INFO sqlalchemy.engine.Engine [cached since 300.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61402 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:15:34,826 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:34,827 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:34,827 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:34,827 INFO sqlalchemy.engine.Engine [cached since 300.5s ago] ('dr_jhatka',)
2025-12-23 16:15:34,828 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:34,828 INFO sqlalchemy.engine.Engine [cached since 300.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:15:34,829 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:15:34,829 INFO sqlalchemy.engine.Engine [cached since 300.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61402 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:15:34,829 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:35,146 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:35,146 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:35,146 INFO sqlalchemy.engine.Engine [cached since 300.8s ago] ('dr_jhatka',)
2025-12-23 16:15:35,156 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:15:35,156 INFO sqlalchemy.engine.Engine [cached since 300.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61402 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:15:35,162 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:35,805 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:35,806 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:35,806 INFO sqlalchemy.engine.Engine [cached since 301.4s ago] ('dr_jhatka',)
2025-12-23 16:15:35,808 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:35,808 INFO sqlalchemy.engine.Engine [cached since 301.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:15:35,809 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:15:35,809 INFO sqlalchemy.engine.Engine [cached since 301.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61402 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:15:35,810 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:35,811 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:35,811 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:35,812 INFO sqlalchemy.engine.Engine [cached since 301.4s ago] ('dr_jhatka',)
2025-12-23 16:15:35,813 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:35,813 INFO sqlalchemy.engine.Engine [cached since 301.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:15:35,814 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:15:35,814 INFO sqlalchemy.engine.Engine [cached since 301.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61402 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:15:35,815 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:36,126 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:36,126 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:36,126 INFO sqlalchemy.engine.Engine [cached since 301.8s ago] ('dr_jhatka',)
2025-12-23 16:15:36,128 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:15:36,129 INFO sqlalchemy.engine.Engine [cached since 301.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61402 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:15:36,131 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61402 - "OPTIONS /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:15:37,425 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:37,426 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:37,426 INFO sqlalchemy.engine.Engine [cached since 303.1s ago] ('dr_jhatka',)
2025-12-23 16:15:37,427 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:37,427 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:37,427 INFO sqlalchemy.engine.Engine [cached since 303.1s ago] ('dr_jhatka',)
INFO:     127.0.0.1:61407 - "OPTIONS /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:15:37,428 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:37,428 INFO sqlalchemy.engine.Engine [cached since 303s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:15:37,429 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:37,429 INFO sqlalchemy.engine.Engine [cached since 303s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:15:37,430 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:15:37,430 INFO sqlalchemy.engine.Engine [cached since 303s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:15:37,431 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:15:37,431 INFO sqlalchemy.engine.Engine [cached since 283.9s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
INFO:     127.0.0.1:61406 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:15:37,432 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:37,434 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:15:37,434 INFO sqlalchemy.engine.Engine [cached since 283.9s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:15:37,436 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:15:37,436 INFO sqlalchemy.engine.Engine [cached since 283.9s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:15:37,438 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:15:37,438 INFO sqlalchemy.engine.Engine [cached since 283.9s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:61402 - "GET /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:15:37,439 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:37,440 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:37,440 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:37,440 INFO sqlalchemy.engine.Engine [cached since 303.1s ago] ('dr_jhatka',)
2025-12-23 16:15:37,441 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:37,441 INFO sqlalchemy.engine.Engine [cached since 303s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:15:37,442 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:15:37,442 INFO sqlalchemy.engine.Engine [cached since 283.9s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:15:37,443 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:15:37,443 INFO sqlalchemy.engine.Engine [cached since 283.9s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:15:37,445 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:15:37,445 INFO sqlalchemy.engine.Engine [cached since 283.9s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:15:37,446 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:15:37,446 INFO sqlalchemy.engine.Engine [cached since 283.9s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:61402 - "GET /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:15:37,447 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:38,407 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:38,408 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:38,408 INFO sqlalchemy.engine.Engine [cached since 304s ago] ('dr_jhatka',)
2025-12-23 16:15:38,415 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:38,415 INFO sqlalchemy.engine.Engine [cached since 304s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:15:38,416 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:15:38,417 INFO sqlalchemy.engine.Engine [cached since 304s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61402 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:15:38,418 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:38,420 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:38,420 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:38,420 INFO sqlalchemy.engine.Engine [cached since 304s ago] ('dr_jhatka',)
2025-12-23 16:15:38,425 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:38,425 INFO sqlalchemy.engine.Engine [cached since 304s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:15:38,425 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:15:38,425 INFO sqlalchemy.engine.Engine [cached since 304s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61402 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:15:38,426 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:38,434 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:38,434 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:38,434 INFO sqlalchemy.engine.Engine [cached since 304.1s ago] ('dr_jhatka',)
2025-12-23 16:15:38,436 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:38,436 INFO sqlalchemy.engine.Engine [cached since 304s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:15:38,438 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:15:38,438 INFO sqlalchemy.engine.Engine [cached since 284.9s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:15:38,441 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:15:38,441 INFO sqlalchemy.engine.Engine [cached since 284.9s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:15:38,442 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:15:38,442 INFO sqlalchemy.engine.Engine [cached since 284.9s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:15:38,442 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:15:38,442 INFO sqlalchemy.engine.Engine [cached since 284.9s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:61402 - "GET /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:15:38,443 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:38,443 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:38,443 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:38,443 INFO sqlalchemy.engine.Engine [cached since 304.1s ago] ('dr_jhatka',)
2025-12-23 16:15:38,444 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:38,444 INFO sqlalchemy.engine.Engine [cached since 304.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:15:38,445 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:15:38,445 INFO sqlalchemy.engine.Engine [cached since 284.9s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:15:38,445 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:15:38,445 INFO sqlalchemy.engine.Engine [cached since 284.9s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:15:38,446 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:15:38,446 INFO sqlalchemy.engine.Engine [cached since 284.9s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:15:38,446 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:15:38,446 INFO sqlalchemy.engine.Engine [cached since 284.9s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:61402 - "GET /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:15:38,447 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:39,069 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:39,070 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:39,070 INFO sqlalchemy.engine.Engine [cached since 304.7s ago] ('dr_jhatka',)
2025-12-23 16:15:39,072 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:39,073 INFO sqlalchemy.engine.Engine [cached since 304.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:15:39,074 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:15:39,074 INFO sqlalchemy.engine.Engine [cached since 304.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61402 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:15:39,076 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:39,373 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:39,373 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:39,373 INFO sqlalchemy.engine.Engine [cached since 305s ago] ('dr_jhatka',)
2025-12-23 16:15:39,375 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:15:39,376 INFO sqlalchemy.engine.Engine [cached since 304.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61402 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:15:39,378 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:40,320 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:40,320 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:40,320 INFO sqlalchemy.engine.Engine [cached since 305.9s ago] ('dr_jhatka',)
2025-12-23 16:15:40,323 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:40,323 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:40,323 INFO sqlalchemy.engine.Engine [cached since 306s ago] ('dr_jhatka',)
2025-12-23 16:15:40,325 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:40,325 INFO sqlalchemy.engine.Engine [cached since 305.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:15:40,326 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:40,326 INFO sqlalchemy.engine.Engine [cached since 305.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:15:40,327 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:15:40,327 INFO sqlalchemy.engine.Engine [cached since 305.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:15:40,328 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:15:40,328 INFO sqlalchemy.engine.Engine [cached since 286.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
INFO:     127.0.0.1:61406 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:15:40,329 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:40,331 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:15:40,331 INFO sqlalchemy.engine.Engine [cached since 286.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:15:40,333 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:15:40,333 INFO sqlalchemy.engine.Engine [cached since 286.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:15:40,334 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:15:40,334 INFO sqlalchemy.engine.Engine [cached since 286.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:61402 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:15:40,336 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:40,337 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:40,337 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:40,337 INFO sqlalchemy.engine.Engine [cached since 306s ago] ('dr_jhatka',)
2025-12-23 16:15:40,339 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:40,339 INFO sqlalchemy.engine.Engine [cached since 305.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:15:40,340 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:15:40,340 INFO sqlalchemy.engine.Engine [cached since 286.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:15:40,341 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:15:40,341 INFO sqlalchemy.engine.Engine [cached since 286.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:15:40,342 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:15:40,342 INFO sqlalchemy.engine.Engine [cached since 286.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:15:40,343 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:15:40,343 INFO sqlalchemy.engine.Engine [cached since 286.8s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:61402 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:15:40,344 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:41,658 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:41,659 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:41,659 INFO sqlalchemy.engine.Engine [cached since 307.3s ago] ('dr_jhatka',)
2025-12-23 16:15:41,660 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:41,660 INFO sqlalchemy.engine.Engine [cached since 307.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:15:41,661 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:15:41,661 INFO sqlalchemy.engine.Engine [cached since 307.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61402 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:15:41,661 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:41,662 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:41,662 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:41,663 INFO sqlalchemy.engine.Engine [cached since 307.3s ago] ('dr_jhatka',)
2025-12-23 16:15:41,663 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:41,663 INFO sqlalchemy.engine.Engine [cached since 307.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:15:41,664 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:15:41,664 INFO sqlalchemy.engine.Engine [cached since 307.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61402 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:15:41,664 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:41,669 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:41,669 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:41,669 INFO sqlalchemy.engine.Engine [cached since 307.3s ago] ('dr_jhatka',)
2025-12-23 16:15:41,671 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:41,671 INFO sqlalchemy.engine.Engine [cached since 307.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:15:41,671 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:15:41,671 INFO sqlalchemy.engine.Engine [cached since 288.1s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:15:41,672 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:15:41,673 INFO sqlalchemy.engine.Engine [cached since 288.1s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:15:41,674 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:15:41,674 INFO sqlalchemy.engine.Engine [cached since 288.1s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:15:41,674 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:15:41,674 INFO sqlalchemy.engine.Engine [cached since 288.1s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:61402 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:15:41,676 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:41,677 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:41,677 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:41,677 INFO sqlalchemy.engine.Engine [cached since 307.3s ago] ('dr_jhatka',)
2025-12-23 16:15:41,679 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:41,679 INFO sqlalchemy.engine.Engine [cached since 307.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:15:41,680 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:15:41,680 INFO sqlalchemy.engine.Engine [cached since 288.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:15:41,682 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:15:41,682 INFO sqlalchemy.engine.Engine [cached since 288.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:15:41,685 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:15:41,685 INFO sqlalchemy.engine.Engine [cached since 288.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:15:41,686 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:15:41,686 INFO sqlalchemy.engine.Engine [cached since 288.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:61402 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:15:41,687 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:43,421 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:43,422 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:43,422 INFO sqlalchemy.engine.Engine [cached since 309.1s ago] ('dr_jhatka',)
2025-12-23 16:15:43,424 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:43,424 INFO sqlalchemy.engine.Engine [cached since 309s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:15:43,424 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:15:43,425 INFO sqlalchemy.engine.Engine [cached since 309s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61402 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:15:43,426 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:43,426 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:43,427 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:43,427 INFO sqlalchemy.engine.Engine [cached since 309.1s ago] ('dr_jhatka',)
2025-12-23 16:15:43,427 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:43,427 INFO sqlalchemy.engine.Engine [cached since 309s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:15:43,428 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:15:43,428 INFO sqlalchemy.engine.Engine [cached since 309s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61402 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:15:43,429 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:43,739 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:43,740 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:43,740 INFO sqlalchemy.engine.Engine [cached since 309.4s ago] ('dr_jhatka',)
2025-12-23 16:15:43,742 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:15:43,742 INFO sqlalchemy.engine.Engine [cached since 308.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61402 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:15:43,744 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:45,286 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:45,287 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:45,287 INFO sqlalchemy.engine.Engine [cached since 310.9s ago] ('dr_jhatka',)
2025-12-23 16:15:45,288 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:45,289 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:45,289 INFO sqlalchemy.engine.Engine [cached since 310.9s ago] ('dr_jhatka',)
2025-12-23 16:15:45,290 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:45,290 INFO sqlalchemy.engine.Engine [cached since 310.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:15:45,291 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:45,291 INFO sqlalchemy.engine.Engine [cached since 310.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:15:45,292 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:15:45,292 INFO sqlalchemy.engine.Engine [cached since 291.8s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:15:45,292 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:15:45,292 INFO sqlalchemy.engine.Engine [cached since 310.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:15:45,293 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:15:45,294 INFO sqlalchemy.engine.Engine [cached since 291.8s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:61406 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:15:45,294 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:45,295 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:15:45,296 INFO sqlalchemy.engine.Engine [cached since 291.8s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:15:45,297 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:15:45,297 INFO sqlalchemy.engine.Engine [cached since 291.8s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:61402 - "GET /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:15:45,298 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:45,299 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:45,300 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:45,300 INFO sqlalchemy.engine.Engine [cached since 310.9s ago] ('dr_jhatka',)
2025-12-23 16:15:45,301 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:45,301 INFO sqlalchemy.engine.Engine [cached since 310.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:15:45,302 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:15:45,302 INFO sqlalchemy.engine.Engine [cached since 291.8s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:15:45,303 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:15:45,303 INFO sqlalchemy.engine.Engine [cached since 291.8s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:15:45,304 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:15:45,304 INFO sqlalchemy.engine.Engine [cached since 291.8s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:15:45,304 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:15:45,304 INFO sqlalchemy.engine.Engine [cached since 291.8s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:61402 - "GET /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:15:45,305 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:50,721 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:50,721 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:50,721 INFO sqlalchemy.engine.Engine [cached since 316.4s ago] ('dr_jhatka',)
2025-12-23 16:15:50,723 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:50,723 INFO sqlalchemy.engine.Engine [cached since 316.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:15:50,723 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:15:50,723 INFO sqlalchemy.engine.Engine [cached since 316.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61409 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:15:50,724 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:51,026 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:51,026 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:51,027 INFO sqlalchemy.engine.Engine [cached since 316.7s ago] ('dr_jhatka',)
2025-12-23 16:15:51,029 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:15:51,029 INFO sqlalchemy.engine.Engine [cached since 316.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61409 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:15:51,033 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:57,852 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:57,853 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:57,853 INFO sqlalchemy.engine.Engine [cached since 323.5s ago] ('admin',)
INFO:     127.0.0.1:61418 - "POST /token HTTP/1.1" 200 OK
2025-12-23 16:15:58,102 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:58,122 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:58,122 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:58,122 INFO sqlalchemy.engine.Engine [cached since 323.8s ago] ('admin',)
2025-12-23 16:15:58,123 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:58,123 INFO sqlalchemy.engine.Engine [cached since 323.7s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:15:58,123 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:15:58,123 INFO sqlalchemy.engine.Engine [cached since 323.7s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:61418 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:15:58,124 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:58,125 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:58,125 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:58,125 INFO sqlalchemy.engine.Engine [cached since 323.8s ago] ('admin',)
2025-12-23 16:15:58,125 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:58,125 INFO sqlalchemy.engine.Engine [cached since 323.7s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:15:58,126 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:15:58,126 INFO sqlalchemy.engine.Engine [cached since 323.7s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:61418 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:15:58,126 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:58,143 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:58,143 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:58,144 INFO sqlalchemy.engine.Engine [cached since 323.8s ago] ('admin',)
INFO:     127.0.0.1:61420 - "OPTIONS /tenants HTTP/1.1" 200 OK
INFO:     127.0.0.1:61422 - "OPTIONS /tenants HTTP/1.1" 200 OK
2025-12-23 16:15:58,146 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:58,146 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:58,146 INFO sqlalchemy.engine.Engine [cached since 323.8s ago] ('admin',)
2025-12-23 16:15:58,147 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:58,147 INFO sqlalchemy.engine.Engine [cached since 323.8s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:15:58,152 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 16:15:58,152 INFO sqlalchemy.engine.Engine [generated in 0.00007s] ()
2025-12-23 16:15:58,153 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:58,153 INFO sqlalchemy.engine.Engine [cached since 323.8s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:15:58,154 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:15:58,154 INFO sqlalchemy.engine.Engine [generated in 0.00005s] ()
2025-12-23 16:15:58,158 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 16:15:58,158 INFO sqlalchemy.engine.Engine [generated in 0.00006s] ()
2025-12-23 16:15:58,159 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:15:58,159 INFO sqlalchemy.engine.Engine [generated in 0.00008s] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 16:15:58,160 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> $1::JSONB AND tenants.is_super_admin = false
2025-12-23 16:15:58,160 INFO sqlalchemy.engine.Engine [generated in 0.00005s] ('["admin"]',)
2025-12-23 16:15:58,161 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:15:58,161 INFO sqlalchemy.engine.Engine [cached since 0.002136s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:61420 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:15:58,161 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:58,162 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:58,162 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:58,162 INFO sqlalchemy.engine.Engine [cached since 323.8s ago] ('admin',)
2025-12-23 16:15:58,163 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:58,163 INFO sqlalchemy.engine.Engine [cached since 323.8s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:15:58,163 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:15:58,163 INFO sqlalchemy.engine.Engine [cached since 0.009233s ago] ()
2025-12-23 16:15:58,164 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:15:58,164 INFO sqlalchemy.engine.Engine [cached since 0.005144s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 16:15:58,164 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 16:15:58,164 INFO sqlalchemy.engine.Engine [generated in 0.00005s] ()
INFO:     127.0.0.1:61418 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:15:58,165 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:58,165 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:58,166 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:58,166 INFO sqlalchemy.engine.Engine [cached since 323.8s ago] ('admin',)
2025-12-23 16:15:58,166 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:15:58,166 INFO sqlalchemy.engine.Engine [cached since 0.007231s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:61420 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:15:58,166 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:58,167 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:58,167 INFO sqlalchemy.engine.Engine [cached since 323.8s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:15:58,167 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:58,167 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:58,167 INFO sqlalchemy.engine.Engine [cached since 323.8s ago] ('admin',)
2025-12-23 16:15:58,167 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 16:15:58,167 INFO sqlalchemy.engine.Engine [cached since 0.0155s ago] ()
2025-12-23 16:15:58,168 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:58,168 INFO sqlalchemy.engine.Engine [cached since 323.8s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:15:58,168 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:15:58,168 INFO sqlalchemy.engine.Engine [cached since 0.01425s ago] ()
2025-12-23 16:15:58,168 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 16:15:58,168 INFO sqlalchemy.engine.Engine [cached since 0.01056s ago] ()
2025-12-23 16:15:58,169 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> $1::JSONB AND tenants.is_super_admin = false
2025-12-23 16:15:58,169 INFO sqlalchemy.engine.Engine [cached since 0.009894s ago] ('["admin"]',)
2025-12-23 16:15:58,170 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:15:58,170 INFO sqlalchemy.engine.Engine [cached since 0.01144s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 16:15:58,170 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 16:15:58,170 INFO sqlalchemy.engine.Engine [cached since 0.006137s ago] ()
2025-12-23 16:15:58,171 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:15:58,171 INFO sqlalchemy.engine.Engine [cached since 0.01208s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:61418 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:15:58,171 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61420 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:15:58,172 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:15:58,172 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:15:58,172 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:15:58,172 INFO sqlalchemy.engine.Engine [cached since 323.8s ago] ('admin',)
2025-12-23 16:15:58,173 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:15:58,173 INFO sqlalchemy.engine.Engine [cached since 323.8s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:15:58,173 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 16:15:58,173 INFO sqlalchemy.engine.Engine [cached since 0.02158s ago] ()
2025-12-23 16:15:58,174 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 16:15:58,174 INFO sqlalchemy.engine.Engine [cached since 0.01593s ago] ()
2025-12-23 16:15:58,174 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> $1::JSONB AND tenants.is_super_admin = false
2025-12-23 16:15:58,174 INFO sqlalchemy.engine.Engine [cached since 0.01482s ago] ('["admin"]',)
2025-12-23 16:15:58,175 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 16:15:58,175 INFO sqlalchemy.engine.Engine [cached since 0.01117s ago] ()
INFO:     127.0.0.1:61418 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:15:58,176 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:16:00,553 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:00,553 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:00,553 INFO sqlalchemy.engine.Engine [cached since 326.2s ago] ('admin',)
2025-12-23 16:16:00,554 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:00,554 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:00,554 INFO sqlalchemy.engine.Engine [cached since 326.2s ago] ('admin',)
2025-12-23 16:16:00,555 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:16:00,555 INFO sqlalchemy.engine.Engine [cached since 326.2s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:16:00,556 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:16:00,556 INFO sqlalchemy.engine.Engine [cached since 326.2s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:16:00,556 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:16:00,556 INFO sqlalchemy.engine.Engine [cached since 326.2s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:16:00,557 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:16:00,557 INFO sqlalchemy.engine.Engine [cached since 2.403s ago] ()
INFO:     127.0.0.1:61420 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:16:00,558 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:16:00,560 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:16:00,560 INFO sqlalchemy.engine.Engine [cached since 2.401s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 16:16:00,561 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:16:00,561 INFO sqlalchemy.engine.Engine [cached since 2.402s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:61418 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:16:00,562 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:16:00,563 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:00,563 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:00,563 INFO sqlalchemy.engine.Engine [cached since 326.2s ago] ('admin',)
2025-12-23 16:16:00,564 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:16:00,564 INFO sqlalchemy.engine.Engine [cached since 326.2s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:16:00,565 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:16:00,565 INFO sqlalchemy.engine.Engine [cached since 2.411s ago] ()
2025-12-23 16:16:00,566 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:16:00,566 INFO sqlalchemy.engine.Engine [cached since 2.408s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 16:16:00,567 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:16:00,567 INFO sqlalchemy.engine.Engine [cached since 2.409s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:61418 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:16:00,569 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:16:01,639 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:01,639 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:01,639 INFO sqlalchemy.engine.Engine [cached since 327.3s ago] ('admin',)
2025-12-23 16:16:01,641 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:01,641 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:01,641 INFO sqlalchemy.engine.Engine [cached since 327.3s ago] ('admin',)
2025-12-23 16:16:01,642 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:01,642 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:01,642 INFO sqlalchemy.engine.Engine [cached since 327.3s ago] ('admin',)
2025-12-23 16:16:01,643 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:16:01,643 INFO sqlalchemy.engine.Engine [cached since 322.8s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:16:01,644 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:16:01,644 INFO sqlalchemy.engine.Engine [cached since 327.2s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:16:01,645 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:16:01,645 INFO sqlalchemy.engine.Engine [cached since 327.3s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:61418 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:16:01,646 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:16:01,647 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:16:01,647 INFO sqlalchemy.engine.Engine [cached since 327.3s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:61420 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 16:16:01,648 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:16:01,649 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:01,649 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:01,649 INFO sqlalchemy.engine.Engine [cached since 327.3s ago] ('admin',)
INFO:     127.0.0.1:61422 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:16:01,651 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:01,651 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:01,651 INFO sqlalchemy.engine.Engine [cached since 327.3s ago] ('admin',)
2025-12-23 16:16:01,652 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:16:01,655 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:16:01,655 INFO sqlalchemy.engine.Engine [cached since 322.8s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:16:01,656 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:16:01,656 INFO sqlalchemy.engine.Engine [cached since 327.3s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:61418 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:16:01,657 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61420 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 16:16:01,658 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:16:03,883 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:03,883 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:03,884 INFO sqlalchemy.engine.Engine [cached since 329.5s ago] ('admin',)
2025-12-23 16:16:03,885 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:03,885 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:03,885 INFO sqlalchemy.engine.Engine [cached since 329.5s ago] ('admin',)
2025-12-23 16:16:03,887 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:16:03,887 INFO sqlalchemy.engine.Engine [cached since 329.5s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:16:03,888 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:16:03,888 INFO sqlalchemy.engine.Engine [cached since 329.5s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:16:03,889 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:16:03,889 INFO sqlalchemy.engine.Engine [cached since 329.5s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:16:03,890 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:16:03,890 INFO sqlalchemy.engine.Engine [cached since 5.736s ago] ()
INFO:     127.0.0.1:61418 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:16:03,891 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:16:03,891 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:16:03,891 INFO sqlalchemy.engine.Engine [cached since 5.733s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 16:16:03,892 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:16:03,892 INFO sqlalchemy.engine.Engine [cached since 5.733s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:61420 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:16:03,893 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:16:03,894 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:03,894 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:03,894 INFO sqlalchemy.engine.Engine [cached since 329.5s ago] ('admin',)
2025-12-23 16:16:03,895 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:16:03,895 INFO sqlalchemy.engine.Engine [cached since 329.5s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:16:03,896 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:16:03,896 INFO sqlalchemy.engine.Engine [cached since 5.742s ago] ()
2025-12-23 16:16:03,897 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:16:03,897 INFO sqlalchemy.engine.Engine [cached since 5.738s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 16:16:03,898 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:16:03,898 INFO sqlalchemy.engine.Engine [cached since 5.739s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:61420 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:16:03,899 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61420 - "OPTIONS /tenants/68923952-1085-4d0e-85bf-66bbbb8ad0c7/impersonate HTTP/1.1" 200 OK
2025-12-23 16:16:06,697 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:06,698 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:06,698 INFO sqlalchemy.engine.Engine [cached since 332.3s ago] ('admin',)
2025-12-23 16:16:06,701 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:16:06,701 INFO sqlalchemy.engine.Engine [cached since 332.3s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:16:06,703 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER
2025-12-23 16:16:06,704 INFO sqlalchemy.engine.Engine [generated in 0.00019s] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 1)
2025-12-23 16:16:06,705 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:16:06,705 INFO sqlalchemy.engine.Engine [cached since 327.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61418 - "POST /tenants/68923952-1085-4d0e-85bf-66bbbb8ad0c7/impersonate HTTP/1.1" 200 OK
2025-12-23 16:16:06,707 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:16:06,790 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:06,790 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:06,790 INFO sqlalchemy.engine.Engine [cached since 332.4s ago] ('apollo_admin',)
2025-12-23 16:16:06,792 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:16:06,792 INFO sqlalchemy.engine.Engine [cached since 332.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:16:06,792 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:16:06,792 INFO sqlalchemy.engine.Engine [cached since 332.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61418 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:16:06,793 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:16:06,794 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:06,794 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:06,794 INFO sqlalchemy.engine.Engine [cached since 332.4s ago] ('apollo_admin',)
2025-12-23 16:16:06,795 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:16:06,795 INFO sqlalchemy.engine.Engine [cached since 332.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:16:06,796 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:16:06,796 INFO sqlalchemy.engine.Engine [cached since 332.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61418 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:16:06,796 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:16:06,803 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:06,803 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:06,803 INFO sqlalchemy.engine.Engine [cached since 332.4s ago] ('apollo_admin',)
2025-12-23 16:16:06,805 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:16:06,805 INFO sqlalchemy.engine.Engine [cached since 332.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:16:06,805 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 16:16:06,805 INFO sqlalchemy.engine.Engine [cached since 329s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:16:06,806 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:16:06,806 INFO sqlalchemy.engine.Engine [cached since 329s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:16:06,807 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 16:16:06,807 INFO sqlalchemy.engine.Engine [cached since 329s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:61418 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:16:06,808 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:16:06,809 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:06,809 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:06,809 INFO sqlalchemy.engine.Engine [cached since 332.4s ago] ('apollo_admin',)
2025-12-23 16:16:06,810 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:16:06,810 INFO sqlalchemy.engine.Engine [cached since 332.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:16:06,811 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 16:16:06,811 INFO sqlalchemy.engine.Engine [cached since 329s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:16:06,812 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:16:06,812 INFO sqlalchemy.engine.Engine [cached since 329s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:16:06,813 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 16:16:06,814 INFO sqlalchemy.engine.Engine [cached since 329s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:61418 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:16:06,815 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:16:06,816 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:06,816 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:06,816 INFO sqlalchemy.engine.Engine [cached since 332.4s ago] ('apollo_admin',)
2025-12-23 16:16:06,817 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:16:06,818 INFO sqlalchemy.engine.Engine [cached since 332.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:16:06,818 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 16:16:06,818 INFO sqlalchemy.engine.Engine [cached since 329.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:16:06,819 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:16:06,819 INFO sqlalchemy.engine.Engine [cached since 329.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:16:06,820 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 16:16:06,820 INFO sqlalchemy.engine.Engine [cached since 329.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:61418 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:16:06,821 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:16:08,312 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:08,313 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:08,313 INFO sqlalchemy.engine.Engine [cached since 333.9s ago] ('apollo_admin',)
2025-12-23 16:16:08,314 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:08,314 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:08,315 INFO sqlalchemy.engine.Engine [cached since 333.9s ago] ('apollo_admin',)
2025-12-23 16:16:08,316 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:16:08,316 INFO sqlalchemy.engine.Engine [cached since 333.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:16:08,317 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:16:08,317 INFO sqlalchemy.engine.Engine [cached since 329.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:16:08,318 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:16:08,318 INFO sqlalchemy.engine.Engine [cached since 333.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61418 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:16:08,320 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61420 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:16:08,321 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:16:08,322 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:08,323 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:08,323 INFO sqlalchemy.engine.Engine [cached since 334s ago] ('apollo_admin',)
2025-12-23 16:16:08,324 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:16:08,324 INFO sqlalchemy.engine.Engine [cached since 329.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61420 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:16:08,325 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:16:10,243 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:10,243 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:10,244 INFO sqlalchemy.engine.Engine [cached since 335.9s ago] ('apollo_admin',)
2025-12-23 16:16:10,245 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:16:10,246 INFO sqlalchemy.engine.Engine [cached since 335.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:16:10,247 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:16:10,247 INFO sqlalchemy.engine.Engine [cached since 335.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61420 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:16:10,248 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:16:10,548 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:10,548 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:10,548 INFO sqlalchemy.engine.Engine [cached since 336.2s ago] ('apollo_admin',)
2025-12-23 16:16:10,552 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:16:10,552 INFO sqlalchemy.engine.Engine [cached since 335.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61420 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:16:10,555 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:16:11,922 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:11,922 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:11,922 INFO sqlalchemy.engine.Engine [cached since 337.6s ago] ('apollo_admin',)
2025-12-23 16:16:11,923 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:11,924 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:11,924 INFO sqlalchemy.engine.Engine [cached since 337.6s ago] ('apollo_admin',)
2025-12-23 16:16:11,925 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:16:11,925 INFO sqlalchemy.engine.Engine [cached since 337.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:16:11,925 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:16:11,925 INFO sqlalchemy.engine.Engine [cached since 337.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:16:11,927 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:16:11,927 INFO sqlalchemy.engine.Engine [cached since 318.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:16:11,928 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:16:11,928 INFO sqlalchemy.engine.Engine [cached since 337.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61418 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:16:11,929 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:16:11,930 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:16:11,930 INFO sqlalchemy.engine.Engine [cached since 318.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:16:11,931 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:16:11,931 INFO sqlalchemy.engine.Engine [cached since 318.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:16:11,932 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:16:11,932 INFO sqlalchemy.engine.Engine [cached since 318.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:61420 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:16:11,934 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:16:11,935 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:11,936 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:11,936 INFO sqlalchemy.engine.Engine [cached since 337.6s ago] ('apollo_admin',)
2025-12-23 16:16:11,937 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:16:11,937 INFO sqlalchemy.engine.Engine [cached since 337.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:16:11,938 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:16:11,938 INFO sqlalchemy.engine.Engine [cached since 318.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:16:11,939 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:16:11,939 INFO sqlalchemy.engine.Engine [cached since 318.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:16:11,940 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:16:11,940 INFO sqlalchemy.engine.Engine [cached since 318.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:16:11,941 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:16:11,941 INFO sqlalchemy.engine.Engine [cached since 318.4s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:61420 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:16:11,942 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:16:14,831 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:14,832 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:14,832 INFO sqlalchemy.engine.Engine [cached since 340.5s ago] ('apollo_admin',)
2025-12-23 16:16:14,833 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:16:14,833 INFO sqlalchemy.engine.Engine [cached since 340.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:16:14,834 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:16:14,834 INFO sqlalchemy.engine.Engine [cached since 340.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61420 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:16:14,835 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:16:14,837 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:14,837 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:14,837 INFO sqlalchemy.engine.Engine [cached since 340.5s ago] ('apollo_admin',)
2025-12-23 16:16:14,838 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:16:14,838 INFO sqlalchemy.engine.Engine [cached since 340.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:16:14,838 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:16:14,839 INFO sqlalchemy.engine.Engine [cached since 340.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61420 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:16:14,839 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:16:15,152 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:15,153 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:15,153 INFO sqlalchemy.engine.Engine [cached since 340.8s ago] ('apollo_admin',)
2025-12-23 16:16:15,155 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:16:15,155 INFO sqlalchemy.engine.Engine [cached since 340.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61420 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:16:15,158 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:16:16,004 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:16,005 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:16,005 INFO sqlalchemy.engine.Engine [cached since 341.6s ago] ('apollo_admin',)
2025-12-23 16:16:16,006 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:16,007 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:16,007 INFO sqlalchemy.engine.Engine [cached since 341.6s ago] ('apollo_admin',)
2025-12-23 16:16:16,008 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:16:16,008 INFO sqlalchemy.engine.Engine [cached since 341.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:16:16,009 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:16:16,009 INFO sqlalchemy.engine.Engine [cached since 341.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:16:16,010 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:16:16,010 INFO sqlalchemy.engine.Engine [cached since 322.5s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:16:16,011 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:16:16,011 INFO sqlalchemy.engine.Engine [cached since 341.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:16:16,012 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:16:16,012 INFO sqlalchemy.engine.Engine [cached since 322.5s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:61418 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:16:16,013 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:16:16,014 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:16:16,014 INFO sqlalchemy.engine.Engine [cached since 322.5s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:16:16,015 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:16:16,015 INFO sqlalchemy.engine.Engine [cached since 322.5s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:61420 - "GET /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:16:16,017 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:16:16,018 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:16:16,019 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:16:16,019 INFO sqlalchemy.engine.Engine [cached since 341.6s ago] ('apollo_admin',)
2025-12-23 16:16:16,020 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:16:16,020 INFO sqlalchemy.engine.Engine [cached since 341.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:16:16,021 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:16:16,021 INFO sqlalchemy.engine.Engine [cached since 322.5s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:16:16,022 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:16:16,022 INFO sqlalchemy.engine.Engine [cached since 322.5s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:16:16,023 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:16:16,023 INFO sqlalchemy.engine.Engine [cached since 322.5s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:16:16,024 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:16:16,024 INFO sqlalchemy.engine.Engine [cached since 322.5s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:61420 - "GET /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:16:16,025 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61475 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 16:18:08,246 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:18:08,251 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:18:08,253 INFO sqlalchemy.engine.Engine [cached since 453.9s ago] ('apollo_admin',)
2025-12-23 16:18:08,299 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:18:08,299 INFO sqlalchemy.engine.Engine [cached since 453.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:18:08,300 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:18:08,300 INFO sqlalchemy.engine.Engine [cached since 453.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61475 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:18:08,304 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61475 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:18:08,440 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:18:08,441 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:18:08,441 INFO sqlalchemy.engine.Engine [cached since 454.1s ago] ('apollo_admin',)
2025-12-23 16:18:08,445 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:18:08,446 INFO sqlalchemy.engine.Engine [cached since 454.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:18:08,451 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 16:18:08,451 INFO sqlalchemy.engine.Engine [cached since 450.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:18:08,461 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:18:08,462 INFO sqlalchemy.engine.Engine [cached since 450.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:18:08,464 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 16:18:08,464 INFO sqlalchemy.engine.Engine [cached since 450.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:61475 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:18:08,467 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61477 - "OPTIONS /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:61478 - "OPTIONS /patients HTTP/1.1" 200 OK
INFO:     127.0.0.1:61479 - "OPTIONS /users HTTP/1.1" 200 OK
2025-12-23 16:18:15,485 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:18:15,485 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:18:15,485 INFO sqlalchemy.engine.Engine [cached since 461.1s ago] ('apollo_admin',)
2025-12-23 16:18:15,486 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:18:15,486 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:18:15,486 INFO sqlalchemy.engine.Engine [cached since 461.1s ago] ('apollo_admin',)
2025-12-23 16:18:15,488 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:18:15,489 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:18:15,489 INFO sqlalchemy.engine.Engine [cached since 461.1s ago] ('apollo_admin',)
2025-12-23 16:18:15,490 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:18:15,491 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:18:15,491 INFO sqlalchemy.engine.Engine [cached since 461.1s ago] ('apollo_admin',)
2025-12-23 16:18:15,493 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:18:15,493 INFO sqlalchemy.engine.Engine [cached since 456.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:18:15,501 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:18:15,501 INFO sqlalchemy.engine.Engine [cached since 460.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 100, 0)
2025-12-23 16:18:15,503 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT $2::INTEGER
2025-12-23 16:18:15,503 INFO sqlalchemy.engine.Engine [cached since 456.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 200)
2025-12-23 16:18:15,505 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:18:15,505 INFO sqlalchemy.engine.Engine [cached since 461.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61479 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:18:15,507 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:18:15,507 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:18:15,507 INFO sqlalchemy.engine.Engine [cached since 461.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61480 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:18:15,508 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61478 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 16:18:15,510 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61477 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 16:18:15,520 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:18:16,474 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:18:16,474 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:18:16,474 INFO sqlalchemy.engine.Engine [cached since 462.1s ago] ('apollo_admin',)
2025-12-23 16:18:16,477 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:18:16,477 INFO sqlalchemy.engine.Engine [cached since 462.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:18:16,478 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:18:16,478 INFO sqlalchemy.engine.Engine [cached since 462.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61479 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:18:16,480 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61480 - "OPTIONS /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:18:16,786 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:18:16,787 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:18:16,787 INFO sqlalchemy.engine.Engine [cached since 462.4s ago] ('apollo_admin',)
2025-12-23 16:18:16,790 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:18:16,790 INFO sqlalchemy.engine.Engine [cached since 461.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61478 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:18:16,793 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61477 - "OPTIONS /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:18:18,719 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:18:18,720 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:18:18,720 INFO sqlalchemy.engine.Engine [cached since 464.3s ago] ('apollo_admin',)
2025-12-23 16:18:18,721 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:18:18,722 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:18:18,722 INFO sqlalchemy.engine.Engine [cached since 464.4s ago] ('apollo_admin',)
2025-12-23 16:18:18,722 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:18:18,722 INFO sqlalchemy.engine.Engine [cached since 464.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:18:18,723 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:18:18,723 INFO sqlalchemy.engine.Engine [cached since 464.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:18:18,725 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:18:18,725 INFO sqlalchemy.engine.Engine [cached since 464.3s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61479 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:18:18,726 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:18:18,728 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:18:18,728 INFO sqlalchemy.engine.Engine [cached since 445.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:18:18,732 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:18:18,732 INFO sqlalchemy.engine.Engine [cached since 445.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:18:18,734 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:18:18,734 INFO sqlalchemy.engine.Engine [cached since 445.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:18:18,736 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:18:18,736 INFO sqlalchemy.engine.Engine [cached since 445.2s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:61480 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:18:18,738 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:18:46,637 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:18:46,639 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:18:46,639 INFO sqlalchemy.engine.Engine [cached since 492.3s ago] ('apollo_admin',)
2025-12-23 16:18:46,642 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:18:46,642 INFO sqlalchemy.engine.Engine [cached since 492.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:18:46,644 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:18:46,644 INFO sqlalchemy.engine.Engine [cached since 492.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61498 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:18:46,645 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:18:46,661 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:18:46,661 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:18:46,661 INFO sqlalchemy.engine.Engine [cached since 492.3s ago] ('apollo_admin',)
2025-12-23 16:18:46,662 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:18:46,662 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:18:46,662 INFO sqlalchemy.engine.Engine [cached since 492.3s ago] ('apollo_admin',)
2025-12-23 16:18:46,662 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:18:46,662 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:18:46,662 INFO sqlalchemy.engine.Engine [cached since 492.3s ago] ('apollo_admin',)
2025-12-23 16:18:46,665 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT $2::INTEGER
2025-12-23 16:18:46,665 INFO sqlalchemy.engine.Engine [cached since 487.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 200)
2025-12-23 16:18:46,671 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:18:46,671 INFO sqlalchemy.engine.Engine [cached since 491.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 100, 0)
2025-12-23 16:18:46,671 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:18:46,671 INFO sqlalchemy.engine.Engine [cached since 487.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61498 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 16:18:46,672 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61499 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 16:18:46,673 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61500 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:18:46,674 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:18:51,414 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:18:51,415 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:18:51,415 INFO sqlalchemy.engine.Engine [cached since 497s ago] ('apollo_admin',)
2025-12-23 16:18:51,417 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:18:51,417 INFO sqlalchemy.engine.Engine [cached since 497s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:18:51,417 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:18:51,417 INFO sqlalchemy.engine.Engine [cached since 497s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61498 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:18:51,418 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:18:51,717 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:18:51,718 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:18:51,718 INFO sqlalchemy.engine.Engine [cached since 497.3s ago] ('apollo_admin',)
2025-12-23 16:18:51,721 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:18:51,722 INFO sqlalchemy.engine.Engine [cached since 496.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61498 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:18:51,725 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61498 - "OPTIONS /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:18:54,304 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:18:54,304 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:18:54,305 INFO sqlalchemy.engine.Engine [cached since 499.9s ago] ('apollo_admin',)
2025-12-23 16:18:54,305 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:18:54,306 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:18:54,306 INFO sqlalchemy.engine.Engine [cached since 499.9s ago] ('apollo_admin',)
2025-12-23 16:18:54,307 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:18:54,307 INFO sqlalchemy.engine.Engine [cached since 499.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:18:54,308 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:18:54,308 INFO sqlalchemy.engine.Engine [cached since 499.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:18:54,309 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:18:54,309 INFO sqlalchemy.engine.Engine [cached since 499.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:18:54,310 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:18:54,310 INFO sqlalchemy.engine.Engine [cached since 480.8s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
INFO:     127.0.0.1:61503 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:18:54,311 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:18:54,312 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:18:54,312 INFO sqlalchemy.engine.Engine [cached since 480.8s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:18:54,315 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:18:54,315 INFO sqlalchemy.engine.Engine [cached since 480.8s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:18:54,316 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:18:54,316 INFO sqlalchemy.engine.Engine [cached since 480.8s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:61498 - "GET /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:18:54,318 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:19:01,528 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:19:01,532 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:19:01,532 INFO sqlalchemy.engine.Engine [cached since 507.2s ago] ('apollo_admin',)
2025-12-23 16:19:01,535 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:19:01,535 INFO sqlalchemy.engine.Engine [cached since 507.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:19:01,536 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:19:01,536 INFO sqlalchemy.engine.Engine [cached since 507.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61506 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:19:01,538 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:19:01,833 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:19:01,833 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:19:01,834 INFO sqlalchemy.engine.Engine [cached since 507.5s ago] ('apollo_admin',)
2025-12-23 16:19:01,836 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:19:01,836 INFO sqlalchemy.engine.Engine [cached since 506.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61506 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:19:01,839 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:19:02,561 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:19:02,562 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:19:02,562 INFO sqlalchemy.engine.Engine [cached since 508.2s ago] ('apollo_admin',)
2025-12-23 16:19:02,567 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT $2::INTEGER
2025-12-23 16:19:02,568 INFO sqlalchemy.engine.Engine [cached since 503.8s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 200)
INFO:     127.0.0.1:61506 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 16:19:02,569 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:19:02,571 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:19:02,572 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:19:02,572 INFO sqlalchemy.engine.Engine [cached since 508.2s ago] ('apollo_admin',)
2025-12-23 16:19:02,572 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:19:02,572 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:19:02,572 INFO sqlalchemy.engine.Engine [cached since 508.2s ago] ('apollo_admin',)
2025-12-23 16:19:02,573 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:19:02,573 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:19:02,573 INFO sqlalchemy.engine.Engine [cached since 508.2s ago] ('apollo_admin',)
2025-12-23 16:19:02,574 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:19:02,574 INFO sqlalchemy.engine.Engine [cached since 507.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 100, 0)
2025-12-23 16:19:02,575 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:19:02,575 INFO sqlalchemy.engine.Engine [cached since 503.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:19:02,575 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:19:02,575 INFO sqlalchemy.engine.Engine [cached since 508.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61507 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 16:19:02,577 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:19:02,578 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:19:02,578 INFO sqlalchemy.engine.Engine [cached since 508.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61508 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:19:02,578 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61509 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:19:02,579 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:19:04,874 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:19:04,874 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:19:04,874 INFO sqlalchemy.engine.Engine [cached since 510.5s ago] ('apollo_admin',)
2025-12-23 16:19:04,875 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:19:04,875 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:19:04,875 INFO sqlalchemy.engine.Engine [cached since 510.5s ago] ('apollo_admin',)
2025-12-23 16:19:04,876 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:19:04,876 INFO sqlalchemy.engine.Engine [cached since 510.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:19:04,877 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:19:04,877 INFO sqlalchemy.engine.Engine [cached since 510.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:19:04,877 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:19:04,877 INFO sqlalchemy.engine.Engine [cached since 510.5s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:19:04,878 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 16:19:04,878 INFO sqlalchemy.engine.Engine [cached since 507.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61507 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:19:04,880 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:19:04,883 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:19:04,883 INFO sqlalchemy.engine.Engine [cached since 507.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:19:04,885 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 16:19:04,885 INFO sqlalchemy.engine.Engine [cached since 507.1s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:61506 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:19:04,886 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:19:06,306 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:19:06,306 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:19:06,306 INFO sqlalchemy.engine.Engine [cached since 511.9s ago] ('apollo_admin',)
2025-12-23 16:19:06,308 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:19:06,308 INFO sqlalchemy.engine.Engine [cached since 511.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:19:06,308 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:19:06,309 INFO sqlalchemy.engine.Engine [cached since 511.9s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61508 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:19:06,309 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:19:07,053 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:19:07,053 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:19:07,053 INFO sqlalchemy.engine.Engine [cached since 512.7s ago] ('apollo_admin',)
2025-12-23 16:19:07,054 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:19:07,054 INFO sqlalchemy.engine.Engine [cached since 512.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:19:07,055 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:19:07,055 INFO sqlalchemy.engine.Engine [cached since 512.7s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61509 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:19:07,056 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:19:07,351 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:19:07,352 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:19:07,352 INFO sqlalchemy.engine.Engine [cached since 513s ago] ('apollo_admin',)
2025-12-23 16:19:07,353 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:19:07,353 INFO sqlalchemy.engine.Engine [cached since 512.4s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61507 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:19:07,360 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:19:09,621 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:19:09,622 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:19:09,622 INFO sqlalchemy.engine.Engine [cached since 515.3s ago] ('apollo_admin',)
2025-12-23 16:19:09,624 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:19:09,624 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:19:09,624 INFO sqlalchemy.engine.Engine [cached since 515.3s ago] ('apollo_admin',)
2025-12-23 16:19:09,626 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:19:09,626 INFO sqlalchemy.engine.Engine [cached since 515.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:19:09,627 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:19:09,628 INFO sqlalchemy.engine.Engine [cached since 515.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:19:09,634 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:19:09,634 INFO sqlalchemy.engine.Engine [cached since 496.1s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:19:09,635 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:19:09,635 INFO sqlalchemy.engine.Engine [cached since 515.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:19:09,640 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:19:09,640 INFO sqlalchemy.engine.Engine [cached since 496.1s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:61508 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:19:09,642 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:19:09,643 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:19:09,643 INFO sqlalchemy.engine.Engine [cached since 496.1s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:19:09,644 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:19:09,644 INFO sqlalchemy.engine.Engine [cached since 496.1s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:61506 - "GET /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:19:09,645 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:20:40,025 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:20:40,031 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:20:40,031 INFO sqlalchemy.engine.Engine [cached since 605.7s ago] ('admin',)
INFO:     127.0.0.1:61531 - "POST /token HTTP/1.1" 200 OK
2025-12-23 16:20:40,297 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:20:40,328 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:20:40,328 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:20:40,328 INFO sqlalchemy.engine.Engine [cached since 606s ago] ('admin',)
2025-12-23 16:20:40,332 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:20:40,332 INFO sqlalchemy.engine.Engine [cached since 605.9s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:20:40,333 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:20:40,333 INFO sqlalchemy.engine.Engine [cached since 605.9s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:61531 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:20:40,335 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:20:40,368 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:20:40,369 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:20:40,369 INFO sqlalchemy.engine.Engine [cached since 606s ago] ('admin',)
INFO:     127.0.0.1:61532 - "OPTIONS /tenants HTTP/1.1" 200 OK
2025-12-23 16:20:40,371 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:20:40,371 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:20:40,371 INFO sqlalchemy.engine.Engine [cached since 606s ago] ('admin',)
2025-12-23 16:20:40,372 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:20:40,372 INFO sqlalchemy.engine.Engine [cached since 606s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:20:40,374 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 16:20:40,374 INFO sqlalchemy.engine.Engine [cached since 282.2s ago] ()
2025-12-23 16:20:40,375 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:20:40,375 INFO sqlalchemy.engine.Engine [cached since 606s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:20:40,376 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:20:40,376 INFO sqlalchemy.engine.Engine [cached since 282.2s ago] ()
2025-12-23 16:20:40,376 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 16:20:40,376 INFO sqlalchemy.engine.Engine [cached since 282.2s ago] ()
2025-12-23 16:20:40,380 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE users.roles @> $1::JSONB AND tenants.is_super_admin = false
2025-12-23 16:20:40,380 INFO sqlalchemy.engine.Engine [cached since 282.2s ago] ('["admin"]',)
2025-12-23 16:20:40,380 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:20:40,380 INFO sqlalchemy.engine.Engine [cached since 282.2s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 16:20:40,383 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:20:40,383 INFO sqlalchemy.engine.Engine [cached since 282.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:61532 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:20:40,384 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:20:40,386 INFO sqlalchemy.engine.Engine SELECT tenants.created_at 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 16:20:40,386 INFO sqlalchemy.engine.Engine [cached since 282.2s ago] ()
INFO:     127.0.0.1:61531 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:20:40,387 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:20:42,387 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:20:42,388 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:20:42,388 INFO sqlalchemy.engine.Engine [cached since 608s ago] ('admin',)
2025-12-23 16:20:42,388 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:20:42,389 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:20:42,389 INFO sqlalchemy.engine.Engine [cached since 608s ago] ('admin',)
2025-12-23 16:20:42,389 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:20:42,390 INFO sqlalchemy.engine.Engine [cached since 608s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:20:42,391 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:20:42,391 INFO sqlalchemy.engine.Engine [cached since 608s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:61531 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:20:42,392 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:20:42,392 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:20:42,392 INFO sqlalchemy.engine.Engine [cached since 608s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:20:42,393 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:20:42,393 INFO sqlalchemy.engine.Engine [cached since 284.2s ago] ()
2025-12-23 16:20:42,394 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:20:42,394 INFO sqlalchemy.engine.Engine [cached since 284.2s ago] ('318f4587-b8b2-41f4-820b-7def3037858b', '["admin"]')
2025-12-23 16:20:42,396 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR AND users.roles @> $2::JSONB
2025-12-23 16:20:42,396 INFO sqlalchemy.engine.Engine [cached since 284.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', '["admin"]')
INFO:     127.0.0.1:61532 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:20:42,396 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:20:44,400 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:20:44,400 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:20:44,400 INFO sqlalchemy.engine.Engine [cached since 610s ago] ('admin',)
INFO:     127.0.0.1:61532 - "OPTIONS /settings HTTP/1.1" 200 OK
2025-12-23 16:20:44,402 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:20:44,402 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:20:44,402 INFO sqlalchemy.engine.Engine [cached since 610s ago] ('admin',)
2025-12-23 16:20:44,403 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:20:44,403 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:20:44,403 INFO sqlalchemy.engine.Engine [cached since 610s ago] ('admin',)
2025-12-23 16:20:44,404 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:20:44,404 INFO sqlalchemy.engine.Engine [cached since 605.6s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:20:44,404 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:20:44,404 INFO sqlalchemy.engine.Engine [cached since 610s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:61531 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:20:44,405 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:20:44,405 INFO sqlalchemy.engine.Engine [cached since 610s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:20:44,406 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:20:44,406 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:20:44,406 INFO sqlalchemy.engine.Engine [cached since 610s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:61532 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 16:20:44,406 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61533 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:20:44,407 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61538 - "OPTIONS /register HTTP/1.1" 200 OK
INFO:     127.0.0.1:61538 - "POST /register HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:61538 - "POST /register HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:61538 - "POST /register HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:61538 - "POST /register HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:61551 - "OPTIONS /users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:61552 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 16:21:39,992 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:21:39,993 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:21:39,993 INFO sqlalchemy.engine.Engine [cached since 665.6s ago] ('apollo_admin',)
2025-12-23 16:21:39,997 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:21:39,997 INFO sqlalchemy.engine.Engine [cached since 665.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:21:39,998 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:21:39,998 INFO sqlalchemy.engine.Engine [cached since 665.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61551 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:21:40,000 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:21:40,001 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:21:40,001 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:21:40,001 INFO sqlalchemy.engine.Engine [cached since 665.6s ago] ('apollo_admin',)
2025-12-23 16:21:40,002 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:21:40,002 INFO sqlalchemy.engine.Engine [cached since 665.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:21:40,003 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:21:40,003 INFO sqlalchemy.engine.Engine [cached since 665.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61551 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:21:40,003 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:21:40,025 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:21:40,025 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:21:40,025 INFO sqlalchemy.engine.Engine [cached since 665.7s ago] ('apollo_admin',)
2025-12-23 16:21:40,027 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:21:40,027 INFO sqlalchemy.engine.Engine [cached since 665.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:21:40,030 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:21:40,030 INFO sqlalchemy.engine.Engine [cached since 646.5s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:21:40,035 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:21:40,035 INFO sqlalchemy.engine.Engine [cached since 646.5s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:21:40,037 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:21:40,037 INFO sqlalchemy.engine.Engine [cached since 646.5s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:21:40,038 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:21:40,038 INFO sqlalchemy.engine.Engine [cached since 646.5s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:61551 - "GET /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:21:40,039 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:21:40,040 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:21:40,040 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:21:40,040 INFO sqlalchemy.engine.Engine [cached since 665.7s ago] ('apollo_admin',)
2025-12-23 16:21:40,041 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:21:40,041 INFO sqlalchemy.engine.Engine [cached since 665.6s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:21:40,044 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:21:40,045 INFO sqlalchemy.engine.Engine [cached since 646.5s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:21:40,047 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:21:40,047 INFO sqlalchemy.engine.Engine [cached since 646.5s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:21:40,047 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:21:40,047 INFO sqlalchemy.engine.Engine [cached since 646.5s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:21:40,048 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:21:40,048 INFO sqlalchemy.engine.Engine [cached since 646.5s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:61551 - "GET /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:21:40,048 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:21:42,549 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:21:42,550 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:21:42,550 INFO sqlalchemy.engine.Engine [cached since 668.2s ago] ('apollo_admin',)
2025-12-23 16:21:42,553 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:21:42,554 INFO sqlalchemy.engine.Engine [cached since 668.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:21:42,555 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:21:42,555 INFO sqlalchemy.engine.Engine [cached since 668.2s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61551 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:21:42,557 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61551 - "OPTIONS /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:21:42,854 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:21:42,855 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:21:42,855 INFO sqlalchemy.engine.Engine [cached since 668.5s ago] ('apollo_admin',)
2025-12-23 16:21:42,859 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:21:42,859 INFO sqlalchemy.engine.Engine [cached since 668s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61552 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:21:42,862 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:26:58,832 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:26:58,837 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:26:58,838 INFO sqlalchemy.engine.Engine [cached since 984.5s ago] ('admin',)
2025-12-23 16:26:58,868 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:26:58,868 INFO sqlalchemy.engine.Engine [cached since 984.5s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:26:58,869 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:26:58,869 INFO sqlalchemy.engine.Engine [cached since 984.5s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:61630 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:26:58,871 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:26:58,897 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:26:58,897 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:26:58,897 INFO sqlalchemy.engine.Engine [cached since 984.5s ago] ('admin',)
2025-12-23 16:26:58,898 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:26:58,898 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:26:58,898 INFO sqlalchemy.engine.Engine [cached since 984.5s ago] ('admin',)
2025-12-23 16:26:58,901 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:26:58,901 INFO sqlalchemy.engine.Engine [cached since 980.1s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
2025-12-23 16:26:58,902 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:26:58,902 INFO sqlalchemy.engine.Engine [cached since 984.5s ago] ('318f4587-b8b2-41f4-820b-7def3037858b',)
INFO:     127.0.0.1:61630 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:26:58,902 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61631 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 16:26:58,903 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:27:17,004 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:27:17,007 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:27:17,007 INFO sqlalchemy.engine.Engine [cached since 1003s ago] ('jr_jhatka',)
2025-12-23 16:27:17,025 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61635 - "POST /token HTTP/1.1" 401 Unauthorized
2025-12-23 16:27:23,083 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:27:23,084 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:27:23,084 INFO sqlalchemy.engine.Engine [cached since 1009s ago] ('dr_jhatka',)
INFO:     127.0.0.1:61642 - "POST /token HTTP/1.1" 200 OK
2025-12-23 16:27:23,351 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:27:23,374 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:27:23,374 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:27:23,374 INFO sqlalchemy.engine.Engine [cached since 1009s ago] ('dr_jhatka',)
2025-12-23 16:27:23,377 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:27:23,377 INFO sqlalchemy.engine.Engine [cached since 1009s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:27:23,377 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:27:23,378 INFO sqlalchemy.engine.Engine [cached since 1009s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61642 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:27:23,379 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:27:23,401 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:27:23,401 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:27:23,401 INFO sqlalchemy.engine.Engine [cached since 1009s ago] ('dr_jhatka',)
2025-12-23 16:27:23,403 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:27:23,403 INFO sqlalchemy.engine.Engine [cached since 1009s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:27:23,404 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 16:27:23,404 INFO sqlalchemy.engine.Engine [cached since 1006s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:27:23,410 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:27:23,410 INFO sqlalchemy.engine.Engine [cached since 1006s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:27:23,414 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 16:27:23,414 INFO sqlalchemy.engine.Engine [cached since 1006s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:61642 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:27:23,415 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:27:24,764 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:27:24,765 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:27:24,765 INFO sqlalchemy.engine.Engine [cached since 1010s ago] ('dr_jhatka',)
2025-12-23 16:27:24,766 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:27:24,766 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:27:24,767 INFO sqlalchemy.engine.Engine [cached since 1010s ago] ('dr_jhatka',)
2025-12-23 16:27:24,767 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:27:24,767 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:27:24,767 INFO sqlalchemy.engine.Engine [cached since 1010s ago] ('dr_jhatka',)
2025-12-23 16:27:24,768 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:27:24,768 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:27:24,768 INFO sqlalchemy.engine.Engine [cached since 1010s ago] ('dr_jhatka',)
2025-12-23 16:27:24,770 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:27:24,770 INFO sqlalchemy.engine.Engine [cached since 1010s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:27:24,771 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:27:24,771 INFO sqlalchemy.engine.Engine [cached since 1006s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:27:24,773 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT $2::INTEGER
2025-12-23 16:27:24,774 INFO sqlalchemy.engine.Engine [cached since 1006s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 200)
2025-12-23 16:27:24,775 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:27:24,775 INFO sqlalchemy.engine.Engine [cached since 1010s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 100, 0)
2025-12-23 16:27:24,776 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:27:24,776 INFO sqlalchemy.engine.Engine [cached since 1010s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61645 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:27:24,778 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61646 - "GET /users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:61644 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 16:27:24,782 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:27:24,782 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61642 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 16:27:24,783 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:27:25,589 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:27:25,590 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:27:25,590 INFO sqlalchemy.engine.Engine [cached since 1011s ago] ('dr_jhatka',)
2025-12-23 16:27:25,591 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:27:25,591 INFO sqlalchemy.engine.Engine [cached since 1011s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:27:25,592 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:27:25,594 INFO sqlalchemy.engine.Engine [cached since 1011s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61645 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:27:25,596 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:27:25,891 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:27:25,892 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:27:25,892 INFO sqlalchemy.engine.Engine [cached since 1012s ago] ('dr_jhatka',)
2025-12-23 16:27:25,894 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:27:25,895 INFO sqlalchemy.engine.Engine [cached since 1011s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61644 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:27:25,897 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:27:27,517 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:27:27,518 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:27:27,518 INFO sqlalchemy.engine.Engine [cached since 1013s ago] ('dr_jhatka',)
2025-12-23 16:27:27,521 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:27:27,521 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:27:27,521 INFO sqlalchemy.engine.Engine [cached since 1013s ago] ('dr_jhatka',)
2025-12-23 16:27:27,523 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:27:27,524 INFO sqlalchemy.engine.Engine [cached since 1013s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:27:27,524 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:27:27,524 INFO sqlalchemy.engine.Engine [cached since 1013s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:27:27,525 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:27:27,526 INFO sqlalchemy.engine.Engine [cached since 994s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:27:27,527 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:27:27,527 INFO sqlalchemy.engine.Engine [cached since 1013s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:27:27,530 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:27:27,531 INFO sqlalchemy.engine.Engine [cached since 994s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:61642 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:27:27,531 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:27:27,539 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:27:27,539 INFO sqlalchemy.engine.Engine [cached since 994s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:27:27,542 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:27:27,542 INFO sqlalchemy.engine.Engine [cached since 994s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:61646 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:27:27,543 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:27:30,751 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:27:30,753 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:27:30,754 INFO sqlalchemy.engine.Engine [cached since 1016s ago] ('dr_jhatka',)
2025-12-23 16:27:30,757 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:27:30,757 INFO sqlalchemy.engine.Engine [cached since 1016s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:27:30,758 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:27:30,758 INFO sqlalchemy.engine.Engine [cached since 1016s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61644 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:27:30,759 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:27:31,082 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:27:31,083 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:27:31,083 INFO sqlalchemy.engine.Engine [cached since 1017s ago] ('dr_jhatka',)
2025-12-23 16:27:31,086 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:27:31,086 INFO sqlalchemy.engine.Engine [cached since 1016s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61642 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:27:31,088 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:27:32,341 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:27:32,341 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:27:32,341 INFO sqlalchemy.engine.Engine [cached since 1018s ago] ('dr_jhatka',)
2025-12-23 16:27:32,342 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:27:32,342 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:27:32,342 INFO sqlalchemy.engine.Engine [cached since 1018s ago] ('dr_jhatka',)
2025-12-23 16:27:32,345 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:27:32,345 INFO sqlalchemy.engine.Engine [cached since 1018s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:27:32,345 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:27:32,345 INFO sqlalchemy.engine.Engine [cached since 1018s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:27:32,345 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:27:32,346 INFO sqlalchemy.engine.Engine [cached since 1018s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61644 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:27:32,346 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:27:32,348 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:27:32,348 INFO sqlalchemy.engine.Engine [cached since 998.8s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
2025-12-23 16:27:32,353 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:27:32,353 INFO sqlalchemy.engine.Engine [cached since 998.8s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:27:32,354 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:27:32,354 INFO sqlalchemy.engine.Engine [cached since 998.8s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:27:32,356 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:27:32,356 INFO sqlalchemy.engine.Engine [cached since 998.8s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:61646 - "GET /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:27:32,356 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61674 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
INFO:     127.0.0.1:61675 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 16:28:40,487 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:28:40,489 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:28:40,490 INFO sqlalchemy.engine.Engine [cached since 1086s ago] ('dr_jhatka',)
2025-12-23 16:28:40,497 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:28:40,498 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:28:40,498 INFO sqlalchemy.engine.Engine [cached since 1086s ago] ('dr_jhatka',)
2025-12-23 16:28:40,523 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:28:40,523 INFO sqlalchemy.engine.Engine [cached since 1086s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:28:40,523 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:28:40,523 INFO sqlalchemy.engine.Engine [cached since 1086s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:28:40,530 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 16:28:40,530 INFO sqlalchemy.engine.Engine [cached since 1083s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:28:40,532 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:28:40,532 INFO sqlalchemy.engine.Engine [cached since 1086s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61675 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:28:40,534 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:28:40,550 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:28:40,550 INFO sqlalchemy.engine.Engine [cached since 1083s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:28:40,554 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 16:28:40,554 INFO sqlalchemy.engine.Engine [cached since 1083s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:61674 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:28:40,558 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:28:40,575 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:28:40,575 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:28:40,575 INFO sqlalchemy.engine.Engine [cached since 1086s ago] ('dr_jhatka',)
2025-12-23 16:28:40,580 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:28:40,580 INFO sqlalchemy.engine.Engine [cached since 1086s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:28:40,581 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 16:28:40,581 INFO sqlalchemy.engine.Engine [cached since 1083s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:28:40,582 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:28:40,582 INFO sqlalchemy.engine.Engine [cached since 1083s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:28:40,582 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 16:28:40,582 INFO sqlalchemy.engine.Engine [cached since 1083s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:61675 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:28:40,584 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61674 - "OPTIONS /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:61675 - "OPTIONS /patients HTTP/1.1" 200 OK
2025-12-23 16:28:41,441 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:28:41,441 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:28:41,442 INFO sqlalchemy.engine.Engine [cached since 1087s ago] ('dr_jhatka',)
INFO:     127.0.0.1:61677 - "OPTIONS /users HTTP/1.1" 200 OK
2025-12-23 16:28:41,446 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:28:41,447 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:28:41,447 INFO sqlalchemy.engine.Engine [cached since 1087s ago] ('dr_jhatka',)
2025-12-23 16:28:41,447 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:28:41,448 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:28:41,448 INFO sqlalchemy.engine.Engine [cached since 1087s ago] ('dr_jhatka',)
2025-12-23 16:28:41,466 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:28:41,466 INFO sqlalchemy.engine.Engine [cached since 1087s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 100, 0)
2025-12-23 16:28:41,467 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:28:41,467 INFO sqlalchemy.engine.Engine [cached since 1087s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:28:41,469 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT $2::INTEGER
2025-12-23 16:28:41,469 INFO sqlalchemy.engine.Engine [cached since 1083s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 200)
2025-12-23 16:28:41,472 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:28:41,473 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:28:41,473 INFO sqlalchemy.engine.Engine [cached since 1087s ago] ('dr_jhatka',)
INFO:     127.0.0.1:61675 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 16:28:41,482 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:28:41,485 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:28:41,485 INFO sqlalchemy.engine.Engine [cached since 1087s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61674 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 16:28:41,488 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:28:41,489 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:28:41,489 INFO sqlalchemy.engine.Engine [cached since 1083s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61678 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:28:41,489 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61677 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:28:41,490 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:28:42,228 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:28:42,229 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:28:42,229 INFO sqlalchemy.engine.Engine [cached since 1088s ago] ('dr_jhatka',)
2025-12-23 16:28:42,230 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:28:42,230 INFO sqlalchemy.engine.Engine [cached since 1088s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:28:42,231 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:28:42,231 INFO sqlalchemy.engine.Engine [cached since 1088s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61675 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:28:42,232 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61674 - "OPTIONS /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:28:42,532 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:28:42,533 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:28:42,533 INFO sqlalchemy.engine.Engine [cached since 1088s ago] ('dr_jhatka',)
2025-12-23 16:28:42,535 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:28:42,535 INFO sqlalchemy.engine.Engine [cached since 1088s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61678 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:28:42,537 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:28:43,053 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:28:43,054 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:28:43,054 INFO sqlalchemy.engine.Engine [cached since 1089s ago] ('dr_jhatka',)
2025-12-23 16:28:43,056 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:28:43,056 INFO sqlalchemy.engine.Engine [cached since 1089s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:28:43,057 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:28:43,057 INFO sqlalchemy.engine.Engine [cached since 1089s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61677 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:28:43,058 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:28:46,263 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:28:46,265 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:28:46,265 INFO sqlalchemy.engine.Engine [cached since 1092s ago] ('dr_jhatka',)
2025-12-23 16:28:46,266 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:28:46,266 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:28:46,266 INFO sqlalchemy.engine.Engine [cached since 1092s ago] ('dr_jhatka',)
2025-12-23 16:28:46,267 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:28:46,267 INFO sqlalchemy.engine.Engine [cached since 1092s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:28:46,268 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:28:46,268 INFO sqlalchemy.engine.Engine [cached since 1092s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:28:46,269 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 16:28:46,269 INFO sqlalchemy.engine.Engine [cached since 1089s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:28:46,270 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:28:46,270 INFO sqlalchemy.engine.Engine [cached since 1092s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61674 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:28:46,271 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:28:46,272 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:28:46,272 INFO sqlalchemy.engine.Engine [cached since 1089s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:28:46,275 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 16:28:46,275 INFO sqlalchemy.engine.Engine [cached since 1089s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:61675 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:28:46,277 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:28:52,544 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:28:52,545 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:28:52,545 INFO sqlalchemy.engine.Engine [cached since 1098s ago] ('dr_jhatka',)
2025-12-23 16:28:52,546 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:28:52,546 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:28:52,547 INFO sqlalchemy.engine.Engine [cached since 1098s ago] ('dr_jhatka',)
2025-12-23 16:28:52,547 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:28:52,547 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:28:52,547 INFO sqlalchemy.engine.Engine [cached since 1098s ago] ('dr_jhatka',)
2025-12-23 16:28:52,549 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT $2::INTEGER
2025-12-23 16:28:52,550 INFO sqlalchemy.engine.Engine [cached since 1094s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 200)
2025-12-23 16:28:52,550 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:28:52,550 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:28:52,551 INFO sqlalchemy.engine.Engine [cached since 1098s ago] ('dr_jhatka',)
2025-12-23 16:28:52,551 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:28:52,552 INFO sqlalchemy.engine.Engine [cached since 1098s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 100, 0)
2025-12-23 16:28:52,552 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:28:52,552 INFO sqlalchemy.engine.Engine [cached since 1098s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:28:52,553 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:28:52,553 INFO sqlalchemy.engine.Engine [cached since 1094s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61681 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 16:28:52,554 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61682 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 16:28:52,555 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:28:52,556 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:28:52,556 INFO sqlalchemy.engine.Engine [cached since 1098s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61683 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:28:52,556 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61684 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:28:52,557 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:29:19,712 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:29:19,715 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:29:19,715 INFO sqlalchemy.engine.Engine [cached since 1125s ago] ('dr_jhatka',)
2025-12-23 16:29:19,720 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:29:19,720 INFO sqlalchemy.engine.Engine [cached since 1125s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:29:19,724 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:29:19,725 INFO sqlalchemy.engine.Engine [cached since 1125s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61688 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:29:19,727 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:29:19,999 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:29:19,999 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:29:19,999 INFO sqlalchemy.engine.Engine [cached since 1126s ago] ('dr_jhatka',)
2025-12-23 16:29:20,003 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:29:20,003 INFO sqlalchemy.engine.Engine [cached since 1125s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61688 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:29:20,006 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:29:38,638 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:29:38,639 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:29:38,639 INFO sqlalchemy.engine.Engine [cached since 1144s ago] ('dr_jhatka',)
2025-12-23 16:29:38,641 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:29:38,641 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:29:38,641 INFO sqlalchemy.engine.Engine [cached since 1144s ago] ('dr_jhatka',)
2025-12-23 16:29:38,647 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:29:38,647 INFO sqlalchemy.engine.Engine [cached since 1144s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:29:38,648 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:29:38,649 INFO sqlalchemy.engine.Engine [cached since 1144s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:29:38,651 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 16:29:38,651 INFO sqlalchemy.engine.Engine [cached since 1141s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:29:38,652 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:29:38,652 INFO sqlalchemy.engine.Engine [cached since 1144s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:29:38,653 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:29:38,653 INFO sqlalchemy.engine.Engine [cached since 1141s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61695 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:29:38,653 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:29:38,654 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 16:29:38,654 INFO sqlalchemy.engine.Engine [cached since 1141s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:61694 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:29:38,656 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:29:38,660 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:29:38,660 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:29:38,660 INFO sqlalchemy.engine.Engine [cached since 1144s ago] ('dr_jhatka',)
2025-12-23 16:29:38,662 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:29:38,662 INFO sqlalchemy.engine.Engine [cached since 1144s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:29:38,663 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 16:29:38,663 INFO sqlalchemy.engine.Engine [cached since 1141s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:29:38,663 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:29:38,664 INFO sqlalchemy.engine.Engine [cached since 1141s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:29:38,664 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 16:29:38,664 INFO sqlalchemy.engine.Engine [cached since 1141s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:61695 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:29:38,665 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:30:05,596 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:30:05,598 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:30:05,598 INFO sqlalchemy.engine.Engine [cached since 1171s ago] ('dr_jhatka',)
2025-12-23 16:30:05,612 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:30:05,613 INFO sqlalchemy.engine.Engine [cached since 1171s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:30:05,613 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:30:05,614 INFO sqlalchemy.engine.Engine [cached since 1171s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61705 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:30:05,615 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:30:05,643 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:30:05,643 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:30:05,643 INFO sqlalchemy.engine.Engine [cached since 1171s ago] ('dr_jhatka',)
2025-12-23 16:30:05,645 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:30:05,645 INFO sqlalchemy.engine.Engine [cached since 1171s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:30:05,646 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR
2025-12-23 16:30:05,646 INFO sqlalchemy.engine.Engine [cached since 1168s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:30:05,648 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = $1::VARCHAR
2025-12-23 16:30:05,648 INFO sqlalchemy.engine.Engine [cached since 1168s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:30:05,649 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = $1::VARCHAR AND appointments.start_time >= $2::DATE AND appointments.start_time < $3::DATE
2025-12-23 16:30:05,649 INFO sqlalchemy.engine.Engine [cached since 1168s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', datetime.date(2025, 12, 23), datetime.date(2025, 12, 24))
INFO:     127.0.0.1:61705 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:30:05,650 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:30:07,255 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:30:07,255 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:30:07,255 INFO sqlalchemy.engine.Engine [cached since 1173s ago] ('dr_jhatka',)
2025-12-23 16:30:07,257 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:30:07,257 INFO sqlalchemy.engine.Engine [cached since 1173s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:30:07,258 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:30:07,258 INFO sqlalchemy.engine.Engine [cached since 1173s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61705 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:30:07,259 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:30:08,026 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:30:08,027 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:30:08,027 INFO sqlalchemy.engine.Engine [cached since 1174s ago] ('dr_jhatka',)
2025-12-23 16:30:08,031 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:30:08,031 INFO sqlalchemy.engine.Engine [cached since 1174s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:30:08,031 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:30:08,031 INFO sqlalchemy.engine.Engine [cached since 1174s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61705 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:30:08,032 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:30:08,336 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:30:08,336 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:30:08,337 INFO sqlalchemy.engine.Engine [cached since 1174s ago] ('dr_jhatka',)
2025-12-23 16:30:08,347 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:30:08,347 INFO sqlalchemy.engine.Engine [cached since 1173s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61705 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:30:08,354 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61705 - "OPTIONS /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:30:10,116 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:30:10,116 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:30:10,116 INFO sqlalchemy.engine.Engine [cached since 1176s ago] ('dr_jhatka',)
2025-12-23 16:30:10,118 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:30:10,118 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:30:10,118 INFO sqlalchemy.engine.Engine [cached since 1176s ago] ('dr_jhatka',)
2025-12-23 16:30:10,120 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:30:10,120 INFO sqlalchemy.engine.Engine [cached since 1176s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:30:10,121 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:30:10,121 INFO sqlalchemy.engine.Engine [cached since 1176s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:30:10,122 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:30:10,122 INFO sqlalchemy.engine.Engine [cached since 1176s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:30:10,126 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:30:10,126 INFO sqlalchemy.engine.Engine [cached since 1157s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
INFO:     127.0.0.1:61706 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:30:10,127 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:30:10,130 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:30:10,130 INFO sqlalchemy.engine.Engine [cached since 1157s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:30:10,134 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:30:10,134 INFO sqlalchemy.engine.Engine [cached since 1157s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
2025-12-23 16:30:10,134 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:30:10,134 INFO sqlalchemy.engine.Engine [cached since 1157s ago] ('105665a6-7042-4a44-a69b-8eef6aff87e8',)
INFO:     127.0.0.1:61705 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:30:10,135 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:30:13,235 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:30:13,236 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:30:13,236 INFO sqlalchemy.engine.Engine [cached since 1179s ago] ('dr_jhatka',)
2025-12-23 16:30:13,239 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:30:13,239 INFO sqlalchemy.engine.Engine [cached since 1179s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:30:13,240 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:30:13,240 INFO sqlalchemy.engine.Engine [cached since 1179s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61706 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:30:13,241 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:30:13,564 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:30:13,564 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:30:13,564 INFO sqlalchemy.engine.Engine [cached since 1179s ago] ('dr_jhatka',)
2025-12-23 16:30:13,568 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:30:13,568 INFO sqlalchemy.engine.Engine [cached since 1179s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61705 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:30:13,571 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61706 - "OPTIONS /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:30:14,881 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:30:14,882 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:30:14,882 INFO sqlalchemy.engine.Engine [cached since 1181s ago] ('dr_jhatka',)
2025-12-23 16:30:14,883 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:30:14,884 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:30:14,884 INFO sqlalchemy.engine.Engine [cached since 1181s ago] ('dr_jhatka',)
2025-12-23 16:30:14,886 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:30:14,886 INFO sqlalchemy.engine.Engine [cached since 1180s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:30:14,886 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:30:14,886 INFO sqlalchemy.engine.Engine [cached since 1180s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:30:14,887 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:30:14,887 INFO sqlalchemy.engine.Engine [cached since 1180s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:30:14,890 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = $1::VARCHAR AND patients.tenant_id = $2::VARCHAR
2025-12-23 16:30:14,890 INFO sqlalchemy.engine.Engine [cached since 1161s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427', '68923952-1085-4d0e-85bf-66bbbb8ad0c7')
INFO:     127.0.0.1:61705 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:30:14,890 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:30:14,892 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.recorded_at AS clinical_records_recorded_at, clinical_records.record_type AS clinical_records_record_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN ($1::VARCHAR)
2025-12-23 16:30:14,892 INFO sqlalchemy.engine.Engine [cached since 1161s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:30:14,893 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN ($1::VARCHAR)
2025-12-23 16:30:14,893 INFO sqlalchemy.engine.Engine [cached since 1161s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
2025-12-23 16:30:14,895 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN ($1::VARCHAR)
2025-12-23 16:30:14,895 INFO sqlalchemy.engine.Engine [cached since 1161s ago] ('7ee8cf3f-3595-4455-b525-8e4c9c6f1427',)
INFO:     127.0.0.1:61706 - "GET /patients/7ee8cf3f-3595-4455-b525-8e4c9c6f1427/profile HTTP/1.1" 200 OK
2025-12-23 16:30:14,896 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:30:18,750 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:30:18,750 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:30:18,750 INFO sqlalchemy.engine.Engine [cached since 1184s ago] ('dr_jhatka',)
2025-12-23 16:30:18,752 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = $1::VARCHAR
2025-12-23 16:30:18,752 INFO sqlalchemy.engine.Engine [cached since 1184s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
2025-12-23 16:30:18,753 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = $1::VARCHAR
2025-12-23 16:30:18,753 INFO sqlalchemy.engine.Engine [cached since 1184s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7',)
INFO:     127.0.0.1:61705 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:30:18,754 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:30:19,054 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:30:19,054 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = $1::VARCHAR
2025-12-23 16:30:19,055 INFO sqlalchemy.engine.Engine [cached since 1185s ago] ('dr_jhatka',)
2025-12-23 16:30:19,057 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = $1::VARCHAR 
 LIMIT $2::INTEGER OFFSET $3::INTEGER
2025-12-23 16:30:19,057 INFO sqlalchemy.engine.Engine [cached since 1184s ago] ('68923952-1085-4d0e-85bf-66bbbb8ad0c7', 10, 0)
INFO:     127.0.0.1:61706 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:30:19,060 INFO sqlalchemy.engine.Engine ROLLBACK
WARNING:  WatchFiles detected changes in 'test_api_create.py', 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [28449]
WARNING:  WatchFiles detected changes in 'debug_ops.py', 'main.py'. Reloading...
INFO:     Started server process [29062]
INFO:     Waiting for application startup.
2025-12-23 16:31:27,948 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 16:31:27,948 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 16:31:27,992 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 16:31:27,992 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 16:31:27,997 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 16:31:27,997 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 16:31:28,047 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:31:28,056 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:31:28,056 INFO sqlalchemy.engine.Engine [generated in 0.00034s] {'table_name': 'tenants', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:31:28,066 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:31:28,067 INFO sqlalchemy.engine.Engine [cached since 0.01097s ago] {'table_name': 'tenant_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:31:28,068 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:31:28,068 INFO sqlalchemy.engine.Engine [cached since 0.01226s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:31:28,069 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:31:28,069 INFO sqlalchemy.engine.Engine [cached since 0.01363s ago] {'table_name': 'patients', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:31:28,070 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:31:28,070 INFO sqlalchemy.engine.Engine [cached since 0.01409s ago] {'table_name': 'clinical_records', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:31:28,071 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:31:28,071 INFO sqlalchemy.engine.Engine [cached since 0.01503s ago] {'table_name': 'appointments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:31:28,072 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:31:28,072 INFO sqlalchemy.engine.Engine [cached since 0.01599s ago] {'table_name': 'attachments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:31:28,072 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:31:28,072 INFO sqlalchemy.engine.Engine [cached since 0.01666s ago] {'table_name': 'prescriptions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:31:28,073 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:31:28,073 INFO sqlalchemy.engine.Engine [cached since 0.01784s ago] {'table_name': 'invoices', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:31:28,075 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'seed_apollo.py', 'database.py', 'test_db_connection.py', 'inspect_schema.py', 'main.py', 'fix_schema.py', 'models.py'. Reloading...
INFO:     Started server process [29075]
INFO:     Waiting for application startup.
2025-12-23 16:31:29,271 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 16:31:29,271 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 16:31:29,273 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 16:31:29,273 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 16:31:29,273 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 16:31:29,273 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 16:31:29,275 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:31:29,277 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:31:29,277 INFO sqlalchemy.engine.Engine [generated in 0.00010s] {'table_name': 'tenants', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:31:29,280 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:31:29,280 INFO sqlalchemy.engine.Engine [cached since 0.002982s ago] {'table_name': 'tenant_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:31:29,281 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:31:29,281 INFO sqlalchemy.engine.Engine [cached since 0.003696s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:31:29,281 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:31:29,281 INFO sqlalchemy.engine.Engine [cached since 0.004224s ago] {'table_name': 'patients', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:31:29,282 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:31:29,282 INFO sqlalchemy.engine.Engine [cached since 0.004683s ago] {'table_name': 'clinical_records', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:31:29,282 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:31:29,282 INFO sqlalchemy.engine.Engine [cached since 0.005001s ago] {'table_name': 'appointments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:31:29,283 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:31:29,283 INFO sqlalchemy.engine.Engine [cached since 0.005502s ago] {'table_name': 'attachments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:31:29,283 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:31:29,283 INFO sqlalchemy.engine.Engine [cached since 0.005781s ago] {'table_name': 'prescriptions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:31:29,283 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:31:29,283 INFO sqlalchemy.engine.Engine [cached since 0.006034s ago] {'table_name': 'invoices', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:31:29,283 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     Started server process [29080]
INFO:     Waiting for application startup.
2025-12-23 16:31:30,332 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 16:31:30,333 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 16:31:30,336 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 16:31:30,336 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 16:31:30,337 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 16:31:30,337 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 16:31:30,341 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:31:30,345 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:31:30,345 INFO sqlalchemy.engine.Engine [generated in 0.00031s] {'table_name': 'tenants', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:31:30,347 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:31:30,347 INFO sqlalchemy.engine.Engine [cached since 0.0025s ago] {'table_name': 'tenant_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:31:30,348 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:31:30,348 INFO sqlalchemy.engine.Engine [cached since 0.00335s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:31:30,349 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:31:30,349 INFO sqlalchemy.engine.Engine [cached since 0.003874s ago] {'table_name': 'patients', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:31:30,349 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:31:30,349 INFO sqlalchemy.engine.Engine [cached since 0.004559s ago] {'table_name': 'clinical_records', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:31:30,350 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:31:30,350 INFO sqlalchemy.engine.Engine [cached since 0.005149s ago] {'table_name': 'appointments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:31:30,350 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:31:30,350 INFO sqlalchemy.engine.Engine [cached since 0.005533s ago] {'table_name': 'attachments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:31:30,351 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:31:30,351 INFO sqlalchemy.engine.Engine [cached since 0.005779s ago] {'table_name': 'prescriptions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:31:30,351 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:31:30,351 INFO sqlalchemy.engine.Engine [cached since 0.006006s ago] {'table_name': 'invoices', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:31:30,351 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-12-23 16:31:30,365 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:31:30,373 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:31:30,373 INFO sqlalchemy.engine.Engine [generated in 0.00011s] {'username_1': 'apollo_admin'}
2025-12-23 16:31:30,381 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:31:30,382 INFO sqlalchemy.engine.Engine [generated in 0.00009s] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:61735 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:31:30,384 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:31:30,389 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:31:30,389 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:31:30,389 INFO sqlalchemy.engine.Engine [cached since 0.01662s ago] {'username_1': 'apollo_admin'}
2025-12-23 16:31:30,390 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:31:30,391 INFO sqlalchemy.engine.Engine [cached since 0.00907s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:61735 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:31:30,391 INFO sqlalchemy.engine.Engine ROLLBACK
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [29080]
INFO:     Started server process [29129]
INFO:     Waiting for application startup.
2025-12-23 16:34:34,988 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 16:34:34,988 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 16:34:34,990 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 16:34:34,990 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 16:34:34,990 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 16:34:34,990 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 16:34:34,992 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:34:34,994 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:34:34,994 INFO sqlalchemy.engine.Engine [generated in 0.00009s] {'table_name': 'tenants', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:34:34,995 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:34:34,995 INFO sqlalchemy.engine.Engine [cached since 0.001552s ago] {'table_name': 'tenant_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:34:34,996 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:34:34,996 INFO sqlalchemy.engine.Engine [cached since 0.001916s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:34:34,996 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:34:34,996 INFO sqlalchemy.engine.Engine [cached since 0.002214s ago] {'table_name': 'patients', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:34:34,996 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:34:34,996 INFO sqlalchemy.engine.Engine [cached since 0.002488s ago] {'table_name': 'clinical_records', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:34:34,996 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:34:34,996 INFO sqlalchemy.engine.Engine [cached since 0.002746s ago] {'table_name': 'appointments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:34:34,997 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:34:34,997 INFO sqlalchemy.engine.Engine [cached since 0.003106s ago] {'table_name': 'attachments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:34:34,997 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:34:34,997 INFO sqlalchemy.engine.Engine [cached since 0.003344s ago] {'table_name': 'prescriptions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:34:34,997 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:34:34,997 INFO sqlalchemy.engine.Engine [cached since 0.003575s ago] {'table_name': 'invoices', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:34:34,997 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-12-23 16:34:52,204 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:34:52,241 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:34:52,241 INFO sqlalchemy.engine.Engine [generated in 0.00236s] {'username_1': 'dr_jhatka'}
2025-12-23 16:34:52,300 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:34:52,300 INFO sqlalchemy.engine.Engine [generated in 0.00016s] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:61802 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:34:52,304 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:34:54,012 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:34:54,013 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:34:54,013 INFO sqlalchemy.engine.Engine [cached since 1.774s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:34:54,017 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:34:54,017 INFO sqlalchemy.engine.Engine [cached since 1.717s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:61802 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:34:54,018 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:34:54,360 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:34:54,360 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:34:54,360 INFO sqlalchemy.engine.Engine [cached since 2.121s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:34:54,364 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 16:34:54,364 INFO sqlalchemy.engine.Engine [generated in 0.00016s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:61802 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:34:54,374 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:34:55,968 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:34:55,969 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:34:55,969 INFO sqlalchemy.engine.Engine [cached since 3.73s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:34:55,972 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:34:55,972 INFO sqlalchemy.engine.Engine [cached since 3.672s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 16:34:55,979 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:34:55,979 INFO sqlalchemy.engine.Engine [generated in 0.00020s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 16:34:55,982 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:34:55,983 INFO sqlalchemy.engine.Engine [generated in 0.00035s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 16:34:55,985 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 16:34:55,986 INFO sqlalchemy.engine.Engine [generated in 0.00037s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:61802 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:34:55,991 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:34:56,033 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:34:56,034 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:34:56,034 INFO sqlalchemy.engine.Engine [cached since 3.795s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:34:56,036 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:34:56,037 INFO sqlalchemy.engine.Engine [cached since 3.736s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:61808 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:34:56,038 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:34:56,044 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:34:56,044 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:34:56,044 INFO sqlalchemy.engine.Engine [cached since 3.805s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:34:56,048 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:34:56,049 INFO sqlalchemy.engine.Engine [cached since 3.749s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 16:34:56,050 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:34:56,051 INFO sqlalchemy.engine.Engine [cached since 0.07217s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 16:34:56,051 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:34:56,051 INFO sqlalchemy.engine.Engine [cached since 0.0692s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 16:34:56,052 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 16:34:56,052 INFO sqlalchemy.engine.Engine [cached since 0.06703s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:61802 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:34:56,053 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:34:57,147 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:34:57,148 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:34:57,148 INFO sqlalchemy.engine.Engine [cached since 4.909s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:34:57,149 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:34:57,149 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:34:57,149 INFO sqlalchemy.engine.Engine [cached since 4.91s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:34:57,156 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 16:34:57,156 INFO sqlalchemy.engine.Engine [generated in 0.00020s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 200}
2025-12-23 16:34:57,157 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 16:34:57,157 INFO sqlalchemy.engine.Engine [cached since 2.793s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 100, 'param_2': 0}
INFO:     127.0.0.1:61802 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 16:34:57,161 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61808 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 16:34:57,162 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:34:57,192 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:34:57,192 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:34:57,193 INFO sqlalchemy.engine.Engine [cached since 4.954s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:34:57,193 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:34:57,193 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:34:57,193 INFO sqlalchemy.engine.Engine [cached since 4.955s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:34:57,196 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:34:57,196 INFO sqlalchemy.engine.Engine [cached since 4.896s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 16:34:57,198 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:34:57,198 INFO sqlalchemy.engine.Engine [generated in 0.00016s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:61811 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:34:57,201 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61810 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:34:57,202 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:34:58,006 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:34:58,007 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:34:58,007 INFO sqlalchemy.engine.Engine [cached since 5.768s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:34:58,009 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:34:58,009 INFO sqlalchemy.engine.Engine [cached since 5.709s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:61802 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:34:58,011 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:34:58,309 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:34:58,310 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:34:58,310 INFO sqlalchemy.engine.Engine [cached since 6.071s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:34:58,313 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 16:34:58,313 INFO sqlalchemy.engine.Engine [cached since 3.949s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:61808 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:34:58,317 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:34:58,858 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:34:58,858 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:34:58,858 INFO sqlalchemy.engine.Engine [cached since 6.619s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:34:58,860 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:34:58,860 INFO sqlalchemy.engine.Engine [cached since 6.56s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:61811 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:34:58,861 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:34:59,837 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:34:59,837 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:34:59,837 INFO sqlalchemy.engine.Engine [cached since 7.599s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:34:59,838 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:34:59,838 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:34:59,838 INFO sqlalchemy.engine.Engine [cached since 7.599s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:34:59,839 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:34:59,839 INFO sqlalchemy.engine.Engine [cached since 7.539s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 16:34:59,840 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:34:59,840 INFO sqlalchemy.engine.Engine [cached since 7.54s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:61802 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:34:59,840 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:34:59,841 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:34:59,841 INFO sqlalchemy.engine.Engine [cached since 3.863s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 16:34:59,842 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:34:59,842 INFO sqlalchemy.engine.Engine [cached since 3.86s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 16:34:59,843 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 16:34:59,843 INFO sqlalchemy.engine.Engine [cached since 3.858s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:61810 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:34:59,844 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:35:01,132 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:35:01,132 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:35:01,133 INFO sqlalchemy.engine.Engine [cached since 8.894s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:35:01,135 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:35:01,135 INFO sqlalchemy.engine.Engine [cached since 8.835s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:61808 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:35:01,136 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:35:01,438 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:35:01,439 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:35:01,439 INFO sqlalchemy.engine.Engine [cached since 9.2s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:35:01,442 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 16:35:01,442 INFO sqlalchemy.engine.Engine [cached since 7.078s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:61811 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:35:01,447 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:37:33,896 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:37:33,901 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:37:33,903 INFO sqlalchemy.engine.Engine [cached since 161.7s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:37:33,932 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:37:33,932 INFO sqlalchemy.engine.Engine [cached since 161.6s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:61888 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:37:33,933 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:37:34,268 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:37:34,268 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:37:34,269 INFO sqlalchemy.engine.Engine [cached since 162s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:37:34,278 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 16:37:34,279 INFO sqlalchemy.engine.Engine [cached since 159.9s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:61888 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:37:34,287 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:37:35,831 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:37:35,832 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:37:35,832 INFO sqlalchemy.engine.Engine [cached since 163.6s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:37:35,833 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:37:35,833 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:37:35,833 INFO sqlalchemy.engine.Engine [cached since 163.6s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:37:35,836 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:37:35,836 INFO sqlalchemy.engine.Engine [cached since 163.5s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 16:37:35,853 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = %(id_1)s::VARCHAR AND patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:37:35,853 INFO sqlalchemy.engine.Engine [generated in 0.00020s] {'id_1': '105665a6-7042-4a44-a69b-8eef6aff87e8', 'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:61889 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:37:35,855 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:37:35,861 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN (%(primary_keys_1)s::VARCHAR)
2025-12-23 16:37:35,861 INFO sqlalchemy.engine.Engine [generated in 0.00020s] {'primary_keys_1': '105665a6-7042-4a44-a69b-8eef6aff87e8'}
2025-12-23 16:37:35,864 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN (%(primary_keys_1)s::VARCHAR)
2025-12-23 16:37:35,864 INFO sqlalchemy.engine.Engine [generated in 0.00012s] {'primary_keys_1': '105665a6-7042-4a44-a69b-8eef6aff87e8'}
2025-12-23 16:37:35,868 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.date AS clinical_records_date, clinical_records.type AS clinical_records_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN (%(primary_keys_1)s::VARCHAR)
2025-12-23 16:37:35,868 INFO sqlalchemy.engine.Engine [generated in 0.00007s] {'primary_keys_1': '105665a6-7042-4a44-a69b-8eef6aff87e8'}
INFO:     127.0.0.1:61888 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:37:35,873 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:37:39,419 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:37:39,419 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:37:39,419 INFO sqlalchemy.engine.Engine [cached since 167.2s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:37:39,421 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:37:39,421 INFO sqlalchemy.engine.Engine [cached since 167.1s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:61889 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:37:39,423 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:37:39,735 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:37:39,735 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:37:39,736 INFO sqlalchemy.engine.Engine [cached since 167.5s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:37:39,737 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 16:37:39,737 INFO sqlalchemy.engine.Engine [cached since 165.4s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:61888 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:37:39,739 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:37:41,553 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:37:41,554 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:37:41,554 INFO sqlalchemy.engine.Engine [cached since 169.3s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:37:41,555 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:37:41,555 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:37:41,555 INFO sqlalchemy.engine.Engine [cached since 169.3s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:37:41,557 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:37:41,557 INFO sqlalchemy.engine.Engine [cached since 169.3s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 16:37:41,558 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:37:41,559 INFO sqlalchemy.engine.Engine [cached since 169.3s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 16:37:41,560 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:37:41,560 INFO sqlalchemy.engine.Engine [cached since 165.6s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:61888 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:37:41,560 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:37:41,563 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:37:41,563 INFO sqlalchemy.engine.Engine [cached since 165.6s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 16:37:41,564 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 16:37:41,564 INFO sqlalchemy.engine.Engine [cached since 165.6s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:61889 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:37:41,567 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:37:45,816 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:37:45,816 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:37:45,816 INFO sqlalchemy.engine.Engine [cached since 173.6s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:37:45,817 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:37:45,818 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:37:45,818 INFO sqlalchemy.engine.Engine [cached since 173.6s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:37:45,819 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:37:45,820 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:37:45,820 INFO sqlalchemy.engine.Engine [cached since 173.6s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:37:45,834 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:37:45,835 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:37:45,835 INFO sqlalchemy.engine.Engine [cached since 173.6s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:37:45,836 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 16:37:45,836 INFO sqlalchemy.engine.Engine [cached since 168.7s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 200}
2025-12-23 16:37:45,836 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 16:37:45,836 INFO sqlalchemy.engine.Engine [cached since 171.5s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 100, 'param_2': 0}
INFO:     127.0.0.1:61889 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 16:37:45,838 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:37:45,839 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:37:45,839 INFO sqlalchemy.engine.Engine [cached since 168.6s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 16:37:45,840 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:37:45,840 INFO sqlalchemy.engine.Engine [cached since 173.5s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:61888 - "GET /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:61891 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:37:45,840 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:37:45,840 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61892 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:37:45,841 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:37:47,124 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:37:47,124 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:37:47,124 INFO sqlalchemy.engine.Engine [cached since 174.9s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:37:47,126 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:37:47,126 INFO sqlalchemy.engine.Engine [cached since 174.8s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:61889 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:37:47,128 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:37:47,428 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:37:47,429 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:37:47,429 INFO sqlalchemy.engine.Engine [cached since 175.2s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:37:47,432 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 16:37:47,433 INFO sqlalchemy.engine.Engine [cached since 173.1s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:61888 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:37:47,436 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:37:48,151 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:37:48,151 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:37:48,151 INFO sqlalchemy.engine.Engine [cached since 175.9s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:37:48,153 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:37:48,153 INFO sqlalchemy.engine.Engine [cached since 175.9s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:61891 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:37:48,154 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:37:49,494 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:37:49,495 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:37:49,495 INFO sqlalchemy.engine.Engine [cached since 177.3s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:37:49,497 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:37:49,498 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:37:49,498 INFO sqlalchemy.engine.Engine [cached since 177.3s ago] {'username_1': 'dr_jhatka'}
2025-12-23 16:37:49,501 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:37:49,501 INFO sqlalchemy.engine.Engine [cached since 177.2s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 16:37:49,502 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:37:49,502 INFO sqlalchemy.engine.Engine [cached since 177.2s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:61889 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:37:49,503 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:37:49,504 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:37:49,504 INFO sqlalchemy.engine.Engine [cached since 173.5s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 16:37:49,505 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:37:49,505 INFO sqlalchemy.engine.Engine [cached since 173.5s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 16:37:49,506 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 16:37:49,506 INFO sqlalchemy.engine.Engine [cached since 173.5s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:61892 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:37:49,508 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:37:57,878 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:37:57,879 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:37:57,879 INFO sqlalchemy.engine.Engine [cached since 185.6s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:61895 - "POST /token HTTP/1.1" 200 OK
2025-12-23 16:37:58,132 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:37:58,148 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:37:58,148 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:37:58,148 INFO sqlalchemy.engine.Engine [cached since 185.9s ago] {'username_1': 'admin'}
2025-12-23 16:37:58,150 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:37:58,150 INFO sqlalchemy.engine.Engine [cached since 185.8s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:61895 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:37:58,151 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:37:58,168 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:37:58,168 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:37:58,169 INFO sqlalchemy.engine.Engine [cached since 185.9s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:61896 - "OPTIONS /tenants HTTP/1.1" 200 OK
INFO:     127.0.0.1:61897 - "OPTIONS /stats/growth HTTP/1.1" 200 OK
2025-12-23 16:37:58,171 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:37:58,171 INFO sqlalchemy.engine.Engine [cached since 185.9s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:37:58,172 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:37:58,173 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:37:58,173 INFO sqlalchemy.engine.Engine [cached since 185.9s ago] {'username_1': 'admin'}
2025-12-23 16:37:58,174 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:37:58,174 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:37:58,174 INFO sqlalchemy.engine.Engine [cached since 185.9s ago] {'username_1': 'admin'}
2025-12-23 16:37:58,175 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 16:37:58,175 INFO sqlalchemy.engine.Engine [generated in 0.00006s] {}
2025-12-23 16:37:58,175 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:37:58,175 INFO sqlalchemy.engine.Engine [cached since 185.9s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:37:58,176 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:37:58,176 INFO sqlalchemy.engine.Engine [cached since 185.9s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:61897 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 16:37:58,177 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 16:37:58,177 INFO sqlalchemy.engine.Engine [generated in 0.00006s] {}
2025-12-23 16:37:58,177 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:37:58,177 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:37:58,177 INFO sqlalchemy.engine.Engine [generated in 0.00005s] {}
2025-12-23 16:37:58,179 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE tenants.is_super_admin = false AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:37:58,179 INFO sqlalchemy.engine.Engine [generated in 0.00009s] {'roles_1': Jsonb(['admin'])}
2025-12-23 16:37:58,179 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:37:58,179 INFO sqlalchemy.engine.Engine [generated in 0.00005s] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 16:37:58,180 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:37:58,180 INFO sqlalchemy.engine.Engine [cached since 0.0008176s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:61896 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:37:58,181 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61895 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:37:58,182 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:38:13,389 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:38:13,391 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:38:13,391 INFO sqlalchemy.engine.Engine [cached since 201.2s ago] {'username_1': 'admin'}
2025-12-23 16:38:13,392 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:38:13,392 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:38:13,392 INFO sqlalchemy.engine.Engine [cached since 201.2s ago] {'username_1': 'admin'}
2025-12-23 16:38:13,397 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:38:13,397 INFO sqlalchemy.engine.Engine [cached since 201.1s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:38:13,397 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:38:13,397 INFO sqlalchemy.engine.Engine [cached since 201.1s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:61900 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:38:13,398 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:38:13,399 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:38:13,399 INFO sqlalchemy.engine.Engine [cached since 15.22s ago] {}
2025-12-23 16:38:13,400 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:38:13,400 INFO sqlalchemy.engine.Engine [cached since 15.22s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 16:38:13,401 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:38:13,401 INFO sqlalchemy.engine.Engine [cached since 15.22s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:61899 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:38:13,402 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:38:15,480 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:38:15,480 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:38:15,480 INFO sqlalchemy.engine.Engine [cached since 203.2s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:61899 - "OPTIONS /settings HTTP/1.1" 200 OK
2025-12-23 16:38:15,482 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:38:15,483 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:38:15,483 INFO sqlalchemy.engine.Engine [cached since 203.2s ago] {'username_1': 'admin'}
2025-12-23 16:38:15,484 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:38:15,485 INFO sqlalchemy.engine.Engine [cached since 198.3s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:38:15,487 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:38:15,487 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:38:15,487 INFO sqlalchemy.engine.Engine [cached since 203.2s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:61900 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:38:15,489 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:38:15,489 INFO sqlalchemy.engine.Engine [cached since 203.2s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:38:15,490 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61901 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:38:15,491 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:38:15,494 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:38:15,494 INFO sqlalchemy.engine.Engine [generated in 0.00017s] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:61899 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 16:38:15,498 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:39:01,829 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:39:01,833 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:39:01,834 INFO sqlalchemy.engine.Engine [cached since 249.6s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:61911 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 16:39:01,842 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:39:01,843 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:39:01,843 INFO sqlalchemy.engine.Engine [cached since 249.6s ago] {'username_1': 'admin'}
2025-12-23 16:39:01,874 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:39:01,874 INFO sqlalchemy.engine.Engine [cached since 249.6s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:39:01,875 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:39:01,875 INFO sqlalchemy.engine.Engine [cached since 249.6s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:39:01,875 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:39:01,875 INFO sqlalchemy.engine.Engine [cached since 63.7s ago] {}
INFO:     127.0.0.1:61911 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:39:01,878 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:39:01,880 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:39:01,880 INFO sqlalchemy.engine.Engine [cached since 63.7s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 16:39:01,882 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:39:01,882 INFO sqlalchemy.engine.Engine [cached since 63.7s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:61910 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:39:01,882 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61911 - "OPTIONS /users HTTP/1.1" 200 OK
2025-12-23 16:39:02,605 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:39:02,605 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:39:02,605 INFO sqlalchemy.engine.Engine [cached since 250.4s ago] {'username_1': 'admin'}
2025-12-23 16:39:02,606 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:39:02,606 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:39:02,606 INFO sqlalchemy.engine.Engine [cached since 250.4s ago] {'username_1': 'admin'}
2025-12-23 16:39:02,608 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:39:02,608 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:39:02,608 INFO sqlalchemy.engine.Engine [cached since 250.4s ago] {'username_1': 'admin'}
2025-12-23 16:39:02,609 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:39:02,609 INFO sqlalchemy.engine.Engine [cached since 47.11s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:39:02,609 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:39:02,609 INFO sqlalchemy.engine.Engine [cached since 245.4s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:61911 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:39:02,611 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:39:02,612 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:39:02,612 INFO sqlalchemy.engine.Engine [cached since 250.3s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:61912 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:39:02,613 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61910 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 16:39:02,614 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61914 - "OPTIONS /register HTTP/1.1" 200 OK
INFO:     127.0.0.1:61914 - "POST /register HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:61948 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:41:25,907 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:41:25,909 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:41:25,909 INFO sqlalchemy.engine.Engine [cached since 393.7s ago] {'username_1': 'admin'}
2025-12-23 16:41:25,911 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:41:25,912 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:41:25,912 INFO sqlalchemy.engine.Engine [cached since 393.7s ago] {'username_1': 'admin'}
2025-12-23 16:41:25,912 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:41:25,912 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:41:25,912 INFO sqlalchemy.engine.Engine [cached since 393.7s ago] {'username_1': 'admin'}
2025-12-23 16:41:25,912 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:41:25,912 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:41:25,914 INFO sqlalchemy.engine.Engine [cached since 393.7s ago] {'username_1': 'admin'}
2025-12-23 16:41:25,935 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:41:25,935 INFO sqlalchemy.engine.Engine [cached since 393.6s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:41:25,935 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:41:25,935 INFO sqlalchemy.engine.Engine [cached since 393.6s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:41:25,935 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:41:25,936 INFO sqlalchemy.engine.Engine [cached since 393.6s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:41:25,936 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:41:25,936 INFO sqlalchemy.engine.Engine [cached since 393.6s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:41:25,938 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 16:41:25,938 INFO sqlalchemy.engine.Engine [cached since 207.8s ago] {}
INFO:     127.0.0.1:61951 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:41:25,939 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:41:25,939 INFO sqlalchemy.engine.Engine [cached since 207.8s ago] {}
2025-12-23 16:41:25,939 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61950 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 16:41:25,939 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:41:25,940 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:41:25,940 INFO sqlalchemy.engine.Engine [cached since 207.8s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 16:41:25,940 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:41:25,940 INFO sqlalchemy.engine.Engine [cached since 207.8s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 16:41:25,942 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 16:41:25,942 INFO sqlalchemy.engine.Engine [cached since 207.8s ago] {}
INFO:     127.0.0.1:61949 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:41:25,942 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:41:25,942 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE tenants.is_super_admin = false AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:41:25,942 INFO sqlalchemy.engine.Engine [cached since 207.8s ago] {'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:61948 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:41:25,946 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:41:25,948 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:41:25,948 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:41:25,948 INFO sqlalchemy.engine.Engine [cached since 393.7s ago] {'username_1': 'admin'}
2025-12-23 16:41:25,949 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:41:25,949 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:41:25,949 INFO sqlalchemy.engine.Engine [cached since 393.7s ago] {'username_1': 'admin'}
2025-12-23 16:41:25,950 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:41:25,950 INFO sqlalchemy.engine.Engine [cached since 393.6s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:41:25,950 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:41:25,950 INFO sqlalchemy.engine.Engine [cached since 393.6s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:41:25,951 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:41:25,951 INFO sqlalchemy.engine.Engine [cached since 207.8s ago] {}
INFO:     127.0.0.1:61950 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 16:41:25,951 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:41:25,951 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:41:25,951 INFO sqlalchemy.engine.Engine [cached since 207.8s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 16:41:25,952 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:41:25,952 INFO sqlalchemy.engine.Engine [cached since 207.8s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:61951 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:41:25,953 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:41:29,283 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:41:29,284 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:41:29,284 INFO sqlalchemy.engine.Engine [cached since 397s ago] {'username_1': 'admin'}
2025-12-23 16:41:29,285 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:41:29,285 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:41:29,285 INFO sqlalchemy.engine.Engine [cached since 397s ago] {'username_1': 'admin'}
2025-12-23 16:41:29,287 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:41:29,287 INFO sqlalchemy.engine.Engine [cached since 397s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:41:29,288 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:41:29,288 INFO sqlalchemy.engine.Engine [cached since 397s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:61948 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:41:29,288 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:41:29,289 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:41:29,289 INFO sqlalchemy.engine.Engine [cached since 211.1s ago] {}
2025-12-23 16:41:29,290 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:41:29,290 INFO sqlalchemy.engine.Engine [cached since 211.1s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 16:41:29,290 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:41:29,291 INFO sqlalchemy.engine.Engine [cached since 211.1s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:61949 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:41:29,291 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:41:42,371 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:41:42,377 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:41:42,378 INFO sqlalchemy.engine.Engine [cached since 410.1s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:61969 - "POST /token HTTP/1.1" 200 OK
2025-12-23 16:41:42,671 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:41:42,699 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:41:42,699 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:41:42,699 INFO sqlalchemy.engine.Engine [cached since 410.5s ago] {'username_1': 'admin'}
2025-12-23 16:41:42,704 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:41:42,704 INFO sqlalchemy.engine.Engine [cached since 410.4s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:61969 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:41:42,706 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:41:42,730 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:41:42,731 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:41:42,731 INFO sqlalchemy.engine.Engine [cached since 410.5s ago] {'username_1': 'admin'}
2025-12-23 16:41:42,732 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:41:42,732 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:41:42,732 INFO sqlalchemy.engine.Engine [cached since 410.5s ago] {'username_1': 'admin'}
2025-12-23 16:41:42,732 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:41:42,733 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:41:42,733 INFO sqlalchemy.engine.Engine [cached since 410.5s ago] {'username_1': 'admin'}
2025-12-23 16:41:42,734 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:41:42,734 INFO sqlalchemy.engine.Engine [cached since 410.4s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:41:42,735 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:41:42,735 INFO sqlalchemy.engine.Engine [cached since 410.4s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:61971 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 16:41:42,736 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:41:42,736 INFO sqlalchemy.engine.Engine [cached since 410.4s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:41:42,736 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:41:42,737 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 16:41:42,737 INFO sqlalchemy.engine.Engine [cached since 224.6s ago] {}
2025-12-23 16:41:42,737 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:41:42,737 INFO sqlalchemy.engine.Engine [cached since 224.6s ago] {}
2025-12-23 16:41:42,739 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 16:41:42,739 INFO sqlalchemy.engine.Engine [cached since 224.6s ago] {}
2025-12-23 16:41:42,739 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:41:42,739 INFO sqlalchemy.engine.Engine [cached since 224.6s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 16:41:42,740 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE tenants.is_super_admin = false AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:41:42,740 INFO sqlalchemy.engine.Engine [cached since 224.6s ago] {'roles_1': Jsonb(['admin'])}
2025-12-23 16:41:42,740 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:41:42,740 INFO sqlalchemy.engine.Engine [cached since 224.6s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:61970 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:41:42,741 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61969 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:41:42,741 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:42:09,323 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:42:09,327 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:42:09,327 INFO sqlalchemy.engine.Engine [cached since 437.1s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:61977 - "POST /token HTTP/1.1" 200 OK
2025-12-23 16:42:09,598 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:42:09,621 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:42:09,621 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:42:09,622 INFO sqlalchemy.engine.Engine [cached since 437.4s ago] {'username_1': 'admin'}
2025-12-23 16:42:09,624 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:42:09,624 INFO sqlalchemy.engine.Engine [cached since 437.3s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:61977 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:42:09,625 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:42:09,636 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:42:09,636 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:42:09,636 INFO sqlalchemy.engine.Engine [cached since 437.4s ago] {'username_1': 'admin'}
2025-12-23 16:42:09,637 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:42:09,637 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:42:09,637 INFO sqlalchemy.engine.Engine [cached since 437.4s ago] {'username_1': 'admin'}
2025-12-23 16:42:09,637 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:42:09,638 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:42:09,638 INFO sqlalchemy.engine.Engine [cached since 437.4s ago] {'username_1': 'admin'}
2025-12-23 16:42:09,638 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:42:09,638 INFO sqlalchemy.engine.Engine [cached since 437.3s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:42:09,639 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 16:42:09,639 INFO sqlalchemy.engine.Engine [cached since 251.5s ago] {}
2025-12-23 16:42:09,640 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:42:09,640 INFO sqlalchemy.engine.Engine [cached since 437.3s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:61979 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 16:42:09,644 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:42:09,644 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:42:09,645 INFO sqlalchemy.engine.Engine [cached since 437.3s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:42:09,645 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:42:09,645 INFO sqlalchemy.engine.Engine [cached since 251.5s ago] {}
2025-12-23 16:42:09,647 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:42:09,647 INFO sqlalchemy.engine.Engine [cached since 251.5s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 16:42:09,647 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:42:09,647 INFO sqlalchemy.engine.Engine [cached since 251.5s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:61978 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:42:09,648 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:42:09,648 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 16:42:09,648 INFO sqlalchemy.engine.Engine [cached since 251.5s ago] {}
2025-12-23 16:42:09,649 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE tenants.is_super_admin = false AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:42:09,649 INFO sqlalchemy.engine.Engine [cached since 251.5s ago] {'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:61977 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:42:09,652 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:42:10,790 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:42:10,791 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:42:10,791 INFO sqlalchemy.engine.Engine [cached since 438.6s ago] {'username_1': 'admin'}
2025-12-23 16:42:10,791 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:42:10,792 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:42:10,792 INFO sqlalchemy.engine.Engine [cached since 438.6s ago] {'username_1': 'admin'}
2025-12-23 16:42:10,793 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:42:10,793 INFO sqlalchemy.engine.Engine [cached since 438.5s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:42:10,793 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:42:10,793 INFO sqlalchemy.engine.Engine [cached since 438.5s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:61978 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:42:10,794 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:42:10,794 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:42:10,794 INFO sqlalchemy.engine.Engine [cached since 252.6s ago] {}
2025-12-23 16:42:10,799 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:42:10,800 INFO sqlalchemy.engine.Engine [cached since 252.6s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 16:42:10,801 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:42:10,801 INFO sqlalchemy.engine.Engine [cached since 252.6s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:61979 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:42:10,802 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:42:12,662 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:42:12,663 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:42:12,663 INFO sqlalchemy.engine.Engine [cached since 440.4s ago] {'username_1': 'admin'}
2025-12-23 16:42:12,664 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:42:12,664 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:42:12,664 INFO sqlalchemy.engine.Engine [cached since 440.4s ago] {'username_1': 'admin'}
2025-12-23 16:42:12,665 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:42:12,665 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:42:12,665 INFO sqlalchemy.engine.Engine [cached since 440.4s ago] {'username_1': 'admin'}
2025-12-23 16:42:12,666 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:42:12,667 INFO sqlalchemy.engine.Engine [cached since 435.5s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:42:12,667 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:42:12,667 INFO sqlalchemy.engine.Engine [cached since 237.2s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:42:12,668 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:42:12,668 INFO sqlalchemy.engine.Engine [cached since 440.4s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:61977 - "GET /users HTTP/1.1" 200 OK
INFO:     127.0.0.1:61978 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 16:42:12,670 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:42:12,670 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61979 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:42:12,670 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61991 - "OPTIONS /users HTTP/1.1" 200 OK
2025-12-23 16:42:26,835 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:42:26,835 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:42:26,835 INFO sqlalchemy.engine.Engine [cached since 454.6s ago] {'username_1': 'admin'}
2025-12-23 16:42:26,843 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:61991 - "POST /users HTTP/1.1" 403 Forbidden
2025-12-23 16:43:49,767 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:43:49,771 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:43:49,771 INFO sqlalchemy.engine.Engine [cached since 537.5s ago] {'username_1': 'admin'}
2025-12-23 16:43:49,793 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:43:49,793 INFO sqlalchemy.engine.Engine [cached since 537.5s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62027 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:43:49,794 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:43:49,811 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:43:49,812 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:43:49,812 INFO sqlalchemy.engine.Engine [cached since 537.6s ago] {'username_1': 'admin'}
2025-12-23 16:43:49,813 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:43:49,813 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:43:49,813 INFO sqlalchemy.engine.Engine [cached since 537.6s ago] {'username_1': 'admin'}
2025-12-23 16:43:49,815 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:43:49,815 INFO sqlalchemy.engine.Engine [cached since 532.6s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:43:49,815 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:43:49,815 INFO sqlalchemy.engine.Engine [cached since 334.3s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62027 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:43:49,816 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62028 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 16:43:49,817 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:44:06,914 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:44:06,915 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:44:06,915 INFO sqlalchemy.engine.Engine [cached since 554.7s ago] {'username_1': 'admin'}
2025-12-23 16:44:06,922 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62031 - "POST /users HTTP/1.1" 403 Forbidden
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [29129]
INFO:     Started server process [29524]
INFO:     Waiting for application startup.
2025-12-23 16:45:01,322 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 16:45:01,322 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 16:45:01,335 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 16:45:01,335 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 16:45:01,336 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 16:45:01,336 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 16:45:01,346 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:45:01,348 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:45:01,348 INFO sqlalchemy.engine.Engine [generated in 0.00010s] {'table_name': 'tenants', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:45:01,352 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:45:01,352 INFO sqlalchemy.engine.Engine [cached since 0.003981s ago] {'table_name': 'tenant_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:45:01,352 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:45:01,352 INFO sqlalchemy.engine.Engine [cached since 0.004369s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:45:01,352 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:45:01,352 INFO sqlalchemy.engine.Engine [cached since 0.004779s ago] {'table_name': 'patients', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:45:01,353 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:45:01,353 INFO sqlalchemy.engine.Engine [cached since 0.00509s ago] {'table_name': 'clinical_records', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:45:01,353 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:45:01,353 INFO sqlalchemy.engine.Engine [cached since 0.005386s ago] {'table_name': 'appointments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:45:01,354 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:45:01,354 INFO sqlalchemy.engine.Engine [cached since 0.005995s ago] {'table_name': 'attachments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:45:01,354 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:45:01,354 INFO sqlalchemy.engine.Engine [cached since 0.006271s ago] {'table_name': 'prescriptions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:45:01,354 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:45:01,354 INFO sqlalchemy.engine.Engine [cached since 0.006539s ago] {'table_name': 'invoices', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:45:01,354 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     127.0.0.1:62138 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 16:53:28,683 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:53:28,709 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:53:28,710 INFO sqlalchemy.engine.Engine [generated in 0.00286s] {'username_1': 'admin'}
2025-12-23 16:53:28,755 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:53:28,755 INFO sqlalchemy.engine.Engine [generated in 0.00009s] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62138 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:53:28,760 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62138 - "OPTIONS /users HTTP/1.1" 200 OK
INFO:     127.0.0.1:62139 - "OPTIONS /settings HTTP/1.1" 200 OK
2025-12-23 16:53:28,798 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:53:28,798 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:53:28,798 INFO sqlalchemy.engine.Engine [cached since 0.0915s ago] {'username_1': 'admin'}
2025-12-23 16:53:28,802 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:53:28,802 INFO sqlalchemy.engine.Engine [generated in 0.00014s] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62138 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:53:28,804 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:53:28,912 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:53:28,912 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:53:28,912 INFO sqlalchemy.engine.Engine [cached since 0.2056s ago] {'username_1': 'admin'}
2025-12-23 16:53:28,916 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:53:28,916 INFO sqlalchemy.engine.Engine [generated in 0.00019s] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62139 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 16:53:28,917 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:53:38,869 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:53:38,870 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:53:38,870 INFO sqlalchemy.engine.Engine [cached since 10.16s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:62145 - "POST /token HTTP/1.1" 200 OK
2025-12-23 16:53:39,130 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:53:39,149 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:53:39,150 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:53:39,150 INFO sqlalchemy.engine.Engine [cached since 10.44s ago] {'username_1': 'admin'}
2025-12-23 16:53:39,155 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:53:39,155 INFO sqlalchemy.engine.Engine [cached since 10.4s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62145 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:53:39,157 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62145 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
INFO:     127.0.0.1:62146 - "OPTIONS /tenants HTTP/1.1" 200 OK
2025-12-23 16:53:39,183 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:53:39,183 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:53:39,184 INFO sqlalchemy.engine.Engine [cached since 10.48s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:62147 - "OPTIONS /stats/growth HTTP/1.1" 200 OK
2025-12-23 16:53:39,184 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:53:39,184 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:53:39,184 INFO sqlalchemy.engine.Engine [cached since 10.48s ago] {'username_1': 'admin'}
2025-12-23 16:53:39,186 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:53:39,186 INFO sqlalchemy.engine.Engine [cached since 10.43s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:53:39,186 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:53:39,186 INFO sqlalchemy.engine.Engine [cached since 10.43s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:53:39,189 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 16:53:39,189 INFO sqlalchemy.engine.Engine [generated in 0.00018s] {}
2025-12-23 16:53:39,190 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:53:39,190 INFO sqlalchemy.engine.Engine [generated in 0.00013s] {}
2025-12-23 16:53:39,193 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 16:53:39,193 INFO sqlalchemy.engine.Engine [generated in 0.00008s] {}
2025-12-23 16:53:39,194 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:53:39,194 INFO sqlalchemy.engine.Engine [generated in 0.00011s] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 16:53:39,199 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE tenants.is_super_admin = false AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:53:39,199 INFO sqlalchemy.engine.Engine [generated in 0.00009s] {'roles_1': Jsonb(['admin'])}
2025-12-23 16:53:39,199 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:53:39,199 INFO sqlalchemy.engine.Engine [cached since 0.005656s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62146 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:53:39,201 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62145 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:53:39,203 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:53:39,241 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:53:39,241 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:53:39,241 INFO sqlalchemy.engine.Engine [cached since 10.53s ago] {'username_1': 'admin'}
2025-12-23 16:53:39,243 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:53:39,243 INFO sqlalchemy.engine.Engine [cached since 10.49s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62147 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 16:53:39,244 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:53:41,577 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:53:41,577 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:53:41,577 INFO sqlalchemy.engine.Engine [cached since 12.87s ago] {'username_1': 'admin'}
2025-12-23 16:53:41,578 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:53:41,578 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:53:41,579 INFO sqlalchemy.engine.Engine [cached since 12.87s ago] {'username_1': 'admin'}
2025-12-23 16:53:41,580 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:53:41,580 INFO sqlalchemy.engine.Engine [cached since 12.83s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:53:41,581 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:53:41,581 INFO sqlalchemy.engine.Engine [cached since 12.83s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:53:41,582 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:53:41,582 INFO sqlalchemy.engine.Engine [cached since 2.392s ago] {}
INFO:     127.0.0.1:62145 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:53:41,583 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:53:41,584 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:53:41,584 INFO sqlalchemy.engine.Engine [cached since 2.39s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 16:53:41,586 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:53:41,586 INFO sqlalchemy.engine.Engine [cached since 2.392s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62146 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:53:41,587 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:53:43,948 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:53:43,948 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:53:43,948 INFO sqlalchemy.engine.Engine [cached since 15.24s ago] {'username_1': 'admin'}
2025-12-23 16:53:43,949 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:53:43,949 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:53:43,949 INFO sqlalchemy.engine.Engine [cached since 15.24s ago] {'username_1': 'admin'}
2025-12-23 16:53:43,950 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:53:43,950 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:53:43,950 INFO sqlalchemy.engine.Engine [cached since 15.24s ago] {'username_1': 'admin'}
2025-12-23 16:53:43,952 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:53:43,952 INFO sqlalchemy.engine.Engine [cached since 15.04s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:53:43,953 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:53:43,953 INFO sqlalchemy.engine.Engine [cached since 15.2s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:53:43,954 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:53:43,954 INFO sqlalchemy.engine.Engine [cached since 15.15s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62145 - "GET /settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:62146 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:53:43,956 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:53:43,956 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62147 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:53:43,957 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62152 - "OPTIONS /users HTTP/1.1" 200 OK
2025-12-23 16:53:59,723 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:53:59,727 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:53:59,727 INFO sqlalchemy.engine.Engine [cached since 31.02s ago] {'username_1': 'admin'}
2025-12-23 16:53:59,733 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:53:59,733 INFO sqlalchemy.engine.Engine [cached since 30.98s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:53:59,971 INFO sqlalchemy.engine.Engine INSERT INTO users (id, tenant_id, username, hashed_password, roles, is_active, created_at) VALUES (%(id)s::VARCHAR, %(tenant_id)s::VARCHAR, %(username)s::VARCHAR, %(hashed_password)s::VARCHAR, %(roles)s::JSONB, %(is_active)s, %(created_at)s::TIMESTAMP WITHOUT TIME ZONE)
2025-12-23 16:53:59,971 INFO sqlalchemy.engine.Engine [generated in 0.00020s] {'id': 'b52fc82c-8c99-4869-a5e7-1d333046f70b', 'tenant_id': '318f4587-b8b2-41f4-820b-7def3037858b', 'username': 'itachi', 'hashed_password': '$2b$12$vaAt0oUJ0rPZmAH5xju5e.mk35p1oMQaPgdSFQToU59z8o.liDtKy', 'roles': Jsonb(['admin']), 'is_active': True, 'created_at': datetime.datetime(2025, 12, 23, 11, 23, 59, 971597)}
2025-12-23 16:53:59,989 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:62152 - "POST /users HTTP/1.1" 200 OK
2025-12-23 16:53:59,999 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:53:59,999 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:53:59,999 INFO sqlalchemy.engine.Engine [cached since 31.29s ago] {'username_1': 'admin'}
2025-12-23 16:54:00,001 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:54:00,001 INFO sqlalchemy.engine.Engine [cached since 31.2s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62152 - "GET /users HTTP/1.1" 200 OK
2025-12-23 16:54:00,001 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:12,944 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:12,944 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:12,945 INFO sqlalchemy.engine.Engine [cached since 44.24s ago] {'username_1': 'admin'}
2025-12-23 16:54:12,947 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:12,947 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:12,947 INFO sqlalchemy.engine.Engine [cached since 44.24s ago] {'username_1': 'admin'}
2025-12-23 16:54:12,948 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:12,948 INFO sqlalchemy.engine.Engine [cached since 44.19s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:54:12,949 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:12,949 INFO sqlalchemy.engine.Engine [cached since 44.19s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62155 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:54:12,950 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:12,952 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:54:12,952 INFO sqlalchemy.engine.Engine [cached since 33.76s ago] {}
2025-12-23 16:54:12,954 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:54:12,954 INFO sqlalchemy.engine.Engine [cached since 33.76s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 16:54:12,955 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:54:12,955 INFO sqlalchemy.engine.Engine [cached since 33.76s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62154 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:54:12,957 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:14,733 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:14,734 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:14,734 INFO sqlalchemy.engine.Engine [cached since 46.03s ago] {'username_1': 'admin'}
2025-12-23 16:54:14,735 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:14,735 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:14,735 INFO sqlalchemy.engine.Engine [cached since 46.03s ago] {'username_1': 'admin'}
2025-12-23 16:54:14,736 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:14,737 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:14,737 INFO sqlalchemy.engine.Engine [cached since 46.03s ago] {'username_1': 'admin'}
2025-12-23 16:54:14,738 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:14,738 INFO sqlalchemy.engine.Engine [cached since 45.98s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:54:14,740 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:14,740 INFO sqlalchemy.engine.Engine [cached since 45.98s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:54:14,742 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 16:54:14,742 INFO sqlalchemy.engine.Engine [cached since 35.55s ago] {}
2025-12-23 16:54:14,743 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:54:14,743 INFO sqlalchemy.engine.Engine [cached since 35.55s ago] {}
2025-12-23 16:54:14,744 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:14,744 INFO sqlalchemy.engine.Engine [cached since 45.99s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:54:14,745 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 16:54:14,745 INFO sqlalchemy.engine.Engine [cached since 35.55s ago] {}
2025-12-23 16:54:14,745 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:54:14,745 INFO sqlalchemy.engine.Engine [cached since 35.55s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62156 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 16:54:14,747 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:14,748 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:54:14,748 INFO sqlalchemy.engine.Engine [cached since 35.55s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 16:54:14,749 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE tenants.is_super_admin = false AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:54:14,749 INFO sqlalchemy.engine.Engine [cached since 35.55s ago] {'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62154 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:54:14,749 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62155 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:54:14,750 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:14,806 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:14,807 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:14,807 INFO sqlalchemy.engine.Engine [cached since 46.1s ago] {'username_1': 'admin'}
2025-12-23 16:54:14,811 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:14,811 INFO sqlalchemy.engine.Engine [cached since 46.06s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62157 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:54:14,812 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:14,825 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:14,825 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:14,826 INFO sqlalchemy.engine.Engine [cached since 46.12s ago] {'username_1': 'admin'}
2025-12-23 16:54:14,827 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:14,827 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:14,827 INFO sqlalchemy.engine.Engine [cached since 46.12s ago] {'username_1': 'admin'}
2025-12-23 16:54:14,828 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:14,828 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:14,828 INFO sqlalchemy.engine.Engine [cached since 46.12s ago] {'username_1': 'admin'}
2025-12-23 16:54:14,829 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:14,829 INFO sqlalchemy.engine.Engine [cached since 46.07s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:54:14,830 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:14,830 INFO sqlalchemy.engine.Engine [cached since 46.07s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:54:14,831 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:14,831 INFO sqlalchemy.engine.Engine [cached since 46.08s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:54:14,831 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 16:54:14,831 INFO sqlalchemy.engine.Engine [cached since 35.64s ago] {}
2025-12-23 16:54:14,832 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:54:14,832 INFO sqlalchemy.engine.Engine [cached since 35.64s ago] {}
INFO:     127.0.0.1:62155 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 16:54:14,833 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 16:54:14,833 INFO sqlalchemy.engine.Engine [cached since 35.64s ago] {}
2025-12-23 16:54:14,833 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:14,834 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:54:14,834 INFO sqlalchemy.engine.Engine [cached since 35.64s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 16:54:14,835 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE tenants.is_super_admin = false AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:54:14,835 INFO sqlalchemy.engine.Engine [cached since 35.64s ago] {'roles_1': Jsonb(['admin'])}
2025-12-23 16:54:14,835 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:54:14,835 INFO sqlalchemy.engine.Engine [cached since 35.64s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62156 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:54:14,836 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62154 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:54:14,837 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:17,980 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:17,980 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:17,980 INFO sqlalchemy.engine.Engine [cached since 49.27s ago] {'username_1': 'admin'}
2025-12-23 16:54:17,982 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:17,982 INFO sqlalchemy.engine.Engine [cached since 49.23s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62157 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:54:17,982 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:17,998 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:17,998 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:17,998 INFO sqlalchemy.engine.Engine [cached since 49.29s ago] {'username_1': 'admin'}
2025-12-23 16:54:17,999 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:17,999 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:17,999 INFO sqlalchemy.engine.Engine [cached since 49.29s ago] {'username_1': 'admin'}
2025-12-23 16:54:17,999 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:17,999 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:17,999 INFO sqlalchemy.engine.Engine [cached since 49.29s ago] {'username_1': 'admin'}
2025-12-23 16:54:18,000 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:18,000 INFO sqlalchemy.engine.Engine [cached since 49.24s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:54:18,001 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:18,001 INFO sqlalchemy.engine.Engine [cached since 49.25s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:54:18,001 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:18,001 INFO sqlalchemy.engine.Engine [cached since 49.25s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:54:18,002 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 16:54:18,002 INFO sqlalchemy.engine.Engine [cached since 38.81s ago] {}
2025-12-23 16:54:18,002 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:54:18,002 INFO sqlalchemy.engine.Engine [cached since 38.81s ago] {}
INFO:     127.0.0.1:62154 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 16:54:18,003 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 16:54:18,003 INFO sqlalchemy.engine.Engine [cached since 38.81s ago] {}
2025-12-23 16:54:18,003 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:18,003 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:54:18,003 INFO sqlalchemy.engine.Engine [cached since 38.81s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 16:54:18,004 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE tenants.is_super_admin = false AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:54:18,004 INFO sqlalchemy.engine.Engine [cached since 38.81s ago] {'roles_1': Jsonb(['admin'])}
2025-12-23 16:54:18,006 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:54:18,006 INFO sqlalchemy.engine.Engine [cached since 38.81s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62155 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:54:18,007 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62156 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:54:18,007 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:22,980 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:22,980 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:22,981 INFO sqlalchemy.engine.Engine [cached since 54.27s ago] {'username_1': 'admin'}
2025-12-23 16:54:22,982 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:22,982 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:22,982 INFO sqlalchemy.engine.Engine [cached since 54.28s ago] {'username_1': 'admin'}
2025-12-23 16:54:22,984 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:22,984 INFO sqlalchemy.engine.Engine [cached since 54.23s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:54:22,985 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:22,985 INFO sqlalchemy.engine.Engine [cached since 54.23s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62154 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:54:22,986 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:22,987 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:54:22,987 INFO sqlalchemy.engine.Engine [cached since 43.8s ago] {}
2025-12-23 16:54:22,993 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:54:22,993 INFO sqlalchemy.engine.Engine [cached since 43.8s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 16:54:22,995 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:54:22,995 INFO sqlalchemy.engine.Engine [cached since 43.8s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62157 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:54:22,996 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62154 - "OPTIONS /tenants/68923952-1085-4d0e-85bf-66bbbb8ad0c7/impersonate HTTP/1.1" 200 OK
2025-12-23 16:54:25,957 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:25,957 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:25,957 INFO sqlalchemy.engine.Engine [cached since 57.25s ago] {'username_1': 'admin'}
2025-12-23 16:54:25,967 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:25,968 INFO sqlalchemy.engine.Engine [cached since 57.21s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:54:25,971 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER
2025-12-23 16:54:25,971 INFO sqlalchemy.engine.Engine [generated in 0.00033s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 1}
2025-12-23 16:54:25,973 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:54:25,973 INFO sqlalchemy.engine.Engine [cached since 57.17s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:62157 - "POST /tenants/68923952-1085-4d0e-85bf-66bbbb8ad0c7/impersonate HTTP/1.1" 200 OK
2025-12-23 16:54:25,975 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:26,095 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:26,095 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:26,095 INFO sqlalchemy.engine.Engine [cached since 57.39s ago] {'username_1': 'apollo_admin'}
2025-12-23 16:54:26,097 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:26,097 INFO sqlalchemy.engine.Engine [cached since 57.34s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:62154 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:54:26,098 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:26,114 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:26,114 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:26,114 INFO sqlalchemy.engine.Engine [cached since 57.41s ago] {'username_1': 'apollo_admin'}
2025-12-23 16:54:26,115 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:26,115 INFO sqlalchemy.engine.Engine [cached since 57.36s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 16:54:26,116 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:54:26,116 INFO sqlalchemy.engine.Engine [generated in 0.00008s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 16:54:26,117 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:54:26,117 INFO sqlalchemy.engine.Engine [generated in 0.00005s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 16:54:26,118 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 16:54:26,118 INFO sqlalchemy.engine.Engine [generated in 0.00005s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:62157 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:54:26,122 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62154 - "OPTIONS /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:62157 - "OPTIONS /patients HTTP/1.1" 200 OK
2025-12-23 16:54:27,717 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:27,717 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:27,717 INFO sqlalchemy.engine.Engine [cached since 59.01s ago] {'username_1': 'apollo_admin'}
2025-12-23 16:54:27,719 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:27,719 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:27,719 INFO sqlalchemy.engine.Engine [cached since 59.01s ago] {'username_1': 'apollo_admin'}
2025-12-23 16:54:27,720 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:27,720 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:27,720 INFO sqlalchemy.engine.Engine [cached since 59.01s ago] {'username_1': 'apollo_admin'}
2025-12-23 16:54:27,721 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:27,721 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:27,721 INFO sqlalchemy.engine.Engine [cached since 59.01s ago] {'username_1': 'apollo_admin'}
2025-12-23 16:54:27,724 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 16:54:27,725 INFO sqlalchemy.engine.Engine [generated in 0.00019s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 200}
2025-12-23 16:54:27,735 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 16:54:27,736 INFO sqlalchemy.engine.Engine [generated in 0.00026s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 100, 'param_2': 0}
2025-12-23 16:54:27,736 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:54:27,736 INFO sqlalchemy.engine.Engine [cached since 58.93s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 16:54:27,737 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:27,737 INFO sqlalchemy.engine.Engine [cached since 58.98s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:62154 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 16:54:27,738 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62157 - "GET /patients HTTP/1.1" 200 OK
INFO:     127.0.0.1:62174 - "GET /users HTTP/1.1" 200 OK
INFO:     127.0.0.1:62175 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:54:27,741 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:27,741 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:27,741 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:28,538 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:28,540 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:28,540 INFO sqlalchemy.engine.Engine [cached since 59.83s ago] {'username_1': 'apollo_admin'}
2025-12-23 16:54:28,542 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:28,542 INFO sqlalchemy.engine.Engine [cached since 59.79s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:62154 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:54:28,543 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62157 - "OPTIONS /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:54:28,842 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:28,842 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:28,842 INFO sqlalchemy.engine.Engine [cached since 60.14s ago] {'username_1': 'apollo_admin'}
2025-12-23 16:54:28,845 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 16:54:28,845 INFO sqlalchemy.engine.Engine [cached since 1.11s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:62175 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 16:54:28,847 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62174 - "OPTIONS /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:54:30,551 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:30,552 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:30,552 INFO sqlalchemy.engine.Engine [cached since 61.85s ago] {'username_1': 'apollo_admin'}
2025-12-23 16:54:30,553 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:30,554 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:30,554 INFO sqlalchemy.engine.Engine [cached since 61.85s ago] {'username_1': 'apollo_admin'}
2025-12-23 16:54:30,556 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:30,556 INFO sqlalchemy.engine.Engine [cached since 61.8s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 16:54:30,559 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.id = %(id_1)s::VARCHAR AND patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 16:54:30,560 INFO sqlalchemy.engine.Engine [generated in 0.00024s] {'id_1': '105665a6-7042-4a44-a69b-8eef6aff87e8', 'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:62154 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:54:30,561 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:30,564 INFO sqlalchemy.engine.Engine SELECT clinical_records.patient_id AS clinical_records_patient_id, clinical_records.id AS clinical_records_id, clinical_records.tenant_id AS clinical_records_tenant_id, clinical_records.date AS clinical_records_date, clinical_records.type AS clinical_records_type, clinical_records.data AS clinical_records_data 
FROM clinical_records 
WHERE clinical_records.patient_id IN (%(primary_keys_1)s::VARCHAR)
2025-12-23 16:54:30,564 INFO sqlalchemy.engine.Engine [generated in 0.00021s] {'primary_keys_1': '105665a6-7042-4a44-a69b-8eef6aff87e8'}
2025-12-23 16:54:30,568 INFO sqlalchemy.engine.Engine SELECT appointments.patient_id AS appointments_patient_id, appointments.id AS appointments_id, appointments.tenant_id AS appointments_tenant_id, appointments.doctor_id AS appointments_doctor_id, appointments.start_time AS appointments_start_time, appointments.end_time AS appointments_end_time, appointments.status AS appointments_status, appointments.reason AS appointments_reason 
FROM appointments 
WHERE appointments.patient_id IN (%(primary_keys_1)s::VARCHAR)
2025-12-23 16:54:30,568 INFO sqlalchemy.engine.Engine [generated in 0.00028s] {'primary_keys_1': '105665a6-7042-4a44-a69b-8eef6aff87e8'}
2025-12-23 16:54:30,571 INFO sqlalchemy.engine.Engine SELECT attachments.patient_id AS attachments_patient_id, attachments.id AS attachments_id, attachments.tenant_id AS attachments_tenant_id, attachments.file_name AS attachments_file_name, attachments.file_url AS attachments_file_url, attachments.file_type AS attachments_file_type, attachments.uploaded_at AS attachments_uploaded_at 
FROM attachments 
WHERE attachments.patient_id IN (%(primary_keys_1)s::VARCHAR)
2025-12-23 16:54:30,571 INFO sqlalchemy.engine.Engine [generated in 0.00010s] {'primary_keys_1': '105665a6-7042-4a44-a69b-8eef6aff87e8'}
INFO:     127.0.0.1:62157 - "GET /patients/105665a6-7042-4a44-a69b-8eef6aff87e8/profile HTTP/1.1" 200 OK
2025-12-23 16:54:30,573 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:46,674 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:46,677 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:46,678 INFO sqlalchemy.engine.Engine [cached since 77.97s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:62181 - "POST /token HTTP/1.1" 200 OK
2025-12-23 16:54:46,941 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62181 - "OPTIONS /users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:62183 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 16:54:46,970 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:46,970 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:46,970 INFO sqlalchemy.engine.Engine [cached since 78.26s ago] {'username_1': 'admin'}
2025-12-23 16:54:46,975 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:46,975 INFO sqlalchemy.engine.Engine [cached since 78.22s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62181 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:54:46,976 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:46,977 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:46,977 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:46,977 INFO sqlalchemy.engine.Engine [cached since 78.27s ago] {'username_1': 'admin'}
2025-12-23 16:54:46,981 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:46,981 INFO sqlalchemy.engine.Engine [cached since 78.23s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62181 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:54:46,982 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62181 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
INFO:     127.0.0.1:62183 - "OPTIONS /tenants HTTP/1.1" 200 OK
INFO:     127.0.0.1:62185 - "OPTIONS /stats/growth HTTP/1.1" 200 OK
INFO:     127.0.0.1:62181 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
INFO:     127.0.0.1:62183 - "OPTIONS /tenants HTTP/1.1" 200 OK
2025-12-23 16:54:47,088 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:47,088 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:47,088 INFO sqlalchemy.engine.Engine [cached since 78.38s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:62189 - "OPTIONS /stats/growth HTTP/1.1" 200 OK
2025-12-23 16:54:47,089 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:47,089 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:47,089 INFO sqlalchemy.engine.Engine [cached since 78.38s ago] {'username_1': 'admin'}
2025-12-23 16:54:47,089 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:47,089 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:47,089 INFO sqlalchemy.engine.Engine [cached since 78.38s ago] {'username_1': 'admin'}
2025-12-23 16:54:47,090 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:47,090 INFO sqlalchemy.engine.Engine [cached since 78.33s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:54:47,090 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:47,090 INFO sqlalchemy.engine.Engine [cached since 78.34s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:54:47,091 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:47,091 INFO sqlalchemy.engine.Engine [cached since 78.34s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:54:47,091 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:54:47,091 INFO sqlalchemy.engine.Engine [cached since 67.9s ago] {}
INFO:     127.0.0.1:62191 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 16:54:47,095 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 16:54:47,095 INFO sqlalchemy.engine.Engine [cached since 67.91s ago] {}
2025-12-23 16:54:47,095 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:47,096 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:54:47,096 INFO sqlalchemy.engine.Engine [cached since 67.9s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 16:54:47,097 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:47,097 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:47,097 INFO sqlalchemy.engine.Engine [cached since 78.39s ago] {'username_1': 'admin'}
2025-12-23 16:54:47,097 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 16:54:47,097 INFO sqlalchemy.engine.Engine [cached since 67.9s ago] {}
2025-12-23 16:54:47,097 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:54:47,097 INFO sqlalchemy.engine.Engine [cached since 67.9s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 16:54:47,098 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE tenants.is_super_admin = false AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:54:47,098 INFO sqlalchemy.engine.Engine [cached since 67.9s ago] {'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62190 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:54:47,098 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:47,098 INFO sqlalchemy.engine.Engine [cached since 78.34s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:54:47,099 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62191 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 16:54:47,099 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:47,099 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:47,100 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:47,100 INFO sqlalchemy.engine.Engine [cached since 78.39s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:62185 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:54:47,100 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:47,100 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:47,100 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:47,100 INFO sqlalchemy.engine.Engine [cached since 78.39s ago] {'username_1': 'admin'}
2025-12-23 16:54:47,101 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:47,101 INFO sqlalchemy.engine.Engine [cached since 78.35s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:54:47,101 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:54:47,101 INFO sqlalchemy.engine.Engine [cached since 67.91s ago] {}
2025-12-23 16:54:47,101 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:47,101 INFO sqlalchemy.engine.Engine [cached since 78.35s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:54:47,102 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 16:54:47,102 INFO sqlalchemy.engine.Engine [cached since 67.91s ago] {}
2025-12-23 16:54:47,102 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 16:54:47,102 INFO sqlalchemy.engine.Engine [cached since 67.91s ago] {}
2025-12-23 16:54:47,103 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:54:47,103 INFO sqlalchemy.engine.Engine [cached since 67.91s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 16:54:47,103 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE tenants.is_super_admin = false AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:54:47,103 INFO sqlalchemy.engine.Engine [cached since 67.9s ago] {'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62185 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:54:47,104 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:47,104 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:54:47,104 INFO sqlalchemy.engine.Engine [cached since 67.91s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62190 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:54:47,104 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:47,173 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:47,174 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:47,174 INFO sqlalchemy.engine.Engine [cached since 78.47s ago] {'username_1': 'admin'}
2025-12-23 16:54:47,174 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:47,174 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:47,174 INFO sqlalchemy.engine.Engine [cached since 78.47s ago] {'username_1': 'admin'}
2025-12-23 16:54:47,175 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:47,175 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:47,175 INFO sqlalchemy.engine.Engine [cached since 78.47s ago] {'username_1': 'admin'}
2025-12-23 16:54:47,176 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:47,176 INFO sqlalchemy.engine.Engine [cached since 78.42s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:54:47,177 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:47,177 INFO sqlalchemy.engine.Engine [cached since 78.42s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:54:47,177 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:47,177 INFO sqlalchemy.engine.Engine [cached since 78.42s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:54:47,177 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:54:47,177 INFO sqlalchemy.engine.Engine [cached since 67.99s ago] {}
2025-12-23 16:54:47,177 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 16:54:47,177 INFO sqlalchemy.engine.Engine [cached since 67.99s ago] {}
INFO:     127.0.0.1:62191 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 16:54:47,178 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:47,179 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:54:47,179 INFO sqlalchemy.engine.Engine [cached since 67.99s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 16:54:47,179 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:54:47,179 INFO sqlalchemy.engine.Engine [cached since 67.99s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62185 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:54:47,180 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:47,180 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 16:54:47,180 INFO sqlalchemy.engine.Engine [cached since 67.99s ago] {}
2025-12-23 16:54:47,183 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE tenants.is_super_admin = false AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:54:47,183 INFO sqlalchemy.engine.Engine [cached since 67.98s ago] {'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62190 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 16:54:47,185 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:49,999 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:50,003 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:50,003 INFO sqlalchemy.engine.Engine [cached since 81.3s ago] {'username_1': 'admin'}
2025-12-23 16:54:50,005 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:50,006 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:50,006 INFO sqlalchemy.engine.Engine [cached since 81.3s ago] {'username_1': 'admin'}
2025-12-23 16:54:50,008 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:50,008 INFO sqlalchemy.engine.Engine [cached since 81.25s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:54:50,009 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:50,009 INFO sqlalchemy.engine.Engine [cached since 81.25s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:54:50,010 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:54:50,010 INFO sqlalchemy.engine.Engine [cached since 70.82s ago] {}
INFO:     127.0.0.1:62185 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:54:50,012 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:50,013 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:54:50,013 INFO sqlalchemy.engine.Engine [cached since 70.82s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 16:54:50,015 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:54:50,015 INFO sqlalchemy.engine.Engine [cached since 70.82s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62190 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:54:50,017 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:50,018 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:50,019 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:50,019 INFO sqlalchemy.engine.Engine [cached since 81.31s ago] {'username_1': 'admin'}
2025-12-23 16:54:50,020 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:50,020 INFO sqlalchemy.engine.Engine [cached since 81.26s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:54:50,021 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:54:50,021 INFO sqlalchemy.engine.Engine [cached since 70.83s ago] {}
2025-12-23 16:54:50,021 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:54:50,021 INFO sqlalchemy.engine.Engine [cached since 70.83s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 16:54:50,022 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:54:50,022 INFO sqlalchemy.engine.Engine [cached since 70.83s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62190 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:54:50,023 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62190 - "OPTIONS /tenants/68923952-1085-4d0e-85bf-66bbbb8ad0c7 HTTP/1.1" 200 OK
2025-12-23 16:54:53,330 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:53,333 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:53,333 INFO sqlalchemy.engine.Engine [cached since 84.63s ago] {'username_1': 'admin'}
2025-12-23 16:54:53,342 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:53,342 INFO sqlalchemy.engine.Engine [cached since 84.59s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:54:53,344 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:53,344 INFO sqlalchemy.engine.Engine [cached since 84.59s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 16:54:53,355 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id AS tenant_settings_id, tenant_settings.tenant_id AS tenant_settings_tenant_id, tenant_settings.clinic_name AS tenant_settings_clinic_name, tenant_settings.logo_url AS tenant_settings_logo_url, tenant_settings.address AS tenant_settings_address, tenant_settings.phone AS tenant_settings_phone, tenant_settings.website AS tenant_settings_website 
FROM tenant_settings 
WHERE %(param_1)s::VARCHAR = tenant_settings.tenant_id
2025-12-23 16:54:53,355 INFO sqlalchemy.engine.Engine [generated in 0.00015s] {'param_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 16:54:53,362 INFO sqlalchemy.engine.Engine UPDATE tenant_settings SET tenant_id=%(tenant_id)s::VARCHAR WHERE tenant_settings.id = %(tenant_settings_id)s::VARCHAR
2025-12-23 16:54:53,363 INFO sqlalchemy.engine.Engine [generated in 0.00009s] {'tenant_id': None, 'tenant_settings_id': 'e65afde7-0799-4d31-bb10-ebb516202808'}
2025-12-23 16:54:53,369 INFO sqlalchemy.engine.Engine DELETE FROM tenants WHERE tenants.id = %(id)s::VARCHAR
2025-12-23 16:54:53,369 INFO sqlalchemy.engine.Engine [generated in 0.00009s] {'id': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 16:54:53,384 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62185 - "DELETE /tenants/68923952-1085-4d0e-85bf-66bbbb8ad0c7 HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/psycopg.py", line 673, in execute
    result = self.await_(self._cursor.execute(query, params, **kw))
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/psycopg/cursor_async.py", line 117, in execute
    raise ex.with_traceback(None)
psycopg.errors.ForeignKeyViolation: update or delete on table "tenants" violates foreign key constraint "users_tenant_id_fkey" on table "users"
DETAIL:  Key (id)=(68923952-1085-4d0e-85bf-66bbbb8ad0c7) is still referenced from table "users".

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 118, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 104, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 428, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 314, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/main.py", line 247, in delete_tenant
    await db.commit()
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py", line 1000, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/unitofwork.py", line 679, in execute
    util.preloaded.orm_persistence.delete_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, True, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/persistence.py", line 193, in delete_obj
    _emit_delete_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        delete,
        ^^^^^^^
    )
    ^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/persistence.py", line 1471, in _emit_delete_statements
    c = connection.execute(
        statement, del_objects, execution_options=execution_options
    )
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/psycopg.py", line 673, in execute
    result = self.await_(self._cursor.execute(query, params, **kw))
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/psycopg/cursor_async.py", line 117, in execute
    raise ex.with_traceback(None)
sqlalchemy.exc.IntegrityError: (psycopg.errors.ForeignKeyViolation) update or delete on table "tenants" violates foreign key constraint "users_tenant_id_fkey" on table "users"
DETAIL:  Key (id)=(68923952-1085-4d0e-85bf-66bbbb8ad0c7) is still referenced from table "users".
[SQL: DELETE FROM tenants WHERE tenants.id = %(id)s::VARCHAR]
[parameters: {'id': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-12-23 16:54:58,302 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:58,304 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:58,304 INFO sqlalchemy.engine.Engine [cached since 89.6s ago] {'username_1': 'admin'}
2025-12-23 16:54:58,307 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:58,307 INFO sqlalchemy.engine.Engine [cached since 89.55s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62190 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:54:58,308 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:58,310 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:58,310 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:58,310 INFO sqlalchemy.engine.Engine [cached since 89.6s ago] {'username_1': 'admin'}
2025-12-23 16:54:58,312 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:58,312 INFO sqlalchemy.engine.Engine [cached since 89.56s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62190 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 16:54:58,313 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:58,325 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:58,326 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:58,326 INFO sqlalchemy.engine.Engine [cached since 89.62s ago] {'username_1': 'admin'}
2025-12-23 16:54:58,328 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:58,328 INFO sqlalchemy.engine.Engine [cached since 89.57s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:54:58,329 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:54:58,329 INFO sqlalchemy.engine.Engine [cached since 79.14s ago] {}
2025-12-23 16:54:58,330 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:54:58,330 INFO sqlalchemy.engine.Engine [cached since 79.14s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 16:54:58,330 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:54:58,330 INFO sqlalchemy.engine.Engine [cached since 79.14s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62190 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:54:58,331 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:54:58,332 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:54:58,332 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:54:58,332 INFO sqlalchemy.engine.Engine [cached since 89.63s ago] {'username_1': 'admin'}
2025-12-23 16:54:58,333 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:54:58,333 INFO sqlalchemy.engine.Engine [cached since 89.58s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:54:58,333 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 16:54:58,333 INFO sqlalchemy.engine.Engine [cached since 79.14s ago] {}
2025-12-23 16:54:58,334 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:54:58,334 INFO sqlalchemy.engine.Engine [cached since 79.14s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 16:54:58,334 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 16:54:58,334 INFO sqlalchemy.engine.Engine [cached since 79.14s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62190 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 16:54:58,335 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 16:55:00,538 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:55:00,539 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 16:55:00,539 INFO sqlalchemy.engine.Engine [cached since 91.83s ago] {'username_1': 'admin'}
2025-12-23 16:55:00,544 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:55:00,545 INFO sqlalchemy.engine.Engine [cached since 91.79s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 16:55:00,546 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 16:55:00,546 INFO sqlalchemy.engine.Engine [cached since 91.79s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 16:55:00,548 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id AS tenant_settings_id, tenant_settings.tenant_id AS tenant_settings_tenant_id, tenant_settings.clinic_name AS tenant_settings_clinic_name, tenant_settings.logo_url AS tenant_settings_logo_url, tenant_settings.address AS tenant_settings_address, tenant_settings.phone AS tenant_settings_phone, tenant_settings.website AS tenant_settings_website 
FROM tenant_settings 
WHERE %(param_1)s::VARCHAR = tenant_settings.tenant_id
2025-12-23 16:55:00,548 INFO sqlalchemy.engine.Engine [cached since 7.194s ago] {'param_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 16:55:00,556 INFO sqlalchemy.engine.Engine UPDATE tenant_settings SET tenant_id=%(tenant_id)s::VARCHAR WHERE tenant_settings.id = %(tenant_settings_id)s::VARCHAR
2025-12-23 16:55:00,556 INFO sqlalchemy.engine.Engine [cached since 7.193s ago] {'tenant_id': None, 'tenant_settings_id': 'e65afde7-0799-4d31-bb10-ebb516202808'}
2025-12-23 16:55:00,560 INFO sqlalchemy.engine.Engine DELETE FROM tenants WHERE tenants.id = %(id)s::VARCHAR
2025-12-23 16:55:00,560 INFO sqlalchemy.engine.Engine [cached since 7.191s ago] {'id': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 16:55:00,562 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62190 - "DELETE /tenants/68923952-1085-4d0e-85bf-66bbbb8ad0c7 HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/psycopg.py", line 673, in execute
    result = self.await_(self._cursor.execute(query, params, **kw))
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/psycopg/cursor_async.py", line 117, in execute
    raise ex.with_traceback(None)
psycopg.errors.ForeignKeyViolation: update or delete on table "tenants" violates foreign key constraint "users_tenant_id_fkey" on table "users"
DETAIL:  Key (id)=(68923952-1085-4d0e-85bf-66bbbb8ad0c7) is still referenced from table "users".

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/uvicorn/protocols/http/httptools_impl.py", line 409, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.scope, self.receive, self.send
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/fastapi/applications.py", line 1135, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/starlette/applications.py", line 107, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 118, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 104, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 428, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/fastapi/routing.py", line 314, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/main.py", line 247, in delete_tenant
    await db.commit()
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/ext/asyncio/session.py", line 1000, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "<string>", line 2, in commit
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
    ~~~~~~~~~~~~~~~~~~^^
  File "<string>", line 2, in _prepare_impl
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
    ~~~~~~~~~~~~~~~~~~^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
    ~~~~~~~~~~~^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 4466, in _flush
    with util.safe_reraise():
         ~~~~~~~~~~~~~~~~~^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
    ~~~~~~~~~~~^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/unitofwork.py", line 679, in execute
    util.preloaded.orm_persistence.delete_obj(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self.mapper,
        ^^^^^^^^^^^^
        uow.states_for_mapper_hierarchy(self.mapper, True, False),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        uow,
        ^^^^
    )
    ^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/persistence.py", line 193, in delete_obj
    _emit_delete_statements(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        base_mapper,
        ^^^^^^^^^^^^
    ...<3 lines>...
        delete,
        ^^^^^^^
    )
    ^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/orm/persistence.py", line 1471, in _emit_delete_statements
    c = connection.execute(
        statement, del_objects, execution_options=execution_options
    )
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/dialects/postgresql/psycopg.py", line 673, in execute
    result = self.await_(self._cursor.execute(query, params, **kw))
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/psycopg/cursor_async.py", line 117, in execute
    raise ex.with_traceback(None)
sqlalchemy.exc.IntegrityError: (psycopg.errors.ForeignKeyViolation) update or delete on table "tenants" violates foreign key constraint "users_tenant_id_fkey" on table "users"
DETAIL:  Key (id)=(68923952-1085-4d0e-85bf-66bbbb8ad0c7) is still referenced from table "users".
[SQL: DELETE FROM tenants WHERE tenants.id = %(id)s::VARCHAR]
[parameters: {'id': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [29524]
INFO:     Started server process [29956]
INFO:     Waiting for application startup.
2025-12-23 16:55:54,908 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 16:55:54,908 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 16:55:54,911 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 16:55:54,911 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 16:55:54,912 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 16:55:54,912 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 16:55:54,917 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 16:55:54,919 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:55:54,919 INFO sqlalchemy.engine.Engine [generated in 0.00012s] {'table_name': 'tenants', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:55:54,923 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:55:54,923 INFO sqlalchemy.engine.Engine [cached since 0.00398s ago] {'table_name': 'tenant_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:55:54,924 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:55:54,924 INFO sqlalchemy.engine.Engine [cached since 0.004778s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:55:54,924 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:55:54,924 INFO sqlalchemy.engine.Engine [cached since 0.005118s ago] {'table_name': 'patients', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:55:54,924 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:55:54,924 INFO sqlalchemy.engine.Engine [cached since 0.00543s ago] {'table_name': 'clinical_records', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:55:54,925 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:55:54,925 INFO sqlalchemy.engine.Engine [cached since 0.005711s ago] {'table_name': 'appointments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:55:54,925 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:55:54,925 INFO sqlalchemy.engine.Engine [cached since 0.006318s ago] {'table_name': 'attachments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:55:54,926 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:55:54,926 INFO sqlalchemy.engine.Engine [cached since 0.006563s ago] {'table_name': 'prescriptions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:55:54,926 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 16:55:54,926 INFO sqlalchemy.engine.Engine [cached since 0.006805s ago] {'table_name': 'invoices', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 16:55:54,926 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [29956]
Process SpawnProcess-36:
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/uvicorn/config.py", line 439, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/main.py", line 5, in <module>
    from sqlalchemy.future import select, delete
ImportError: cannot import name 'delete' from 'sqlalchemy.future' (/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/future/__init__.py). Did you mean: 'Delete'?
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Started server process [30290]
INFO:     Waiting for application startup.
2025-12-23 17:02:00,815 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 17:02:00,815 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 17:02:00,828 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 17:02:00,828 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 17:02:00,829 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 17:02:00,829 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 17:02:00,840 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:02:00,842 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:02:00,842 INFO sqlalchemy.engine.Engine [generated in 0.00010s] {'table_name': 'tenants', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:02:00,846 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:02:00,846 INFO sqlalchemy.engine.Engine [cached since 0.003443s ago] {'table_name': 'tenant_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:02:00,846 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:02:00,846 INFO sqlalchemy.engine.Engine [cached since 0.003803s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:02:00,846 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:02:00,846 INFO sqlalchemy.engine.Engine [cached since 0.00409s ago] {'table_name': 'patients', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:02:00,847 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:02:00,847 INFO sqlalchemy.engine.Engine [cached since 0.004343s ago] {'table_name': 'clinical_records', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:02:00,847 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:02:00,847 INFO sqlalchemy.engine.Engine [cached since 0.004624s ago] {'table_name': 'appointments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:02:00,847 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:02:00,847 INFO sqlalchemy.engine.Engine [cached since 0.005162s ago] {'table_name': 'attachments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:02:00,848 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:02:00,848 INFO sqlalchemy.engine.Engine [cached since 0.005378s ago] {'table_name': 'prescriptions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:02:00,848 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:02:00,848 INFO sqlalchemy.engine.Engine [cached since 0.005591s ago] {'table_name': 'invoices', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:02:00,848 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-12-23 17:02:00,853 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:02:00,862 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:02:00,862 INFO sqlalchemy.engine.Engine [generated in 0.00013s] {'username_1': 'admin'}
INFO:     127.0.0.1:62401 - "POST /token HTTP/1.1" 200 OK
2025-12-23 17:02:01,132 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:02:01,241 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:02:01,242 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:02:01,242 INFO sqlalchemy.engine.Engine [cached since 0.3803s ago] {'username_1': 'admin'}
2025-12-23 17:02:01,244 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:02:01,244 INFO sqlalchemy.engine.Engine [generated in 0.00010s] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62401 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:02:01,246 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:02:01,246 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:02:01,246 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:02:01,247 INFO sqlalchemy.engine.Engine [cached since 0.3848s ago] {'username_1': 'admin'}
2025-12-23 17:02:01,247 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:02:01,247 INFO sqlalchemy.engine.Engine [cached since 0.003264s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62401 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:02:01,248 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:02:01,304 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:02:01,304 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:02:01,304 INFO sqlalchemy.engine.Engine [cached since 0.4421s ago] {'username_1': 'admin'}
2025-12-23 17:02:01,306 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:02:01,306 INFO sqlalchemy.engine.Engine [cached since 0.06228s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:02:01,309 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 17:02:01,309 INFO sqlalchemy.engine.Engine [generated in 0.00009s] {}
2025-12-23 17:02:01,313 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 17:02:01,313 INFO sqlalchemy.engine.Engine [generated in 0.00006s] {}
2025-12-23 17:02:01,316 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE tenants.is_super_admin = false AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:02:01,316 INFO sqlalchemy.engine.Engine [generated in 0.00008s] {'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62401 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:02:01,319 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:02:01,320 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:02:01,320 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:02:01,320 INFO sqlalchemy.engine.Engine [cached since 0.4586s ago] {'username_1': 'admin'}
2025-12-23 17:02:01,321 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:02:01,321 INFO sqlalchemy.engine.Engine [cached since 0.07718s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:02:01,321 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 17:02:01,321 INFO sqlalchemy.engine.Engine [cached since 0.01214s ago] {}
2025-12-23 17:02:01,322 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 17:02:01,322 INFO sqlalchemy.engine.Engine [cached since 0.008752s ago] {}
2025-12-23 17:02:01,322 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE tenants.is_super_admin = false AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:02:01,322 INFO sqlalchemy.engine.Engine [cached since 0.006201s ago] {'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62401 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:02:01,323 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:02:01,327 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:02:01,327 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:02:01,327 INFO sqlalchemy.engine.Engine [cached since 0.4657s ago] {'username_1': 'admin'}
2025-12-23 17:02:01,328 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:02:01,328 INFO sqlalchemy.engine.Engine [cached since 0.08426s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:02:01,328 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 17:02:01,329 INFO sqlalchemy.engine.Engine [cached since 0.01922s ago] {}
2025-12-23 17:02:01,329 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 17:02:01,329 INFO sqlalchemy.engine.Engine [cached since 0.01575s ago] {}
2025-12-23 17:02:01,329 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE tenants.is_super_admin = false AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:02:01,329 INFO sqlalchemy.engine.Engine [cached since 0.01308s ago] {'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62401 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:02:01,330 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:02:01,339 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:02:01,340 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:02:01,340 INFO sqlalchemy.engine.Engine [cached since 0.4779s ago] {'username_1': 'admin'}
2025-12-23 17:02:01,340 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:02:01,340 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:02:01,340 INFO sqlalchemy.engine.Engine [cached since 0.4782s ago] {'username_1': 'admin'}
2025-12-23 17:02:01,341 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:02:01,342 INFO sqlalchemy.engine.Engine [cached since 0.09771s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:02:01,342 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:02:01,342 INFO sqlalchemy.engine.Engine [cached since 0.09846s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62420 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 17:02:01,343 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:02:01,344 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:02:01,344 INFO sqlalchemy.engine.Engine [generated in 0.00006s] {}
2025-12-23 17:02:01,345 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:02:01,345 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:02:01,345 INFO sqlalchemy.engine.Engine [cached since 0.4836s ago] {'username_1': 'admin'}
2025-12-23 17:02:01,346 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:02:01,346 INFO sqlalchemy.engine.Engine [generated in 0.00008s] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:02:01,347 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:02:01,347 INFO sqlalchemy.engine.Engine [cached since 0.0008481s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:02:01,348 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:02:01,348 INFO sqlalchemy.engine.Engine [cached since 0.1038s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62419 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:02:01,348 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62420 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 17:02:01,349 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:02:01,349 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:02:01,349 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:02:01,349 INFO sqlalchemy.engine.Engine [cached since 0.4877s ago] {'username_1': 'admin'}
2025-12-23 17:02:01,350 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:02:01,350 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:02:01,350 INFO sqlalchemy.engine.Engine [cached since 0.4883s ago] {'username_1': 'admin'}
2025-12-23 17:02:01,350 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:02:01,350 INFO sqlalchemy.engine.Engine [cached since 0.1067s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:02:01,351 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:02:01,351 INFO sqlalchemy.engine.Engine [cached since 0.1072s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:02:01,351 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:02:01,351 INFO sqlalchemy.engine.Engine [cached since 0.007664s ago] {}
INFO:     127.0.0.1:62420 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 17:02:01,351 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:02:01,352 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:02:01,352 INFO sqlalchemy.engine.Engine [cached since 0.005804s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:02:01,353 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:02:01,353 INFO sqlalchemy.engine.Engine [cached since 0.006365s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62419 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:02:01,353 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:02:01,354 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:02:01,354 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:02:01,354 INFO sqlalchemy.engine.Engine [cached since 0.4919s ago] {'username_1': 'admin'}
2025-12-23 17:02:01,355 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:02:01,355 INFO sqlalchemy.engine.Engine [cached since 0.1109s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:02:01,355 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:02:01,355 INFO sqlalchemy.engine.Engine [cached since 0.01159s ago] {}
2025-12-23 17:02:01,357 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:02:01,357 INFO sqlalchemy.engine.Engine [cached since 0.01058s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:02:01,358 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:02:01,358 INFO sqlalchemy.engine.Engine [cached since 0.01207s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62419 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:02:01,359 INFO sqlalchemy.engine.Engine ROLLBACK
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [30290]
INFO:     Started server process [30332]
INFO:     Waiting for application startup.
2025-12-23 17:02:49,607 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 17:02:49,607 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 17:02:49,617 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 17:02:49,617 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 17:02:49,618 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 17:02:49,618 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 17:02:49,622 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:02:49,624 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:02:49,624 INFO sqlalchemy.engine.Engine [generated in 0.00010s] {'table_name': 'tenants', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:02:49,626 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:02:49,626 INFO sqlalchemy.engine.Engine [cached since 0.001919s ago] {'table_name': 'tenant_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:02:49,626 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:02:49,627 INFO sqlalchemy.engine.Engine [cached since 0.002275s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:02:49,627 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:02:49,627 INFO sqlalchemy.engine.Engine [cached since 0.002557s ago] {'table_name': 'patients', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:02:49,627 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:02:49,627 INFO sqlalchemy.engine.Engine [cached since 0.002818s ago] {'table_name': 'clinical_records', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:02:49,627 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:02:49,627 INFO sqlalchemy.engine.Engine [cached since 0.003067s ago] {'table_name': 'appointments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:02:49,628 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:02:49,628 INFO sqlalchemy.engine.Engine [cached since 0.003668s ago] {'table_name': 'attachments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:02:49,628 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:02:49,628 INFO sqlalchemy.engine.Engine [cached since 0.003891s ago] {'table_name': 'prescriptions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:02:49,628 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:02:49,628 INFO sqlalchemy.engine.Engine [cached since 0.004107s ago] {'table_name': 'invoices', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:02:49,629 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [30332]
Process SpawnProcess-39:
Traceback (most recent call last):
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/uvicorn/config.py", line 439, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/opt/homebrew/Cellar/python@3.13/3.13.7/Frameworks/Python.framework/Versions/3.13/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/main.py", line 5, in <module>
    from sqlalchemy.future import select, delete
ImportError: cannot import name 'delete' from 'sqlalchemy.future' (/Users/manishpatil/Developer/GitHub/Clinical-OS/backend/venv/lib/python3.13/site-packages/sqlalchemy/future/__init__.py). Did you mean: 'Delete'?
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Started server process [31047]
INFO:     Waiting for application startup.
2025-12-23 17:07:50,995 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 17:07:50,995 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 17:07:51,008 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 17:07:51,008 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 17:07:51,009 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 17:07:51,009 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 17:07:51,017 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:07:51,019 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:07:51,019 INFO sqlalchemy.engine.Engine [generated in 0.00011s] {'table_name': 'tenants', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:07:51,021 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:07:51,021 INFO sqlalchemy.engine.Engine [cached since 0.002245s ago] {'table_name': 'tenant_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:07:51,021 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:07:51,021 INFO sqlalchemy.engine.Engine [cached since 0.002651s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:07:51,021 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:07:51,022 INFO sqlalchemy.engine.Engine [cached since 0.002999s ago] {'table_name': 'patients', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:07:51,022 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:07:51,022 INFO sqlalchemy.engine.Engine [cached since 0.003337s ago] {'table_name': 'clinical_records', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:07:51,022 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:07:51,022 INFO sqlalchemy.engine.Engine [cached since 0.003651s ago] {'table_name': 'appointments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:07:51,023 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:07:51,023 INFO sqlalchemy.engine.Engine [cached since 0.004279s ago] {'table_name': 'attachments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:07:51,023 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:07:51,023 INFO sqlalchemy.engine.Engine [cached since 0.004554s ago] {'table_name': 'prescriptions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:07:51,023 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:07:51,023 INFO sqlalchemy.engine.Engine [cached since 0.004819s ago] {'table_name': 'invoices', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:07:51,024 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-12-23 17:07:51,039 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:07:51,047 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:07:51,047 INFO sqlalchemy.engine.Engine [generated in 0.00008s] {'username_1': 'admin'}
INFO:     127.0.0.1:62508 - "GET /docs HTTP/1.1" 200 OK
2025-12-23 17:07:51,054 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:07:51,054 INFO sqlalchemy.engine.Engine [generated in 0.00007s] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62465 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:07:51,056 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:07:51,070 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:07:51,071 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:07:51,071 INFO sqlalchemy.engine.Engine [cached since 0.02407s ago] {'username_1': 'admin'}
2025-12-23 17:07:51,071 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:07:51,071 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:07:51,071 INFO sqlalchemy.engine.Engine [cached since 0.02455s ago] {'username_1': 'admin'}
2025-12-23 17:07:51,075 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:07:51,075 INFO sqlalchemy.engine.Engine [cached since 0.02123s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62477 - "POST /token HTTP/1.1" 200 OK
2025-12-23 17:07:51,532 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62475 - "GET /users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:62465 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:07:51,534 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62537 - "OPTIONS /tenants HTTP/1.1" 200 OK
INFO:     127.0.0.1:62539 - "OPTIONS /stats/growth HTTP/1.1" 200 OK
INFO:     127.0.0.1:62541 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
INFO:     127.0.0.1:62542 - "OPTIONS /tenants HTTP/1.1" 200 OK
INFO:     127.0.0.1:62475 - "OPTIONS /stats/growth HTTP/1.1" 200 OK
2025-12-23 17:07:51,546 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:07:51,547 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:07:51,547 INFO sqlalchemy.engine.Engine [cached since 0.5002s ago] {'username_1': 'admin'}
2025-12-23 17:07:51,547 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:07:51,547 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:07:51,547 INFO sqlalchemy.engine.Engine [cached since 0.501s ago] {'username_1': 'admin'}
2025-12-23 17:07:51,548 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:07:51,548 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:07:51,548 INFO sqlalchemy.engine.Engine [cached since 0.5017s ago] {'username_1': 'admin'}
2025-12-23 17:07:51,552 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:07:51,552 INFO sqlalchemy.engine.Engine [cached since 0.4979s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:07:51,552 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:07:51,552 INFO sqlalchemy.engine.Engine [cached since 0.4985s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:07:51,553 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:07:51,553 INFO sqlalchemy.engine.Engine [cached since 0.4992s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62539 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 17:07:51,554 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:07:51,556 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:07:51,556 INFO sqlalchemy.engine.Engine [generated in 0.00026s] {}
2025-12-23 17:07:51,561 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 17:07:51,561 INFO sqlalchemy.engine.Engine [generated in 0.00011s] {}
2025-12-23 17:07:51,566 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:07:51,566 INFO sqlalchemy.engine.Engine [generated in 0.00021s] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:07:51,567 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 17:07:51,567 INFO sqlalchemy.engine.Engine [generated in 0.00006s] {}
2025-12-23 17:07:51,567 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:07:51,567 INFO sqlalchemy.engine.Engine [cached since 0.00183s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62537 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:07:51,569 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:07:51,570 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:07:51,570 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:07:51,570 INFO sqlalchemy.engine.Engine [cached since 0.5237s ago] {'username_1': 'admin'}
2025-12-23 17:07:51,571 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE tenants.is_super_admin = false AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:07:51,571 INFO sqlalchemy.engine.Engine [generated in 0.00005s] {'roles_1': Jsonb(['admin'])}
2025-12-23 17:07:51,572 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:07:51,572 INFO sqlalchemy.engine.Engine [cached since 0.518s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:07:51,573 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:07:51,574 INFO sqlalchemy.engine.Engine [cached since 0.01794s ago] {}
INFO:     127.0.0.1:62465 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:07:51,576 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:07:51,577 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:07:51,578 INFO sqlalchemy.engine.Engine [cached since 0.01239s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:07:51,579 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:07:51,579 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:07:51,579 INFO sqlalchemy.engine.Engine [cached since 0.5329s ago] {'username_1': 'admin'}
2025-12-23 17:07:51,580 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:07:51,580 INFO sqlalchemy.engine.Engine [cached since 0.01495s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:07:51,582 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:07:51,582 INFO sqlalchemy.engine.Engine [cached since 0.5278s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62537 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:07:51,583 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:07:51,585 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 17:07:51,585 INFO sqlalchemy.engine.Engine [cached since 0.02415s ago] {}
2025-12-23 17:07:51,586 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:07:51,587 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:07:51,587 INFO sqlalchemy.engine.Engine [cached since 0.5402s ago] {'username_1': 'admin'}
2025-12-23 17:07:51,588 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 17:07:51,588 INFO sqlalchemy.engine.Engine [cached since 0.02131s ago] {}
2025-12-23 17:07:51,589 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:07:51,589 INFO sqlalchemy.engine.Engine [cached since 0.5351s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:07:51,590 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE tenants.is_super_admin = false AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:07:51,590 INFO sqlalchemy.engine.Engine [cached since 0.01888s ago] {'roles_1': Jsonb(['admin'])}
2025-12-23 17:07:51,591 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:07:51,591 INFO sqlalchemy.engine.Engine [cached since 0.0354s ago] {}
INFO:     127.0.0.1:62465 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:07:51,593 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:07:51,593 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:07:51,593 INFO sqlalchemy.engine.Engine [cached since 0.02772s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:07:51,595 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:07:51,595 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:07:51,595 INFO sqlalchemy.engine.Engine [cached since 0.5489s ago] {'username_1': 'admin'}
2025-12-23 17:07:51,596 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:07:51,596 INFO sqlalchemy.engine.Engine [cached since 0.03077s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:07:51,598 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:07:51,598 INFO sqlalchemy.engine.Engine [cached since 0.5441s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62537 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:07:51,599 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:07:51,601 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 17:07:51,601 INFO sqlalchemy.engine.Engine [cached since 0.0394s ago] {}
2025-12-23 17:07:51,602 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 17:07:51,602 INFO sqlalchemy.engine.Engine [cached since 0.03568s ago] {}
2025-12-23 17:07:51,608 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE tenants.is_super_admin = false AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:07:51,608 INFO sqlalchemy.engine.Engine [cached since 0.03739s ago] {'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62465 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:07:51,612 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:07:51,618 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:07:51,619 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:07:51,619 INFO sqlalchemy.engine.Engine [cached since 0.5724s ago] {'username_1': 'admin'}
2025-12-23 17:07:51,624 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:07:51,624 INFO sqlalchemy.engine.Engine [cached since 0.5701s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62539 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 17:07:51,627 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:07:51,630 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:07:51,631 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:07:51,631 INFO sqlalchemy.engine.Engine [cached since 0.5844s ago] {'username_1': 'admin'}
2025-12-23 17:07:51,632 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:07:51,633 INFO sqlalchemy.engine.Engine [cached since 0.5786s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62539 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 17:07:51,634 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:08:51,212 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:08:51,216 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:08:51,216 INFO sqlalchemy.engine.Engine [cached since 60.17s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:62560 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 17:08:51,221 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:08:51,221 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:08:51,221 INFO sqlalchemy.engine.Engine [cached since 60.17s ago] {'username_1': 'admin'}
2025-12-23 17:08:51,238 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:08:51,238 INFO sqlalchemy.engine.Engine [cached since 60.18s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:08:51,239 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:08:51,239 INFO sqlalchemy.engine.Engine [cached since 60.18s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:08:51,240 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:08:51,240 INFO sqlalchemy.engine.Engine [cached since 59.68s ago] {}
INFO:     127.0.0.1:62560 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:08:51,240 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:08:51,241 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:08:51,241 INFO sqlalchemy.engine.Engine [cached since 59.68s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:08:51,242 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:08:51,242 INFO sqlalchemy.engine.Engine [cached since 59.68s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62558 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:08:51,243 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:08:51,243 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:08:51,243 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:08:51,243 INFO sqlalchemy.engine.Engine [cached since 60.2s ago] {'username_1': 'admin'}
2025-12-23 17:08:51,245 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:08:51,245 INFO sqlalchemy.engine.Engine [cached since 60.19s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:08:51,245 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:08:51,245 INFO sqlalchemy.engine.Engine [cached since 59.69s ago] {}
2025-12-23 17:08:51,247 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:08:51,247 INFO sqlalchemy.engine.Engine [cached since 59.68s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:08:51,248 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:08:51,248 INFO sqlalchemy.engine.Engine [cached since 59.68s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62558 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:08:51,249 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:08:52,113 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:08:52,113 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:08:52,113 INFO sqlalchemy.engine.Engine [cached since 61.07s ago] {'username_1': 'admin'}
2025-12-23 17:08:52,114 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:08:52,114 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:08:52,114 INFO sqlalchemy.engine.Engine [cached since 61.07s ago] {'username_1': 'admin'}
2025-12-23 17:08:52,114 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:08:52,114 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:08:52,114 INFO sqlalchemy.engine.Engine [cached since 61.07s ago] {'username_1': 'admin'}
2025-12-23 17:08:52,115 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:08:52,115 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:08:52,115 INFO sqlalchemy.engine.Engine [cached since 61.07s ago] {'username_1': 'admin'}
2025-12-23 17:08:52,115 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:08:52,116 INFO sqlalchemy.engine.Engine [cached since 61.06s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:08:52,116 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:08:52,116 INFO sqlalchemy.engine.Engine [cached since 61.06s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:08:52,116 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:08:52,116 INFO sqlalchemy.engine.Engine [cached since 61.06s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62562 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 17:08:52,117 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:08:52,117 INFO sqlalchemy.engine.Engine [cached since 60.56s ago] {}
2025-12-23 17:08:52,117 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:08:52,117 INFO sqlalchemy.engine.Engine [cached since 61.06s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:08:52,117 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:08:52,118 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 17:08:52,118 INFO sqlalchemy.engine.Engine [cached since 60.56s ago] {}
2025-12-23 17:08:52,118 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:08:52,118 INFO sqlalchemy.engine.Engine [cached since 60.55s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62564 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:08:52,120 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:08:52,121 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 17:08:52,121 INFO sqlalchemy.engine.Engine [cached since 60.55s ago] {}
2025-12-23 17:08:52,121 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:08:52,121 INFO sqlalchemy.engine.Engine [cached since 60.56s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:08:52,121 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE tenants.is_super_admin = false AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:08:52,121 INFO sqlalchemy.engine.Engine [cached since 60.55s ago] {'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62560 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:08:52,123 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62558 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:08:52,124 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:08:52,125 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:08:52,125 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:08:52,125 INFO sqlalchemy.engine.Engine [cached since 61.08s ago] {'username_1': 'admin'}
2025-12-23 17:08:52,125 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:08:52,125 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:08:52,125 INFO sqlalchemy.engine.Engine [cached since 61.08s ago] {'username_1': 'admin'}
2025-12-23 17:08:52,126 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:08:52,126 INFO sqlalchemy.engine.Engine [cached since 61.07s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:08:52,126 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:08:52,126 INFO sqlalchemy.engine.Engine [cached since 61.07s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:08:52,126 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:08:52,126 INFO sqlalchemy.engine.Engine [cached since 60.57s ago] {}
2025-12-23 17:08:52,127 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 17:08:52,127 INFO sqlalchemy.engine.Engine [cached since 60.57s ago] {}
2025-12-23 17:08:52,127 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:08:52,127 INFO sqlalchemy.engine.Engine [cached since 60.56s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:08:52,127 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 17:08:52,127 INFO sqlalchemy.engine.Engine [cached since 60.56s ago] {}
2025-12-23 17:08:52,127 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:08:52,127 INFO sqlalchemy.engine.Engine [cached since 60.56s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62560 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:08:52,128 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:08:52,129 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE tenants.is_super_admin = false AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:08:52,129 INFO sqlalchemy.engine.Engine [cached since 60.56s ago] {'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62558 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:08:52,130 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:08:52,170 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:08:52,171 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:08:52,171 INFO sqlalchemy.engine.Engine [cached since 61.12s ago] {'username_1': 'admin'}
2025-12-23 17:08:52,172 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:08:52,172 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:08:52,172 INFO sqlalchemy.engine.Engine [cached since 61.13s ago] {'username_1': 'admin'}
2025-12-23 17:08:52,174 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:08:52,174 INFO sqlalchemy.engine.Engine [cached since 61.12s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:08:52,175 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:08:52,175 INFO sqlalchemy.engine.Engine [cached since 61.12s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:08:52,175 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:08:52,175 INFO sqlalchemy.engine.Engine [cached since 60.62s ago] {}
2025-12-23 17:08:52,176 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 17:08:52,176 INFO sqlalchemy.engine.Engine [cached since 60.61s ago] {}
2025-12-23 17:08:52,177 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:08:52,177 INFO sqlalchemy.engine.Engine [cached since 60.61s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:08:52,177 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 17:08:52,177 INFO sqlalchemy.engine.Engine [cached since 60.61s ago] {}
2025-12-23 17:08:52,178 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:08:52,178 INFO sqlalchemy.engine.Engine [cached since 60.61s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:08:52,179 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE tenants.is_super_admin = false AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:08:52,179 INFO sqlalchemy.engine.Engine [cached since 60.61s ago] {'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62560 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:08:52,180 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62558 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:08:52,181 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:08:52,182 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:08:52,183 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:08:52,183 INFO sqlalchemy.engine.Engine [cached since 61.14s ago] {'username_1': 'admin'}
2025-12-23 17:08:52,185 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:08:52,185 INFO sqlalchemy.engine.Engine [cached since 61.13s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62562 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 17:08:52,186 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:08:52,188 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:08:52,188 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:08:52,188 INFO sqlalchemy.engine.Engine [cached since 61.14s ago] {'username_1': 'admin'}
2025-12-23 17:08:52,188 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:08:52,188 INFO sqlalchemy.engine.Engine [cached since 61.13s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62562 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 17:08:52,189 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:08:52,888 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:08:52,888 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:08:52,889 INFO sqlalchemy.engine.Engine [cached since 61.84s ago] {'username_1': 'admin'}
2025-12-23 17:08:52,889 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:08:52,890 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:08:52,890 INFO sqlalchemy.engine.Engine [cached since 61.84s ago] {'username_1': 'admin'}
2025-12-23 17:08:52,891 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:08:52,891 INFO sqlalchemy.engine.Engine [cached since 61.84s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:08:52,892 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:08:52,892 INFO sqlalchemy.engine.Engine [cached since 61.84s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62558 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:08:52,893 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:08:52,893 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:08:52,893 INFO sqlalchemy.engine.Engine [cached since 61.34s ago] {}
2025-12-23 17:08:52,894 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:08:52,894 INFO sqlalchemy.engine.Engine [cached since 61.33s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:08:52,895 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:08:52,895 INFO sqlalchemy.engine.Engine [cached since 61.33s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62562 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:08:52,896 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:08:52,897 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:08:52,897 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:08:52,897 INFO sqlalchemy.engine.Engine [cached since 61.85s ago] {'username_1': 'admin'}
2025-12-23 17:08:52,898 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:08:52,898 INFO sqlalchemy.engine.Engine [cached since 61.84s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:08:52,899 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:08:52,899 INFO sqlalchemy.engine.Engine [cached since 61.34s ago] {}
2025-12-23 17:08:52,900 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:08:52,900 INFO sqlalchemy.engine.Engine [cached since 61.33s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:08:52,901 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:08:52,901 INFO sqlalchemy.engine.Engine [cached since 61.34s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62562 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:08:52,903 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62562 - "OPTIONS /users HTTP/1.1" 200 OK
INFO:     127.0.0.1:62558 - "OPTIONS /settings HTTP/1.1" 200 OK
2025-12-23 17:08:54,473 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:08:54,473 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:08:54,473 INFO sqlalchemy.engine.Engine [cached since 63.43s ago] {'username_1': 'admin'}
2025-12-23 17:08:54,477 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:08:54,478 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:08:54,478 INFO sqlalchemy.engine.Engine [cached since 63.43s ago] {'username_1': 'admin'}
2025-12-23 17:08:54,479 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:08:54,479 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:08:54,479 INFO sqlalchemy.engine.Engine [cached since 63.43s ago] {'username_1': 'admin'}
2025-12-23 17:08:54,481 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:08:54,481 INFO sqlalchemy.engine.Engine [cached since 63.43s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:08:54,483 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:08:54,483 INFO sqlalchemy.engine.Engine [generated in 0.00022s] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:08:54,486 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:08:54,486 INFO sqlalchemy.engine.Engine [generated in 0.00014s] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62560 - "GET /users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:62564 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:08:54,493 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:08:54,493 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62562 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 17:08:54,494 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:08:54,495 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:08:54,495 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:08:54,495 INFO sqlalchemy.engine.Engine [cached since 63.45s ago] {'username_1': 'admin'}
2025-12-23 17:08:54,496 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:08:54,496 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:08:54,496 INFO sqlalchemy.engine.Engine [cached since 63.45s ago] {'username_1': 'admin'}
2025-12-23 17:08:54,497 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:08:54,497 INFO sqlalchemy.engine.Engine [cached since 0.01082s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:08:54,497 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:08:54,497 INFO sqlalchemy.engine.Engine [cached since 0.01404s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62564 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:08:54,498 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62562 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 17:08:54,498 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:09:00,652 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:00,652 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:00,652 INFO sqlalchemy.engine.Engine [cached since 69.61s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:62568 - "POST /token HTTP/1.1" 200 OK
2025-12-23 17:09:00,892 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:09:00,905 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:00,905 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:00,905 INFO sqlalchemy.engine.Engine [cached since 69.86s ago] {'username_1': 'admin'}
2025-12-23 17:09:00,906 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:09:00,906 INFO sqlalchemy.engine.Engine [cached since 69.85s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62568 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:09:00,907 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:09:00,908 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:00,908 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:00,908 INFO sqlalchemy.engine.Engine [cached since 69.86s ago] {'username_1': 'admin'}
2025-12-23 17:09:00,909 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:09:00,909 INFO sqlalchemy.engine.Engine [cached since 69.85s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62568 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:09:00,909 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:09:00,923 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:00,923 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:00,923 INFO sqlalchemy.engine.Engine [cached since 69.88s ago] {'username_1': 'admin'}
2025-12-23 17:09:00,923 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:00,923 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:00,923 INFO sqlalchemy.engine.Engine [cached since 69.88s ago] {'username_1': 'admin'}
2025-12-23 17:09:00,924 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:00,924 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:00,924 INFO sqlalchemy.engine.Engine [cached since 69.88s ago] {'username_1': 'admin'}
2025-12-23 17:09:00,924 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:09:00,924 INFO sqlalchemy.engine.Engine [cached since 69.87s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:09:00,925 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:09:00,925 INFO sqlalchemy.engine.Engine [cached since 69.87s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:09:00,925 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 17:09:00,925 INFO sqlalchemy.engine.Engine [cached since 69.36s ago] {}
2025-12-23 17:09:00,925 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:09:00,925 INFO sqlalchemy.engine.Engine [cached since 69.37s ago] {}
2025-12-23 17:09:00,925 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:09:00,925 INFO sqlalchemy.engine.Engine [cached since 69.87s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:09:00,926 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 17:09:00,926 INFO sqlalchemy.engine.Engine [cached since 69.36s ago] {}
2025-12-23 17:09:00,926 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:09:00,926 INFO sqlalchemy.engine.Engine [cached since 69.36s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62572 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 17:09:00,926 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE tenants.is_super_admin = false AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:09:00,926 INFO sqlalchemy.engine.Engine [cached since 69.36s ago] {'roles_1': Jsonb(['admin'])}
2025-12-23 17:09:00,927 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:09:00,927 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:09:00,927 INFO sqlalchemy.engine.Engine [cached since 69.36s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:09:00,938 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:00,939 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:00,939 INFO sqlalchemy.engine.Engine [cached since 69.89s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:62568 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:09:00,939 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62570 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:09:00,940 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:09:00,940 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:00,940 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:00,940 INFO sqlalchemy.engine.Engine [cached since 69.89s ago] {'username_1': 'admin'}
2025-12-23 17:09:00,940 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:00,940 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:00,940 INFO sqlalchemy.engine.Engine [cached since 69.89s ago] {'username_1': 'admin'}
2025-12-23 17:09:00,941 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:09:00,941 INFO sqlalchemy.engine.Engine [cached since 69.89s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62572 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 17:09:00,941 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:09:00,942 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:09:00,942 INFO sqlalchemy.engine.Engine [cached since 69.89s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:09:00,942 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:09:00,942 INFO sqlalchemy.engine.Engine [cached since 69.89s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:09:00,942 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:00,942 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:00,942 INFO sqlalchemy.engine.Engine [cached since 69.9s ago] {'username_1': 'admin'}
2025-12-23 17:09:00,943 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 17:09:00,943 INFO sqlalchemy.engine.Engine [cached since 69.38s ago] {}
2025-12-23 17:09:00,943 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:09:00,943 INFO sqlalchemy.engine.Engine [cached since 69.39s ago] {}
2025-12-23 17:09:00,943 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 17:09:00,943 INFO sqlalchemy.engine.Engine [cached since 69.38s ago] {}
2025-12-23 17:09:00,944 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:09:00,944 INFO sqlalchemy.engine.Engine [cached since 69.89s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:09:00,944 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE tenants.is_super_admin = false AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:09:00,944 INFO sqlalchemy.engine.Engine [cached since 69.37s ago] {'roles_1': Jsonb(['admin'])}
2025-12-23 17:09:00,944 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:09:00,944 INFO sqlalchemy.engine.Engine [cached since 69.38s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62572 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 17:09:00,944 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62568 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:09:00,945 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:09:00,945 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:09:00,945 INFO sqlalchemy.engine.Engine [cached since 69.38s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:09:00,945 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:00,945 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:00,945 INFO sqlalchemy.engine.Engine [cached since 69.9s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:62570 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:09:00,946 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:09:00,946 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:09:00,946 INFO sqlalchemy.engine.Engine [cached since 69.89s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:09:00,947 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:00,947 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:00,947 INFO sqlalchemy.engine.Engine [cached since 69.9s ago] {'username_1': 'admin'}
2025-12-23 17:09:00,947 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 17:09:00,947 INFO sqlalchemy.engine.Engine [cached since 69.39s ago] {}
2025-12-23 17:09:00,947 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 17:09:00,947 INFO sqlalchemy.engine.Engine [cached since 69.38s ago] {}
2025-12-23 17:09:00,947 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:09:00,947 INFO sqlalchemy.engine.Engine [cached since 69.89s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:09:00,948 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE tenants.is_super_admin = false AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:09:00,948 INFO sqlalchemy.engine.Engine [cached since 69.38s ago] {'roles_1': Jsonb(['admin'])}
2025-12-23 17:09:00,948 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:09:00,948 INFO sqlalchemy.engine.Engine [cached since 69.39s ago] {}
2025-12-23 17:09:00,948 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:09:00,948 INFO sqlalchemy.engine.Engine [cached since 69.38s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62568 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:09:00,949 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:09:00,949 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:09:00,949 INFO sqlalchemy.engine.Engine [cached since 69.38s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62570 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:09:00,949 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:09:04,355 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:04,355 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:04,356 INFO sqlalchemy.engine.Engine [cached since 73.31s ago] {'username_1': 'admin'}
2025-12-23 17:09:04,357 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:04,357 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:04,357 INFO sqlalchemy.engine.Engine [cached since 73.31s ago] {'username_1': 'admin'}
2025-12-23 17:09:04,359 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:09:04,359 INFO sqlalchemy.engine.Engine [cached since 73.3s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:09:04,360 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:09:04,360 INFO sqlalchemy.engine.Engine [cached since 73.31s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:09:04,360 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:09:04,360 INFO sqlalchemy.engine.Engine [cached since 72.8s ago] {}
INFO:     127.0.0.1:62568 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:09:04,361 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:09:04,362 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:09:04,362 INFO sqlalchemy.engine.Engine [cached since 72.8s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:09:04,363 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:09:04,363 INFO sqlalchemy.engine.Engine [cached since 72.8s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62570 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:09:04,364 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:09:04,366 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:04,366 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:04,366 INFO sqlalchemy.engine.Engine [cached since 73.32s ago] {'username_1': 'admin'}
2025-12-23 17:09:04,367 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:09:04,368 INFO sqlalchemy.engine.Engine [cached since 73.31s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:09:04,368 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:09:04,368 INFO sqlalchemy.engine.Engine [cached since 72.81s ago] {}
2025-12-23 17:09:04,370 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:09:04,370 INFO sqlalchemy.engine.Engine [cached since 72.8s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:09:04,371 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:09:04,371 INFO sqlalchemy.engine.Engine [cached since 72.81s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62570 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:09:04,372 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62570 - "OPTIONS /tenants/68923952-1085-4d0e-85bf-66bbbb8ad0c7/impersonate HTTP/1.1" 200 OK
2025-12-23 17:09:08,105 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:08,106 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:08,106 INFO sqlalchemy.engine.Engine [cached since 77.06s ago] {'username_1': 'admin'}
2025-12-23 17:09:08,108 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:09:08,108 INFO sqlalchemy.engine.Engine [cached since 77.05s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:09:08,109 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER
2025-12-23 17:09:08,109 INFO sqlalchemy.engine.Engine [generated in 0.00014s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'param_1': 1}
2025-12-23 17:09:08,111 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:09:08,111 INFO sqlalchemy.engine.Engine [cached since 13.63s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
INFO:     127.0.0.1:62568 - "POST /tenants/68923952-1085-4d0e-85bf-66bbbb8ad0c7/impersonate HTTP/1.1" 200 OK
2025-12-23 17:09:08,112 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62581 - "OPTIONS /tenants/68923952-1085-4d0e-85bf-66bbbb8ad0c7 HTTP/1.1" 200 OK
2025-12-23 17:09:34,826 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:34,828 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:34,828 INFO sqlalchemy.engine.Engine [cached since 103.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:09:34,834 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:09:34,834 INFO sqlalchemy.engine.Engine [cached since 103.8s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 17:09:34,836 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62581 - "DELETE /tenants/68923952-1085-4d0e-85bf-66bbbb8ad0c7 HTTP/1.1" 403 Forbidden
2025-12-23 17:09:52,955 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:52,956 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:52,956 INFO sqlalchemy.engine.Engine [cached since 121.9s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:62583 - "POST /token HTTP/1.1" 200 OK
2025-12-23 17:09:53,256 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:09:53,305 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:53,306 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:53,306 INFO sqlalchemy.engine.Engine [cached since 122.3s ago] {'username_1': 'admin'}
2025-12-23 17:09:53,310 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:09:53,310 INFO sqlalchemy.engine.Engine [cached since 122.3s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62583 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:09:53,311 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:09:53,312 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:53,312 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:53,312 INFO sqlalchemy.engine.Engine [cached since 122.3s ago] {'username_1': 'admin'}
2025-12-23 17:09:53,316 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:09:53,316 INFO sqlalchemy.engine.Engine [cached since 122.3s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62583 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:09:53,317 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:09:53,328 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:53,329 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:53,329 INFO sqlalchemy.engine.Engine [cached since 122.3s ago] {'username_1': 'admin'}
2025-12-23 17:09:53,330 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:53,330 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:53,330 INFO sqlalchemy.engine.Engine [cached since 122.3s ago] {'username_1': 'admin'}
2025-12-23 17:09:53,331 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:53,331 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:53,331 INFO sqlalchemy.engine.Engine [cached since 122.3s ago] {'username_1': 'admin'}
2025-12-23 17:09:53,331 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:09:53,331 INFO sqlalchemy.engine.Engine [cached since 122.3s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:09:53,332 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 17:09:53,332 INFO sqlalchemy.engine.Engine [cached since 121.8s ago] {}
2025-12-23 17:09:53,333 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:09:53,333 INFO sqlalchemy.engine.Engine [cached since 122.3s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:09:53,333 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:09:53,333 INFO sqlalchemy.engine.Engine [cached since 122.3s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:09:53,333 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 17:09:53,333 INFO sqlalchemy.engine.Engine [cached since 121.8s ago] {}
INFO:     127.0.0.1:62590 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 17:09:53,334 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:09:53,334 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:09:53,334 INFO sqlalchemy.engine.Engine [cached since 121.8s ago] {}
2025-12-23 17:09:53,336 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE tenants.is_super_admin = false AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:09:53,336 INFO sqlalchemy.engine.Engine [cached since 121.8s ago] {'roles_1': Jsonb(['admin'])}
2025-12-23 17:09:53,337 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:53,338 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:53,338 INFO sqlalchemy.engine.Engine [cached since 122.3s ago] {'username_1': 'admin'}
2025-12-23 17:09:53,339 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:09:53,339 INFO sqlalchemy.engine.Engine [cached since 121.8s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62583 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:09:53,340 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:09:53,340 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:09:53,340 INFO sqlalchemy.engine.Engine [cached since 121.8s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:09:53,341 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:09:53,341 INFO sqlalchemy.engine.Engine [cached since 122.3s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:09:53,341 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:53,341 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:53,341 INFO sqlalchemy.engine.Engine [cached since 122.3s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:62589 - "GET /tenants HTTP/1.1" 200 OK
INFO:     127.0.0.1:62590 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 17:09:53,342 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:09:53,342 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:09:53,343 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:09:53,343 INFO sqlalchemy.engine.Engine [cached since 122.3s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:09:53,343 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:53,343 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:53,343 INFO sqlalchemy.engine.Engine [cached since 122.3s ago] {'username_1': 'admin'}
2025-12-23 17:09:53,344 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:53,344 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:53,344 INFO sqlalchemy.engine.Engine [cached since 122.3s ago] {'username_1': 'admin'}
2025-12-23 17:09:53,344 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 17:09:53,344 INFO sqlalchemy.engine.Engine [cached since 121.8s ago] {}
2025-12-23 17:09:53,344 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:09:53,344 INFO sqlalchemy.engine.Engine [cached since 122.3s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:09:53,345 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:09:53,345 INFO sqlalchemy.engine.Engine [cached since 122.3s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:09:53,345 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 17:09:53,345 INFO sqlalchemy.engine.Engine [cached since 121.8s ago] {}
2025-12-23 17:09:53,345 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:09:53,346 INFO sqlalchemy.engine.Engine [cached since 121.8s ago] {}
INFO:     127.0.0.1:62590 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 17:09:53,347 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:09:53,348 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:09:53,348 INFO sqlalchemy.engine.Engine [cached since 121.8s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:09:53,348 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE tenants.is_super_admin = false AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:09:53,348 INFO sqlalchemy.engine.Engine [cached since 121.8s ago] {'roles_1': Jsonb(['admin'])}
2025-12-23 17:09:53,349 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:09:53,349 INFO sqlalchemy.engine.Engine [cached since 121.8s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62583 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:09:53,349 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62589 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:09:53,350 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:09:53,351 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:53,351 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:53,351 INFO sqlalchemy.engine.Engine [cached since 122.3s ago] {'username_1': 'admin'}
2025-12-23 17:09:53,351 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:53,351 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:53,351 INFO sqlalchemy.engine.Engine [cached since 122.3s ago] {'username_1': 'admin'}
2025-12-23 17:09:53,352 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:09:53,352 INFO sqlalchemy.engine.Engine [cached since 122.3s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:09:53,352 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:09:53,352 INFO sqlalchemy.engine.Engine [cached since 122.3s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:09:53,353 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:09:53,353 INFO sqlalchemy.engine.Engine [cached since 121.8s ago] {}
2025-12-23 17:09:53,353 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 17:09:53,353 INFO sqlalchemy.engine.Engine [cached since 121.8s ago] {}
2025-12-23 17:09:53,353 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:09:53,353 INFO sqlalchemy.engine.Engine [cached since 121.8s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:09:53,353 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 17:09:53,353 INFO sqlalchemy.engine.Engine [cached since 121.8s ago] {}
2025-12-23 17:09:53,354 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:09:53,354 INFO sqlalchemy.engine.Engine [cached since 121.8s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:09:53,354 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE tenants.is_super_admin = false AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:09:53,354 INFO sqlalchemy.engine.Engine [cached since 121.8s ago] {'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62589 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:09:53,355 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62583 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:09:53,355 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:09:55,468 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:55,469 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:55,469 INFO sqlalchemy.engine.Engine [cached since 124.4s ago] {'username_1': 'admin'}
2025-12-23 17:09:55,470 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:55,470 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:55,470 INFO sqlalchemy.engine.Engine [cached since 124.4s ago] {'username_1': 'admin'}
2025-12-23 17:09:55,471 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:09:55,471 INFO sqlalchemy.engine.Engine [cached since 124.4s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:09:55,472 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:09:55,472 INFO sqlalchemy.engine.Engine [cached since 124.4s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62589 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:09:55,472 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:09:55,473 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:09:55,473 INFO sqlalchemy.engine.Engine [cached since 123.9s ago] {}
2025-12-23 17:09:55,474 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:09:55,474 INFO sqlalchemy.engine.Engine [cached since 123.9s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:09:55,475 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:09:55,475 INFO sqlalchemy.engine.Engine [cached since 123.9s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62583 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:09:55,476 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:09:55,477 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:09:55,477 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:09:55,477 INFO sqlalchemy.engine.Engine [cached since 124.4s ago] {'username_1': 'admin'}
2025-12-23 17:09:55,478 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:09:55,478 INFO sqlalchemy.engine.Engine [cached since 124.4s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:09:55,479 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:09:55,479 INFO sqlalchemy.engine.Engine [cached since 123.9s ago] {}
2025-12-23 17:09:55,480 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:09:55,480 INFO sqlalchemy.engine.Engine [cached since 123.9s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:09:55,485 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:09:55,486 INFO sqlalchemy.engine.Engine [cached since 123.9s ago] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62583 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:09:55,487 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:10:00,124 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:10:00,124 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:10:00,124 INFO sqlalchemy.engine.Engine [cached since 129.1s ago] {'username_1': 'admin'}
2025-12-23 17:10:00,127 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:10:00,127 INFO sqlalchemy.engine.Engine [cached since 129.1s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:10:00,128 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:10:00,128 INFO sqlalchemy.engine.Engine [cached since 129.1s ago] {'pk_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 17:10:00,138 INFO sqlalchemy.engine.Engine DELETE FROM attachments WHERE attachments.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:10:00,138 INFO sqlalchemy.engine.Engine [generated in 0.00024s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 17:10:00,145 INFO sqlalchemy.engine.Engine DELETE FROM prescriptions WHERE prescriptions.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:10:00,146 INFO sqlalchemy.engine.Engine [generated in 0.00027s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 17:10:00,148 INFO sqlalchemy.engine.Engine DELETE FROM invoices WHERE invoices.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:10:00,149 INFO sqlalchemy.engine.Engine [generated in 0.00019s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 17:10:00,152 INFO sqlalchemy.engine.Engine DELETE FROM clinical_records WHERE clinical_records.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:10:00,152 INFO sqlalchemy.engine.Engine [generated in 0.00028s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 17:10:00,156 INFO sqlalchemy.engine.Engine DELETE FROM appointments WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:10:00,156 INFO sqlalchemy.engine.Engine [generated in 0.00023s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 17:10:00,159 INFO sqlalchemy.engine.Engine DELETE FROM patients WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:10:00,159 INFO sqlalchemy.engine.Engine [generated in 0.00019s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 17:10:00,165 INFO sqlalchemy.engine.Engine DELETE FROM users WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:10:00,165 INFO sqlalchemy.engine.Engine [generated in 0.00036s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 17:10:00,172 INFO sqlalchemy.engine.Engine DELETE FROM tenant_settings WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:10:00,172 INFO sqlalchemy.engine.Engine [generated in 0.00037s] {'tenant_id_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 17:10:00,179 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id AS tenant_settings_id, tenant_settings.tenant_id AS tenant_settings_tenant_id, tenant_settings.clinic_name AS tenant_settings_clinic_name, tenant_settings.logo_url AS tenant_settings_logo_url, tenant_settings.address AS tenant_settings_address, tenant_settings.phone AS tenant_settings_phone, tenant_settings.website AS tenant_settings_website 
FROM tenant_settings 
WHERE %(param_1)s::VARCHAR = tenant_settings.tenant_id
2025-12-23 17:10:00,179 INFO sqlalchemy.engine.Engine [generated in 0.00032s] {'param_1': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 17:10:00,183 INFO sqlalchemy.engine.Engine DELETE FROM tenants WHERE tenants.id = %(id)s::VARCHAR
2025-12-23 17:10:00,183 INFO sqlalchemy.engine.Engine [generated in 0.00025s] {'id': '68923952-1085-4d0e-85bf-66bbbb8ad0c7'}
2025-12-23 17:10:00,186 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:62583 - "DELETE /tenants/68923952-1085-4d0e-85bf-66bbbb8ad0c7 HTTP/1.1" 200 OK
2025-12-23 17:10:00,193 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:10:00,194 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:10:00,194 INFO sqlalchemy.engine.Engine [cached since 129.1s ago] {'username_1': 'admin'}
2025-12-23 17:10:00,195 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:10:00,196 INFO sqlalchemy.engine.Engine [cached since 129.1s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:10:00,196 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:10:00,196 INFO sqlalchemy.engine.Engine [cached since 128.6s ago] {}
2025-12-23 17:10:00,197 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:10:00,197 INFO sqlalchemy.engine.Engine [cached since 128.6s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62583 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:10:00,199 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62601 - "OPTIONS /tenants HTTP/1.1" 200 OK
2025-12-23 17:11:09,271 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:11:09,279 INFO sqlalchemy.engine.Engine INSERT INTO tenants (id, name, domain, created_at, is_super_admin) VALUES (%(id)s::VARCHAR, %(name)s::VARCHAR, %(domain)s::VARCHAR, %(created_at)s::TIMESTAMP WITHOUT TIME ZONE, %(is_super_admin)s)
2025-12-23 17:11:09,280 INFO sqlalchemy.engine.Engine [generated in 0.00224s] {'id': '28f9a367-8132-4723-a360-333fbc5db17b', 'name': 'Apollo Hospital', 'domain': 'apollo-hospital.clinicalos.com', 'created_at': datetime.datetime(2025, 12, 23, 11, 41, 9, 279869), 'is_super_admin': False}
2025-12-23 17:11:09,532 INFO sqlalchemy.engine.Engine INSERT INTO users (id, tenant_id, username, hashed_password, roles, is_active, created_at) VALUES (%(id)s::VARCHAR, %(tenant_id)s::VARCHAR, %(username)s::VARCHAR, %(hashed_password)s::VARCHAR, %(roles)s::JSONB, %(is_active)s, %(created_at)s::TIMESTAMP WITHOUT TIME ZONE)
2025-12-23 17:11:09,532 INFO sqlalchemy.engine.Engine [generated in 0.00022s] {'id': 'bb694d03-9fce-4a37-9218-edef4ed62d43', 'tenant_id': '28f9a367-8132-4723-a360-333fbc5db17b', 'username': 'apollo_admin', 'hashed_password': '$2b$12$sJ1QaFek6K.NR5CWCrz1aOg8uheKntVb7zNtIt/WTROVHhjxDnD.S', 'roles': Jsonb(['admin']), 'is_active': True, 'created_at': datetime.datetime(2025, 12, 23, 11, 41, 9, 532151)}
2025-12-23 17:11:09,540 INFO sqlalchemy.engine.Engine COMMIT
2025-12-23 17:11:09,543 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:11:09,543 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:11:09,543 INFO sqlalchemy.engine.Engine [generated in 0.00007s] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:62601 - "POST /tenants HTTP/1.1" 200 OK
2025-12-23 17:11:09,547 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:11:09,563 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:11:09,563 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:11:09,563 INFO sqlalchemy.engine.Engine [cached since 198.5s ago] {'username_1': 'admin'}
2025-12-23 17:11:09,567 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:11:09,567 INFO sqlalchemy.engine.Engine [cached since 198.5s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:11:09,567 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:11:09,567 INFO sqlalchemy.engine.Engine [cached since 198s ago] {}
2025-12-23 17:11:09,568 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:11:09,568 INFO sqlalchemy.engine.Engine [cached since 198s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:11:09,569 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:11:09,569 INFO sqlalchemy.engine.Engine [cached since 198s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62601 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:11:09,570 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62603 - "OPTIONS /tenants/28f9a367-8132-4723-a360-333fbc5db17b/impersonate HTTP/1.1" 200 OK
2025-12-23 17:11:31,207 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:11:31,209 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:11:31,209 INFO sqlalchemy.engine.Engine [cached since 220.2s ago] {'username_1': 'admin'}
2025-12-23 17:11:31,218 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:11:31,219 INFO sqlalchemy.engine.Engine [cached since 220.2s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:11:31,222 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER
2025-12-23 17:11:31,222 INFO sqlalchemy.engine.Engine [cached since 143.1s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 1}
2025-12-23 17:11:31,225 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:11:31,225 INFO sqlalchemy.engine.Engine [cached since 156.7s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:62603 - "POST /tenants/28f9a367-8132-4723-a360-333fbc5db17b/impersonate HTTP/1.1" 200 OK
2025-12-23 17:11:31,227 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:12:03,228 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:12:03,235 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:12:03,236 INFO sqlalchemy.engine.Engine [cached since 252.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:12:03,238 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:12:03,238 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:12:03,239 INFO sqlalchemy.engine.Engine [cached since 252.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:12:03,240 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:12:03,240 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:12:03,240 INFO sqlalchemy.engine.Engine [cached since 252.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:12:03,242 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:12:03,242 INFO sqlalchemy.engine.Engine [cached since 188.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:12:03,243 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:12:03,243 INFO sqlalchemy.engine.Engine [cached since 188.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:62621 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:12:03,244 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:12:03,244 INFO sqlalchemy.engine.Engine [cached since 252.2s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:12:03,244 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:12:03,245 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:12:03,245 INFO sqlalchemy.engine.Engine [cached since 252.2s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:62625 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:12:03,246 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:12:03,246 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:12:03,246 INFO sqlalchemy.engine.Engine [cached since 252.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:12:03,247 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:12:03,249 INFO sqlalchemy.engine.Engine INSERT INTO tenant_settings (id, tenant_id, clinic_name, logo_url, address, phone, website) VALUES (%(id)s::VARCHAR, %(tenant_id)s::VARCHAR, %(clinic_name)s::VARCHAR, %(logo_url)s::VARCHAR, %(address)s::VARCHAR, %(phone)s::VARCHAR, %(website)s::VARCHAR)
2025-12-23 17:12:03,249 INFO sqlalchemy.engine.Engine [generated in 0.00020s] {'id': 'a7d9080f-fa63-459f-8a1f-30687d32adef', 'tenant_id': '28f9a367-8132-4723-a360-333fbc5db17b', 'clinic_name': 'Apollo Hospital', 'logo_url': None, 'address': None, 'phone': None, 'website': None}
2025-12-23 17:12:03,250 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:12:03,250 INFO sqlalchemy.engine.Engine [cached since 188.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:62621 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:12:03,251 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:12:03,251 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:62624 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 17:12:03,253 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:12:03,253 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:12:03,253 INFO sqlalchemy.engine.Engine [cached since 252.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:12:03,254 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:12:03,254 INFO sqlalchemy.engine.Engine [cached since 188.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:62624 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 17:12:03,255 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:12:03,257 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:12:03,257 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:12:03,257 INFO sqlalchemy.engine.Engine [cached since 252.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:12:03,257 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:12:03,257 INFO sqlalchemy.engine.Engine [cached since 188.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:62624 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 17:12:03,258 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:12:03,259 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:12:03,259 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:12:03,259 INFO sqlalchemy.engine.Engine [cached since 252.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:12:03,259 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:12:03,259 INFO sqlalchemy.engine.Engine [cached since 188.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:62624 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 17:12:03,260 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62649 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 17:12:49,328 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:12:49,332 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:12:49,333 INFO sqlalchemy.engine.Engine [cached since 298.3s ago] {'username_1': 'admin'}
2025-12-23 17:12:49,380 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:12:49,380 INFO sqlalchemy.engine.Engine [cached since 298.3s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:62649 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:12:49,382 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62649 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
INFO:     127.0.0.1:62650 - "OPTIONS /tenants HTTP/1.1" 200 OK
INFO:     127.0.0.1:62651 - "OPTIONS /stats/growth HTTP/1.1" 200 OK
2025-12-23 17:12:49,499 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:12:49,500 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:12:49,500 INFO sqlalchemy.engine.Engine [cached since 298.5s ago] {'username_1': 'admin'}
2025-12-23 17:12:49,502 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:12:49,502 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:12:49,502 INFO sqlalchemy.engine.Engine [cached since 298.5s ago] {'username_1': 'admin'}
2025-12-23 17:12:49,503 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:12:49,503 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:12:49,503 INFO sqlalchemy.engine.Engine [cached since 298.5s ago] {'username_1': 'admin'}
2025-12-23 17:12:49,505 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:12:49,505 INFO sqlalchemy.engine.Engine [cached since 298.5s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:12:49,505 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:12:49,505 INFO sqlalchemy.engine.Engine [cached since 298.5s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:12:49,505 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:12:49,505 INFO sqlalchemy.engine.Engine [cached since 298.5s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:12:49,506 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 17:12:49,506 INFO sqlalchemy.engine.Engine [cached since 297.9s ago] {}
2025-12-23 17:12:49,506 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:12:49,506 INFO sqlalchemy.engine.Engine [cached since 298s ago] {}
INFO:     127.0.0.1:62651 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 17:12:49,507 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:12:49,508 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 17:12:49,508 INFO sqlalchemy.engine.Engine [cached since 297.9s ago] {}
2025-12-23 17:12:49,508 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:12:49,508 INFO sqlalchemy.engine.Engine [cached since 297.9s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:12:49,509 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE tenants.is_super_admin = false AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:12:49,510 INFO sqlalchemy.engine.Engine [cached since 297.9s ago] {'roles_1': Jsonb(['admin'])}
2025-12-23 17:12:49,511 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:12:49,511 INFO sqlalchemy.engine.Engine [cached since 297.9s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:62650 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:12:49,511 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62649 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:12:49,513 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62678 - "GET /docs HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'debug_db.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [31047]
INFO:     Started server process [31533]
INFO:     Waiting for application startup.
2025-12-23 17:15:53,529 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 17:15:53,529 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 17:15:53,539 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 17:15:53,539 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 17:15:53,540 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 17:15:53,540 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 17:15:53,545 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:15:53,547 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:15:53,547 INFO sqlalchemy.engine.Engine [generated in 0.00010s] {'table_name': 'tenants', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:15:53,549 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:15:53,549 INFO sqlalchemy.engine.Engine [cached since 0.002413s ago] {'table_name': 'tenant_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:15:53,550 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:15:53,550 INFO sqlalchemy.engine.Engine [cached since 0.002798s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:15:53,550 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:15:53,550 INFO sqlalchemy.engine.Engine [cached since 0.003115s ago] {'table_name': 'patients', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:15:53,550 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:15:53,550 INFO sqlalchemy.engine.Engine [cached since 0.003407s ago] {'table_name': 'clinical_records', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:15:53,551 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:15:53,551 INFO sqlalchemy.engine.Engine [cached since 0.00368s ago] {'table_name': 'appointments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:15:53,551 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:15:53,551 INFO sqlalchemy.engine.Engine [cached since 0.004221s ago] {'table_name': 'attachments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:15:53,551 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:15:53,551 INFO sqlalchemy.engine.Engine [cached since 0.004464s ago] {'table_name': 'prescriptions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:15:53,552 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:15:53,552 INFO sqlalchemy.engine.Engine [cached since 0.004682s ago] {'table_name': 'invoices', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:15:53,552 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [31533]
INFO:     Started server process [31828]
INFO:     Waiting for application startup.
2025-12-23 17:17:00,961 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 17:17:00,961 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 17:17:00,977 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 17:17:00,977 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 17:17:00,979 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 17:17:00,979 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 17:17:00,985 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:17:00,987 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:17:00,987 INFO sqlalchemy.engine.Engine [generated in 0.00010s] {'table_name': 'tenants', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:17:00,990 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:17:00,990 INFO sqlalchemy.engine.Engine [cached since 0.003052s ago] {'table_name': 'tenant_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:17:00,990 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:17:00,990 INFO sqlalchemy.engine.Engine [cached since 0.003439s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:17:00,990 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:17:00,990 INFO sqlalchemy.engine.Engine [cached since 0.003827s ago] {'table_name': 'patients', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:17:00,991 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:17:00,991 INFO sqlalchemy.engine.Engine [cached since 0.004158s ago] {'table_name': 'clinical_records', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:17:00,991 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:17:00,991 INFO sqlalchemy.engine.Engine [cached since 0.004455s ago] {'table_name': 'appointments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:17:00,992 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:17:00,992 INFO sqlalchemy.engine.Engine [cached since 0.005024s ago] {'table_name': 'attachments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:17:00,992 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:17:00,992 INFO sqlalchemy.engine.Engine [cached since 0.005265s ago] {'table_name': 'prescriptions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:17:00,992 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:17:00,992 INFO sqlalchemy.engine.Engine [cached since 0.005487s ago] {'table_name': 'invoices', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:17:00,992 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [31828]
INFO:     Started server process [31844]
INFO:     Waiting for application startup.
2025-12-23 17:17:09,117 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 17:17:09,117 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 17:17:09,118 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 17:17:09,119 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 17:17:09,119 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 17:17:09,119 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 17:17:09,121 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:17:09,122 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:17:09,123 INFO sqlalchemy.engine.Engine [generated in 0.00010s] {'table_name': 'tenants', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:17:09,126 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:17:09,128 INFO sqlalchemy.engine.Engine [cached since 0.00563s ago] {'table_name': 'tenant_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:17:09,129 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:17:09,129 INFO sqlalchemy.engine.Engine [cached since 0.006571s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:17:09,130 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:17:09,130 INFO sqlalchemy.engine.Engine [cached since 0.007285s ago] {'table_name': 'patients', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:17:09,131 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:17:09,131 INFO sqlalchemy.engine.Engine [cached since 0.008115s ago] {'table_name': 'clinical_records', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:17:09,131 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:17:09,131 INFO sqlalchemy.engine.Engine [cached since 0.0087s ago] {'table_name': 'appointments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:17:09,132 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:17:09,132 INFO sqlalchemy.engine.Engine [cached since 0.01006s ago] {'table_name': 'attachments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:17:09,133 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:17:09,133 INFO sqlalchemy.engine.Engine [cached since 0.01044s ago] {'table_name': 'prescriptions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:17:09,133 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:17:09,133 INFO sqlalchemy.engine.Engine [cached since 0.01082s ago] {'table_name': 'invoices', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:17:09,134 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     127.0.0.1:62711 - "GET /docs HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [31844]
INFO:     Started server process [32001]
INFO:     Waiting for application startup.
2025-12-23 17:17:33,087 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 17:17:33,087 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 17:17:33,088 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 17:17:33,088 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 17:17:33,088 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 17:17:33,088 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 17:17:33,090 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:17:33,092 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:17:33,092 INFO sqlalchemy.engine.Engine [generated in 0.00011s] {'table_name': 'tenants', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:17:33,093 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:17:33,093 INFO sqlalchemy.engine.Engine [cached since 0.001304s ago] {'table_name': 'tenant_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:17:33,093 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:17:33,093 INFO sqlalchemy.engine.Engine [cached since 0.001658s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:17:33,094 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:17:33,094 INFO sqlalchemy.engine.Engine [cached since 0.002055s ago] {'table_name': 'patients', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:17:33,094 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:17:33,094 INFO sqlalchemy.engine.Engine [cached since 0.002391s ago] {'table_name': 'clinical_records', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:17:33,095 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:17:33,095 INFO sqlalchemy.engine.Engine [cached since 0.003039s ago] {'table_name': 'appointments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:17:33,095 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:17:33,096 INFO sqlalchemy.engine.Engine [cached since 0.00376s ago] {'table_name': 'attachments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:17:33,096 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:17:33,096 INFO sqlalchemy.engine.Engine [cached since 0.004344s ago] {'table_name': 'prescriptions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:17:33,096 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:17:33,096 INFO sqlalchemy.engine.Engine [cached since 0.004655s ago] {'table_name': 'invoices', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:17:33,097 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     127.0.0.1:62735 - "GET /ping-check HTTP/1.1" 200 OK
INFO:     127.0.0.1:62752 - "GET /users/me HTTP/1.1" 401 Unauthorized
WARNING:  WatchFiles detected changes in 'debug_db.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [32001]
WARNING:  WatchFiles detected changes in 'debug_db.py'. Reloading...
INFO:     Started server process [32255]
INFO:     Waiting for application startup.
2025-12-23 17:18:19,689 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 17:18:19,689 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 17:18:19,690 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 17:18:19,690 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 17:18:19,691 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 17:18:19,691 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 17:18:19,695 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:18:19,699 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:18:19,699 INFO sqlalchemy.engine.Engine [generated in 0.00014s] {'table_name': 'tenants', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:18:19,700 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:18:19,700 INFO sqlalchemy.engine.Engine [cached since 0.001477s ago] {'table_name': 'tenant_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:18:19,701 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:18:19,701 INFO sqlalchemy.engine.Engine [cached since 0.00189s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:18:19,701 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:18:19,701 INFO sqlalchemy.engine.Engine [cached since 0.002253s ago] {'table_name': 'patients', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:18:19,701 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:18:19,701 INFO sqlalchemy.engine.Engine [cached since 0.002582s ago] {'table_name': 'clinical_records', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:18:19,702 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:18:19,702 INFO sqlalchemy.engine.Engine [cached since 0.002889s ago] {'table_name': 'appointments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:18:19,702 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:18:19,702 INFO sqlalchemy.engine.Engine [cached since 0.003285s ago] {'table_name': 'attachments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:18:19,702 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:18:19,702 INFO sqlalchemy.engine.Engine [cached since 0.00353s ago] {'table_name': 'prescriptions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:18:19,702 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:18:19,702 INFO sqlalchemy.engine.Engine [cached since 0.003768s ago] {'table_name': 'invoices', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:18:19,703 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     Started server process [32258]
INFO:     Waiting for application startup.
2025-12-23 17:18:20,968 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 17:18:20,968 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 17:18:20,970 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 17:18:20,970 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 17:18:20,971 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 17:18:20,971 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 17:18:20,975 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:18:20,982 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:18:20,982 INFO sqlalchemy.engine.Engine [generated in 0.00020s] {'table_name': 'tenants', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:18:20,990 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:18:20,990 INFO sqlalchemy.engine.Engine [cached since 0.007959s ago] {'table_name': 'tenant_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:18:20,995 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:18:20,996 INFO sqlalchemy.engine.Engine [cached since 0.01354s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:18:20,997 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:18:20,997 INFO sqlalchemy.engine.Engine [cached since 0.01469s ago] {'table_name': 'patients', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:18:20,998 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:18:20,998 INFO sqlalchemy.engine.Engine [cached since 0.01569s ago] {'table_name': 'clinical_records', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:18:20,999 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:18:20,999 INFO sqlalchemy.engine.Engine [cached since 0.01656s ago] {'table_name': 'appointments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:18:20,999 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:18:21,000 INFO sqlalchemy.engine.Engine [cached since 0.01737s ago] {'table_name': 'attachments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:18:21,000 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:18:21,000 INFO sqlalchemy.engine.Engine [cached since 0.01803s ago] {'table_name': 'prescriptions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:18:21,001 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:18:21,001 INFO sqlalchemy.engine.Engine [cached since 0.01894s ago] {'table_name': 'invoices', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:18:21,002 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-12-23 17:18:31,189 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:18:31,252 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:18:31,252 INFO sqlalchemy.engine.Engine [generated in 0.00038s] {'username_1': 'apollo_admin'}
2025-12-23 17:18:31,258 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:18:31,258 INFO sqlalchemy.engine.Engine [generated in 0.00008s] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:62767 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:18:31,260 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62838 - "GET / HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:62838 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:62870 - "GET / HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:62883 - "GET / HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:62883 - "GET / HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:62883 - "GET / HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:62891 - "GET / HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:62896 - "GET / HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:62965 - "GET / HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:62973 - "OPTIONS /users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:62974 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 17:28:15,014 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:15,027 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:15,027 INFO sqlalchemy.engine.Engine [cached since 583.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:15,084 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:28:15,084 INFO sqlalchemy.engine.Engine [cached since 583.8s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:62973 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:28:15,090 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:28:15,157 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:15,157 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:15,157 INFO sqlalchemy.engine.Engine [cached since 583.9s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:15,163 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:28:15,163 INFO sqlalchemy.engine.Engine [cached since 583.9s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:62973 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:28:15,164 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:28:19,011 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:19,013 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:19,014 INFO sqlalchemy.engine.Engine [cached since 587.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:19,019 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:28:19,020 INFO sqlalchemy.engine.Engine [cached since 587.8s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:62982 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:28:19,022 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:28:19,023 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:19,023 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:19,023 INFO sqlalchemy.engine.Engine [cached since 587.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:19,026 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:28:19,026 INFO sqlalchemy.engine.Engine [cached since 587.8s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:62982 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:28:19,027 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62982 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
INFO:     127.0.0.1:62983 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:28:19,069 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:19,069 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:19,069 INFO sqlalchemy.engine.Engine [cached since 587.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:19,072 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:28:19,072 INFO sqlalchemy.engine.Engine [cached since 587.8s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:28:19,092 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:28:19,092 INFO sqlalchemy.engine.Engine [generated in 0.00023s] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:28:19,100 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:28:19,100 INFO sqlalchemy.engine.Engine [generated in 0.00010s] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:28:19,102 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 17:28:19,102 INFO sqlalchemy.engine.Engine [generated in 0.00007s] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:62982 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:28:19,107 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:28:19,108 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:19,108 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:19,108 INFO sqlalchemy.engine.Engine [cached since 587.9s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:19,109 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:28:19,109 INFO sqlalchemy.engine.Engine [cached since 587.9s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:28:19,109 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:28:19,109 INFO sqlalchemy.engine.Engine [cached since 0.01764s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:28:19,111 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:28:19,111 INFO sqlalchemy.engine.Engine [cached since 0.01106s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:28:19,111 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 17:28:19,111 INFO sqlalchemy.engine.Engine [cached since 0.009176s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:62982 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:28:19,114 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:28:19,137 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:19,138 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:19,138 INFO sqlalchemy.engine.Engine [cached since 587.9s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:19,144 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:28:19,144 INFO sqlalchemy.engine.Engine [cached since 587.9s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:28:19,146 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:28:19,146 INFO sqlalchemy.engine.Engine [cached since 0.05442s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:28:19,149 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:28:19,149 INFO sqlalchemy.engine.Engine [cached since 0.04936s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:28:19,150 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 17:28:19,150 INFO sqlalchemy.engine.Engine [cached since 0.04794s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:62982 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:28:19,152 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62982 - "OPTIONS /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:62983 - "OPTIONS /patients HTTP/1.1" 200 OK
INFO:     127.0.0.1:62984 - "OPTIONS /users HTTP/1.1" 200 OK
INFO:     127.0.0.1:62982 - "OPTIONS /users HTTP/1.1" 200 OK
2025-12-23 17:28:22,857 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:22,861 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:22,861 INFO sqlalchemy.engine.Engine [cached since 591.6s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:22,865 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:22,865 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:22,865 INFO sqlalchemy.engine.Engine [cached since 591.6s ago] {'username_1': 'apollo_admin'}
INFO:     127.0.0.1:62986 - "OPTIONS /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:62987 - "OPTIONS /patients HTTP/1.1" 200 OK
2025-12-23 17:28:22,873 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:28:22,873 INFO sqlalchemy.engine.Engine [cached since 591.6s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:28:22,886 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 17:28:22,886 INFO sqlalchemy.engine.Engine [generated in 0.00014s] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
INFO:     127.0.0.1:62985 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:28:22,889 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62983 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 17:28:22,893 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:28:22,894 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:22,895 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:22,895 INFO sqlalchemy.engine.Engine [cached since 591.6s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:22,896 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 17:28:22,896 INFO sqlalchemy.engine.Engine [cached since 0.01016s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
INFO:     127.0.0.1:62983 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 17:28:22,897 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:28:22,963 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:22,963 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:22,963 INFO sqlalchemy.engine.Engine [cached since 591.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:22,963 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:22,963 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:22,963 INFO sqlalchemy.engine.Engine [cached since 591.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:22,973 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 17:28:22,973 INFO sqlalchemy.engine.Engine [generated in 0.00014s] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
2025-12-23 17:28:22,974 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:28:22,974 INFO sqlalchemy.engine.Engine [generated in 0.00010s] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:62984 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 17:28:22,975 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62982 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:28:22,979 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:28:22,980 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:22,980 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:22,980 INFO sqlalchemy.engine.Engine [cached since 591.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:22,981 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:22,981 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:22,981 INFO sqlalchemy.engine.Engine [cached since 591.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:22,982 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 17:28:22,982 INFO sqlalchemy.engine.Engine [cached since 0.008995s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
2025-12-23 17:28:22,983 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:28:22,983 INFO sqlalchemy.engine.Engine [cached since 0.008412s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:62984 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 17:28:22,983 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62982 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:28:22,984 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:28:24,184 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:24,184 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:24,185 INFO sqlalchemy.engine.Engine [cached since 592.9s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:24,187 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:28:24,187 INFO sqlalchemy.engine.Engine [cached since 592.9s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:62992 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:28:24,191 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:62992 - "OPTIONS /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 17:28:24,492 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:24,493 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:24,493 INFO sqlalchemy.engine.Engine [cached since 593.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:24,495 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 17:28:24,495 INFO sqlalchemy.engine.Engine [cached since 1.522s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:62992 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 17:28:24,498 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:28:26,007 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:26,008 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:26,008 INFO sqlalchemy.engine.Engine [cached since 594.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:26,010 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:28:26,010 INFO sqlalchemy.engine.Engine [cached since 594.8s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:62992 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:28:26,012 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:28:27,447 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:27,448 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:27,449 INFO sqlalchemy.engine.Engine [cached since 596.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:27,454 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:28:27,455 INFO sqlalchemy.engine.Engine [cached since 596.2s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:62992 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:28:27,458 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:28:27,749 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:27,750 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:27,750 INFO sqlalchemy.engine.Engine [cached since 596.5s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:27,754 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 17:28:27,754 INFO sqlalchemy.engine.Engine [cached since 4.781s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:62992 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 17:28:27,756 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:28:30,855 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:30,855 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:30,856 INFO sqlalchemy.engine.Engine [cached since 599.6s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:30,857 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:28:30,857 INFO sqlalchemy.engine.Engine [cached since 599.6s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63000 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:28:30,862 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:28:30,864 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:30,864 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:30,864 INFO sqlalchemy.engine.Engine [cached since 599.6s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:30,867 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:28:30,867 INFO sqlalchemy.engine.Engine [cached since 599.6s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63000 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:28:30,868 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:28:49,635 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:49,639 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:49,639 INFO sqlalchemy.engine.Engine [cached since 618.4s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:49,652 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:28:49,653 INFO sqlalchemy.engine.Engine [cached since 618.4s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63010 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:28:49,656 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:28:49,658 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:49,658 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:49,658 INFO sqlalchemy.engine.Engine [cached since 618.4s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:49,661 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:28:49,661 INFO sqlalchemy.engine.Engine [cached since 618.4s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63010 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:28:49,666 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:28:51,247 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:51,247 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:51,248 INFO sqlalchemy.engine.Engine [cached since 620s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:51,249 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:51,249 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:51,249 INFO sqlalchemy.engine.Engine [cached since 620s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:51,251 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:28:51,251 INFO sqlalchemy.engine.Engine [cached since 620s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:28:51,252 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:28:51,252 INFO sqlalchemy.engine.Engine [cached since 620s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:28:51,254 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:28:51,254 INFO sqlalchemy.engine.Engine [cached since 32.16s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63013 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:28:51,255 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:28:51,256 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:28:51,256 INFO sqlalchemy.engine.Engine [cached since 32.16s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:28:51,258 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 17:28:51,258 INFO sqlalchemy.engine.Engine [cached since 32.16s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63010 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:28:51,260 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:28:51,261 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:51,262 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:51,262 INFO sqlalchemy.engine.Engine [cached since 620s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:51,263 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:28:51,263 INFO sqlalchemy.engine.Engine [cached since 620s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:28:51,263 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:28:51,263 INFO sqlalchemy.engine.Engine [cached since 32.17s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:28:51,264 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:28:51,264 INFO sqlalchemy.engine.Engine [cached since 32.16s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:28:51,265 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 17:28:51,265 INFO sqlalchemy.engine.Engine [cached since 32.16s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63010 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:28:51,266 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:28:51,268 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:51,268 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:51,268 INFO sqlalchemy.engine.Engine [cached since 620s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:51,269 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:28:51,269 INFO sqlalchemy.engine.Engine [cached since 620s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:28:51,270 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:28:51,270 INFO sqlalchemy.engine.Engine [cached since 32.18s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:28:51,271 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:28:51,271 INFO sqlalchemy.engine.Engine [cached since 32.17s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:28:51,272 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 17:28:51,272 INFO sqlalchemy.engine.Engine [cached since 32.17s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63010 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:28:51,274 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:28:58,927 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:58,928 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:58,928 INFO sqlalchemy.engine.Engine [cached since 627.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:58,929 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:58,929 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:58,929 INFO sqlalchemy.engine.Engine [cached since 627.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:58,930 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:58,930 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:58,930 INFO sqlalchemy.engine.Engine [cached since 627.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:58,931 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:58,932 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:58,932 INFO sqlalchemy.engine.Engine [cached since 627.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:58,933 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 17:28:58,933 INFO sqlalchemy.engine.Engine [cached since 36.05s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
2025-12-23 17:28:58,935 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 17:28:58,935 INFO sqlalchemy.engine.Engine [cached since 35.96s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
INFO:     127.0.0.1:63017 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 17:28:58,937 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:28:58,937 INFO sqlalchemy.engine.Engine [cached since 35.96s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:28:58,937 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63018 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 17:28:58,939 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:28:58,939 INFO sqlalchemy.engine.Engine [cached since 627.7s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:28:58,939 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63019 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:28:58,941 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63020 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:28:58,943 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:58,943 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:58,943 INFO sqlalchemy.engine.Engine [cached since 627.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:58,944 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:28:58,945 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:58,945 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:58,945 INFO sqlalchemy.engine.Engine [cached since 627.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:58,947 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 17:28:58,947 INFO sqlalchemy.engine.Engine [cached since 35.97s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
2025-12-23 17:28:58,948 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:28:58,948 INFO sqlalchemy.engine.Engine [cached since 35.97s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63018 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 17:28:58,949 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63019 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:28:58,949 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:28:59,014 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:28:59,015 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:28:59,015 INFO sqlalchemy.engine.Engine [cached since 627.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:28:59,019 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 17:28:59,020 INFO sqlalchemy.engine.Engine [cached since 36.13s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
INFO:     127.0.0.1:63017 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 17:28:59,022 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:29:02,437 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:29:02,438 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:29:02,438 INFO sqlalchemy.engine.Engine [cached since 631.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:29:02,441 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:29:02,441 INFO sqlalchemy.engine.Engine [cached since 631.2s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63017 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:29:02,443 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:29:02,741 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:29:02,742 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:29:02,742 INFO sqlalchemy.engine.Engine [cached since 631.5s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:29:02,745 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 17:29:02,745 INFO sqlalchemy.engine.Engine [cached since 39.77s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:63017 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 17:29:02,747 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:29:04,206 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:29:04,207 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:29:04,207 INFO sqlalchemy.engine.Engine [cached since 633s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:29:04,212 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:29:04,213 INFO sqlalchemy.engine.Engine [cached since 633s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63022 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:29:04,216 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:29:09,529 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:29:09,530 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:29:09,530 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:29:09,532 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:29:09,532 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63029 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:29:09,533 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:29:09,534 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:29:09,535 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:29:09,535 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:29:09,537 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:29:09,537 INFO sqlalchemy.engine.Engine [cached since 638.3s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63029 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:29:09,539 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:29:12,061 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:29:12,062 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:29:12,062 INFO sqlalchemy.engine.Engine [cached since 640.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:29:12,077 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:29:12,078 INFO sqlalchemy.engine.Engine [cached since 640.8s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63029 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:29:12,086 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:29:12,107 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:29:12,108 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:29:12,108 INFO sqlalchemy.engine.Engine [cached since 640.9s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:29:12,114 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:29:12,114 INFO sqlalchemy.engine.Engine [cached since 640.9s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63029 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:29:12,117 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:29:15,709 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:29:15,710 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:29:15,710 INFO sqlalchemy.engine.Engine [cached since 644.5s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:29:15,726 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:29:15,727 INFO sqlalchemy.engine.Engine [cached since 644.5s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63037 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:29:15,736 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:29:15,743 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:29:15,743 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:29:15,743 INFO sqlalchemy.engine.Engine [cached since 644.5s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:29:15,753 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:29:15,753 INFO sqlalchemy.engine.Engine [cached since 644.5s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63037 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:29:15,755 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:29:16,582 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:29:16,582 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:29:16,583 INFO sqlalchemy.engine.Engine [cached since 645.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:29:16,591 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:29:16,591 INFO sqlalchemy.engine.Engine [cached since 645.3s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63037 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:29:16,605 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:29:16,606 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:29:16,606 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:29:16,606 INFO sqlalchemy.engine.Engine [cached since 645.4s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:29:16,622 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:29:16,622 INFO sqlalchemy.engine.Engine [cached since 645.4s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63037 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:29:16,633 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:29:22,793 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:29:22,797 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:29:22,797 INFO sqlalchemy.engine.Engine [cached since 651.5s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:29:22,819 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:29:22,820 INFO sqlalchemy.engine.Engine [cached since 651.6s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63045 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:29:22,829 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:29:22,830 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:29:22,830 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:29:22,830 INFO sqlalchemy.engine.Engine [cached since 651.6s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:29:22,832 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:29:22,832 INFO sqlalchemy.engine.Engine [cached since 651.6s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63045 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:29:22,832 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:29:27,272 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:29:27,273 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:29:27,273 INFO sqlalchemy.engine.Engine [cached since 656s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:29:27,275 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:29:27,275 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:29:27,275 INFO sqlalchemy.engine.Engine [cached since 656s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:29:27,278 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:29:27,278 INFO sqlalchemy.engine.Engine [cached since 656s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:29:27,280 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:29:27,280 INFO sqlalchemy.engine.Engine [cached since 656s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:29:27,284 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:29:27,284 INFO sqlalchemy.engine.Engine [cached since 68.19s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63049 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:29:27,286 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:29:27,287 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:29:27,287 INFO sqlalchemy.engine.Engine [cached since 68.19s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:29:27,289 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 17:29:27,289 INFO sqlalchemy.engine.Engine [cached since 68.19s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63048 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:29:27,291 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:29:27,292 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:29:27,292 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:29:27,292 INFO sqlalchemy.engine.Engine [cached since 656s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:29:27,294 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:29:27,294 INFO sqlalchemy.engine.Engine [cached since 656s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:29:27,295 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:29:27,295 INFO sqlalchemy.engine.Engine [cached since 68.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:29:27,296 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:29:27,296 INFO sqlalchemy.engine.Engine [cached since 68.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:29:27,297 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 17:29:27,297 INFO sqlalchemy.engine.Engine [cached since 68.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63048 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:29:27,298 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:29:27,299 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:29:27,299 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:29:27,299 INFO sqlalchemy.engine.Engine [cached since 656s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:29:27,300 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:29:27,300 INFO sqlalchemy.engine.Engine [cached since 656s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:29:27,301 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:29:27,301 INFO sqlalchemy.engine.Engine [cached since 68.21s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:29:27,302 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:29:27,302 INFO sqlalchemy.engine.Engine [cached since 68.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:29:27,302 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 17:29:27,302 INFO sqlalchemy.engine.Engine [cached since 68.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63048 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:29:27,303 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:30:59,469 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:30:59,471 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:30:59,471 INFO sqlalchemy.engine.Engine [cached since 748.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:30:59,477 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:30:59,477 INFO sqlalchemy.engine.Engine [cached since 748.2s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63071 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:30:59,482 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:30:59,483 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:30:59,483 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:30:59,483 INFO sqlalchemy.engine.Engine [cached since 748.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:30:59,485 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:30:59,485 INFO sqlalchemy.engine.Engine [cached since 748.2s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63071 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:30:59,487 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:30:59,496 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:30:59,497 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:30:59,497 INFO sqlalchemy.engine.Engine [cached since 748.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:30:59,502 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:30:59,502 INFO sqlalchemy.engine.Engine [cached since 748.2s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:30:59,507 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:30:59,507 INFO sqlalchemy.engine.Engine [cached since 160.4s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:30:59,509 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:30:59,509 INFO sqlalchemy.engine.Engine [cached since 160.4s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:30:59,511 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 17:30:59,511 INFO sqlalchemy.engine.Engine [cached since 160.4s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63071 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:30:59,511 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:30:59,513 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:30:59,514 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:30:59,514 INFO sqlalchemy.engine.Engine [cached since 748.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:30:59,515 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:30:59,515 INFO sqlalchemy.engine.Engine [cached since 748.3s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:30:59,517 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:30:59,517 INFO sqlalchemy.engine.Engine [cached since 160.4s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:30:59,518 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:30:59,518 INFO sqlalchemy.engine.Engine [cached since 160.4s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:30:59,521 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 17:30:59,521 INFO sqlalchemy.engine.Engine [cached since 160.4s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63071 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:30:59,523 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:30:59,525 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:30:59,525 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:30:59,525 INFO sqlalchemy.engine.Engine [cached since 748.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:30:59,526 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:30:59,527 INFO sqlalchemy.engine.Engine [cached since 748.3s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:30:59,527 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:30:59,527 INFO sqlalchemy.engine.Engine [cached since 160.4s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:30:59,528 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:30:59,528 INFO sqlalchemy.engine.Engine [cached since 160.4s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:30:59,528 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 17:30:59,528 INFO sqlalchemy.engine.Engine [cached since 160.4s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63071 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:30:59,529 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:35:22,211 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:35:22,216 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:35:22,217 INFO sqlalchemy.engine.Engine [cached since 852s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:63111 - "POST /token HTTP/1.1" 200 OK
2025-12-23 17:35:22,522 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63111 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 17:35:22,559 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:35:22,560 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:35:22,560 INFO sqlalchemy.engine.Engine [cached since 852.4s ago] {'username_1': 'admin'}
2025-12-23 17:35:22,569 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:35:22,569 INFO sqlalchemy.engine.Engine [cached since 852.4s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:63111 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:35:22,573 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63111 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
INFO:     127.0.0.1:63112 - "OPTIONS /tenants HTTP/1.1" 200 OK
2025-12-23 17:35:22,602 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:35:22,603 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:35:22,603 INFO sqlalchemy.engine.Engine [cached since 852.4s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:63113 - "OPTIONS /stats/growth HTTP/1.1" 200 OK
2025-12-23 17:35:22,605 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:35:22,605 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:35:22,605 INFO sqlalchemy.engine.Engine [cached since 852.4s ago] {'username_1': 'admin'}
2025-12-23 17:35:22,607 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:35:22,607 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:35:22,607 INFO sqlalchemy.engine.Engine [cached since 852.4s ago] {'username_1': 'admin'}
2025-12-23 17:35:22,609 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:35:22,609 INFO sqlalchemy.engine.Engine [cached since 852.4s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:35:22,621 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 17:35:22,621 INFO sqlalchemy.engine.Engine [generated in 0.00015s] {}
2025-12-23 17:35:22,625 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:35:22,625 INFO sqlalchemy.engine.Engine [cached since 852.4s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:35:22,627 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:35:22,627 INFO sqlalchemy.engine.Engine [generated in 0.00008s] {}
2025-12-23 17:35:22,628 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:35:22,628 INFO sqlalchemy.engine.Engine [cached since 852.4s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:63113 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 17:35:22,629 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:35:22,638 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:35:22,638 INFO sqlalchemy.engine.Engine [generated in 0.00085s] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:35:22,639 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 17:35:22,639 INFO sqlalchemy.engine.Engine [generated in 0.00008s] {}
2025-12-23 17:35:22,644 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE tenants.is_super_admin = false AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:35:22,644 INFO sqlalchemy.engine.Engine [generated in 0.00008s] {'roles_1': Jsonb(['admin'])}
2025-12-23 17:35:22,645 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:35:22,645 INFO sqlalchemy.engine.Engine [cached since 0.007618s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:63112 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:35:22,645 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63111 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:35:22,652 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:35:27,281 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:35:27,282 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:35:27,282 INFO sqlalchemy.engine.Engine [cached since 857.1s ago] {'username_1': 'admin'}
2025-12-23 17:35:27,283 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:35:27,284 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:35:27,284 INFO sqlalchemy.engine.Engine [cached since 857.1s ago] {'username_1': 'admin'}
2025-12-23 17:35:27,285 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:35:27,285 INFO sqlalchemy.engine.Engine [cached since 857.1s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:35:27,286 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:35:27,286 INFO sqlalchemy.engine.Engine [cached since 857.1s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:63112 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:35:27,287 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:35:27,288 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:35:27,288 INFO sqlalchemy.engine.Engine [cached since 4.661s ago] {}
2025-12-23 17:35:27,290 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:35:27,291 INFO sqlalchemy.engine.Engine [cached since 4.653s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:35:27,294 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:35:27,294 INFO sqlalchemy.engine.Engine [cached since 4.657s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:63113 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:35:27,295 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:35:32,517 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:35:32,518 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:35:32,518 INFO sqlalchemy.engine.Engine [cached since 862.3s ago] {'username_1': 'admin'}
2025-12-23 17:35:32,524 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:35:32,524 INFO sqlalchemy.engine.Engine [cached since 862.3s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:63121 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:35:32,526 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:35:32,537 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:35:32,538 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:35:32,538 INFO sqlalchemy.engine.Engine [cached since 862.3s ago] {'username_1': 'admin'}
2025-12-23 17:35:32,541 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:35:32,541 INFO sqlalchemy.engine.Engine [cached since 862.3s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:35:32,542 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:35:32,542 INFO sqlalchemy.engine.Engine [cached since 9.915s ago] {}
2025-12-23 17:35:32,543 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:35:32,543 INFO sqlalchemy.engine.Engine [cached since 9.906s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:35:32,543 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:35:32,543 INFO sqlalchemy.engine.Engine [cached since 9.906s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:63121 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:35:32,544 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63133 - "OPTIONS /tenants/28f9a367-8132-4723-a360-333fbc5db17b/impersonate HTTP/1.1" 200 OK
2025-12-23 17:35:47,861 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:35:47,862 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:35:47,862 INFO sqlalchemy.engine.Engine [cached since 877.7s ago] {'username_1': 'admin'}
2025-12-23 17:35:47,867 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:35:47,867 INFO sqlalchemy.engine.Engine [cached since 877.7s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:35:47,870 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER
2025-12-23 17:35:47,870 INFO sqlalchemy.engine.Engine [generated in 0.00021s] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 1}
2025-12-23 17:35:47,871 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:35:47,871 INFO sqlalchemy.engine.Engine [cached since 286s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63133 - "POST /tenants/28f9a367-8132-4723-a360-333fbc5db17b/impersonate HTTP/1.1" 200 OK
2025-12-23 17:35:47,872 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:35:48,010 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:35:48,010 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:35:48,010 INFO sqlalchemy.engine.Engine [cached since 877.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:35:48,018 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:35:48,018 INFO sqlalchemy.engine.Engine [cached since 877.8s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63133 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:35:48,022 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:35:48,038 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:35:48,039 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:35:48,039 INFO sqlalchemy.engine.Engine [cached since 877.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:35:48,041 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:35:48,041 INFO sqlalchemy.engine.Engine [cached since 877.8s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:35:48,043 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:35:48,043 INFO sqlalchemy.engine.Engine [cached since 290s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:35:48,045 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:35:48,045 INFO sqlalchemy.engine.Engine [cached since 290s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:35:48,046 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 17:35:48,046 INFO sqlalchemy.engine.Engine [cached since 290s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63133 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:35:48,048 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:37:19,861 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:19,863 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:19,864 INFO sqlalchemy.engine.Engine [cached since 969.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:19,869 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:19,869 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:19,869 INFO sqlalchemy.engine.Engine [cached since 969.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:19,870 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:19,870 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:19,870 INFO sqlalchemy.engine.Engine [cached since 969.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:19,870 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:19,870 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:19,870 INFO sqlalchemy.engine.Engine [cached since 969.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:19,902 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 17:37:19,902 INFO sqlalchemy.engine.Engine [cached since 378s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
2025-12-23 17:37:19,904 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 17:37:19,904 INFO sqlalchemy.engine.Engine [cached since 378.1s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
2025-12-23 17:37:19,905 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:37:19,905 INFO sqlalchemy.engine.Engine [cached since 969.7s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:37:19,929 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:37:19,929 INFO sqlalchemy.engine.Engine [cached since 378s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63159 - "GET /patients HTTP/1.1" 200 OK
INFO:     127.0.0.1:63158 - "GET /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:63161 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:37:19,931 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:37:19,931 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:37:19,931 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63160 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:37:19,932 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:37:19,933 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:19,933 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:19,933 INFO sqlalchemy.engine.Engine [cached since 969.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:19,936 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:19,936 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:19,936 INFO sqlalchemy.engine.Engine [cached since 969.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:19,938 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 17:37:19,938 INFO sqlalchemy.engine.Engine [cached since 378.1s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
2025-12-23 17:37:19,939 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:37:19,939 INFO sqlalchemy.engine.Engine [cached since 378s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63158 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 17:37:19,939 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63160 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:37:19,940 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:37:20,012 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:20,012 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:20,012 INFO sqlalchemy.engine.Engine [cached since 969.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:20,017 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 17:37:20,017 INFO sqlalchemy.engine.Engine [cached since 378.1s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
INFO:     127.0.0.1:63159 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 17:37:20,019 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:37:20,510 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:20,511 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:20,511 INFO sqlalchemy.engine.Engine [cached since 970.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:20,511 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:20,511 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:20,511 INFO sqlalchemy.engine.Engine [cached since 970.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:20,512 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:37:20,512 INFO sqlalchemy.engine.Engine [cached since 970.3s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:37:20,512 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:37:20,512 INFO sqlalchemy.engine.Engine [cached since 970.3s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:37:20,513 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:37:20,513 INFO sqlalchemy.engine.Engine [cached since 382.5s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63160 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:37:20,513 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:37:20,516 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:37:20,516 INFO sqlalchemy.engine.Engine [cached since 382.5s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:37:20,517 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 17:37:20,518 INFO sqlalchemy.engine.Engine [cached since 382.5s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63159 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:37:20,519 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:37:20,520 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:20,520 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:20,520 INFO sqlalchemy.engine.Engine [cached since 970.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:20,521 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:37:20,521 INFO sqlalchemy.engine.Engine [cached since 970.3s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:37:20,522 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:37:20,522 INFO sqlalchemy.engine.Engine [cached since 382.5s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:37:20,522 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:37:20,522 INFO sqlalchemy.engine.Engine [cached since 382.5s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:37:20,522 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 17:37:20,522 INFO sqlalchemy.engine.Engine [cached since 382.5s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63159 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:37:20,523 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:37:20,534 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:20,535 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:20,535 INFO sqlalchemy.engine.Engine [cached since 970.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:20,535 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:37:20,535 INFO sqlalchemy.engine.Engine [cached since 970.3s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:37:20,536 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:37:20,536 INFO sqlalchemy.engine.Engine [cached since 382.5s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:37:20,537 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:37:20,537 INFO sqlalchemy.engine.Engine [cached since 382.5s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:37:20,537 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 17:37:20,537 INFO sqlalchemy.engine.Engine [cached since 382.5s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63159 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:37:20,538 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:37:49,880 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:49,882 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:49,882 INFO sqlalchemy.engine.Engine [cached since 999.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:49,884 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:49,885 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:49,885 INFO sqlalchemy.engine.Engine [cached since 999.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:49,887 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:49,887 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:49,887 INFO sqlalchemy.engine.Engine [cached since 999.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:49,888 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:49,888 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:49,888 INFO sqlalchemy.engine.Engine [cached since 999.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:49,890 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 17:37:49,890 INFO sqlalchemy.engine.Engine [cached since 408.1s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
2025-12-23 17:37:49,891 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 17:37:49,891 INFO sqlalchemy.engine.Engine [cached since 408s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
2025-12-23 17:37:49,892 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:37:49,892 INFO sqlalchemy.engine.Engine [cached since 408s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63169 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 17:37:49,893 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63171 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:37:49,894 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:37:49,894 INFO sqlalchemy.engine.Engine [cached since 999.7s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:37:49,895 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:37:49,895 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:49,895 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:49,895 INFO sqlalchemy.engine.Engine [cached since 999.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:49,896 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:49,896 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:49,896 INFO sqlalchemy.engine.Engine [cached since 999.7s ago] {'username_1': 'apollo_admin'}
INFO:     127.0.0.1:63172 - "GET /users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:63170 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 17:37:49,898 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:37:49,898 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:37:49,899 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:49,899 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:49,899 INFO sqlalchemy.engine.Engine [cached since 999.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:49,899 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:37:49,899 INFO sqlalchemy.engine.Engine [cached since 408s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:37:49,900 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 17:37:49,900 INFO sqlalchemy.engine.Engine [cached since 408.1s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
INFO:     127.0.0.1:63171 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:37:49,900 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:37:49,901 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 17:37:49,901 INFO sqlalchemy.engine.Engine [cached since 408s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
INFO:     127.0.0.1:63169 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 17:37:49,902 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63170 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 17:37:49,902 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:37:51,009 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:51,010 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:51,010 INFO sqlalchemy.engine.Engine [cached since 1001s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:51,012 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:51,012 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:51,012 INFO sqlalchemy.engine.Engine [cached since 1001s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:51,014 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:37:51,014 INFO sqlalchemy.engine.Engine [cached since 1001s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:37:51,015 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:37:51,016 INFO sqlalchemy.engine.Engine [cached since 1001s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63169 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:37:51,017 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:37:51,019 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:37:51,019 INFO sqlalchemy.engine.Engine [cached since 413s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:37:51,021 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:37:51,021 INFO sqlalchemy.engine.Engine [cached since 413s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:37:51,022 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 17:37:51,023 INFO sqlalchemy.engine.Engine [cached since 413s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63170 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:37:51,024 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:37:51,026 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:51,026 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:51,026 INFO sqlalchemy.engine.Engine [cached since 1001s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:51,028 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:37:51,028 INFO sqlalchemy.engine.Engine [cached since 1001s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:37:51,029 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:37:51,029 INFO sqlalchemy.engine.Engine [cached since 413s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:37:51,030 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:37:51,030 INFO sqlalchemy.engine.Engine [cached since 413s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:37:51,034 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 17:37:51,035 INFO sqlalchemy.engine.Engine [cached since 413s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63170 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:37:51,036 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:37:51,038 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:51,038 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:51,038 INFO sqlalchemy.engine.Engine [cached since 1001s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:51,039 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:37:51,039 INFO sqlalchemy.engine.Engine [cached since 1001s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:37:51,040 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:37:51,040 INFO sqlalchemy.engine.Engine [cached since 413s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:37:51,040 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:37:51,041 INFO sqlalchemy.engine.Engine [cached since 413s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:37:51,041 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 17:37:51,041 INFO sqlalchemy.engine.Engine [cached since 413s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63170 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:37:51,042 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:37:51,598 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:51,599 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:51,599 INFO sqlalchemy.engine.Engine [cached since 1001s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:51,601 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:51,602 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:51,602 INFO sqlalchemy.engine.Engine [cached since 1001s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:51,604 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:51,604 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:51,604 INFO sqlalchemy.engine.Engine [cached since 1001s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:51,605 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:51,605 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:51,605 INFO sqlalchemy.engine.Engine [cached since 1001s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:51,607 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 17:37:51,607 INFO sqlalchemy.engine.Engine [cached since 409.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
2025-12-23 17:37:51,608 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:37:51,608 INFO sqlalchemy.engine.Engine [cached since 409.7s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:37:51,609 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 17:37:51,609 INFO sqlalchemy.engine.Engine [cached since 409.7s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
2025-12-23 17:37:51,610 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:37:51,610 INFO sqlalchemy.engine.Engine [cached since 1001s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63170 - "GET /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:63171 - "GET /users HTTP/1.1" 200 OK
INFO:     127.0.0.1:63169 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 17:37:51,612 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:37:51,612 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:37:51,612 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63172 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:37:51,613 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:37:51,614 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:51,614 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:51,614 INFO sqlalchemy.engine.Engine [cached since 1001s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:51,617 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 17:37:51,617 INFO sqlalchemy.engine.Engine [cached since 409.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
INFO:     127.0.0.1:63171 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 17:37:51,618 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:37:51,669 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:51,669 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:51,669 INFO sqlalchemy.engine.Engine [cached since 1001s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:51,670 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:51,670 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:51,670 INFO sqlalchemy.engine.Engine [cached since 1001s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:51,673 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:37:51,673 INFO sqlalchemy.engine.Engine [cached since 409.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:37:51,674 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 17:37:51,674 INFO sqlalchemy.engine.Engine [cached since 409.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
INFO:     127.0.0.1:63169 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:37:51,675 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63170 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 17:37:51,676 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:37:52,293 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:52,294 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:52,294 INFO sqlalchemy.engine.Engine [cached since 1002s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:52,296 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:37:52,296 INFO sqlalchemy.engine.Engine [cached since 1002s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63170 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:37:52,297 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:37:52,602 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:52,603 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:52,603 INFO sqlalchemy.engine.Engine [cached since 1002s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:52,607 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 17:37:52,607 INFO sqlalchemy.engine.Engine [cached since 410.7s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:63170 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 17:37:52,609 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:37:53,964 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:37:53,966 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:37:53,966 INFO sqlalchemy.engine.Engine [cached since 1004s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:37:53,969 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:37:53,970 INFO sqlalchemy.engine.Engine [cached since 1004s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63175 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:37:53,972 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63184 - "OPTIONS /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:63185 - "OPTIONS /patients HTTP/1.1" 200 OK
INFO:     127.0.0.1:63186 - "OPTIONS /users HTTP/1.1" 200 OK
2025-12-23 17:39:01,067 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:39:01,069 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:39:01,070 INFO sqlalchemy.engine.Engine [cached since 1071s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:39:01,073 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:39:01,073 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:39:01,073 INFO sqlalchemy.engine.Engine [cached since 1071s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:39:01,073 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:39:01,073 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:39:01,073 INFO sqlalchemy.engine.Engine [cached since 1071s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:39:01,073 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:39:01,073 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:39:01,074 INFO sqlalchemy.engine.Engine [cached since 1071s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:39:01,098 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 17:39:01,098 INFO sqlalchemy.engine.Engine [cached since 479.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
2025-12-23 17:39:01,099 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 17:39:01,099 INFO sqlalchemy.engine.Engine [cached since 479.3s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
2025-12-23 17:39:01,100 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:39:01,100 INFO sqlalchemy.engine.Engine [cached since 1071s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:39:01,100 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:39:01,100 INFO sqlalchemy.engine.Engine [cached since 479.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63185 - "GET /patients HTTP/1.1" 200 OK
INFO:     127.0.0.1:63184 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 17:39:01,101 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:39:01,101 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63186 - "GET /users HTTP/1.1" 200 OK
INFO:     127.0.0.1:63187 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:39:01,102 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:39:01,102 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:39:01,847 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:39:01,847 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:39:01,847 INFO sqlalchemy.engine.Engine [cached since 1072s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:39:01,848 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:39:01,849 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:39:01,849 INFO sqlalchemy.engine.Engine [cached since 1072s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:39:01,850 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:39:01,850 INFO sqlalchemy.engine.Engine [cached since 1072s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:39:01,851 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:39:01,851 INFO sqlalchemy.engine.Engine [cached since 1072s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63184 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:39:01,852 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:39:01,853 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:39:01,853 INFO sqlalchemy.engine.Engine [cached since 483.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:39:01,858 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:39:01,858 INFO sqlalchemy.engine.Engine [cached since 483.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:39:01,859 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 17:39:01,859 INFO sqlalchemy.engine.Engine [cached since 483.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63185 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:39:01,861 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:40:26,169 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:40:26,170 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:40:26,170 INFO sqlalchemy.engine.Engine [cached since 1156s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:40:26,176 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:40:26,176 INFO sqlalchemy.engine.Engine [cached since 1156s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63223 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:40:26,178 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:40:26,178 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:40:26,179 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:40:26,179 INFO sqlalchemy.engine.Engine [cached since 1156s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:40:26,180 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:40:26,180 INFO sqlalchemy.engine.Engine [cached since 1156s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63223 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:40:26,180 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:40:27,795 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:40:27,797 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:40:27,797 INFO sqlalchemy.engine.Engine [cached since 1158s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:40:27,799 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:40:27,799 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:40:27,799 INFO sqlalchemy.engine.Engine [cached since 1158s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:40:27,803 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:40:27,803 INFO sqlalchemy.engine.Engine [cached since 1158s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:40:27,804 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:40:27,804 INFO sqlalchemy.engine.Engine [cached since 1158s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:40:27,805 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:40:27,805 INFO sqlalchemy.engine.Engine [cached since 569.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63224 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:40:27,807 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:40:27,808 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:40:27,808 INFO sqlalchemy.engine.Engine [cached since 569.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:40:27,809 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 17:40:27,809 INFO sqlalchemy.engine.Engine [cached since 569.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63223 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:40:27,810 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:40:27,811 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:40:27,812 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:40:27,812 INFO sqlalchemy.engine.Engine [cached since 1158s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:40:27,814 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:40:27,814 INFO sqlalchemy.engine.Engine [cached since 1158s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:40:27,815 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:40:27,815 INFO sqlalchemy.engine.Engine [cached since 569.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:40:27,816 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:40:27,816 INFO sqlalchemy.engine.Engine [cached since 569.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:40:27,817 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 17:40:27,817 INFO sqlalchemy.engine.Engine [cached since 569.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63223 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:40:27,818 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:40:27,826 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:40:27,826 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:40:27,826 INFO sqlalchemy.engine.Engine [cached since 1158s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:40:27,828 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:40:27,828 INFO sqlalchemy.engine.Engine [cached since 1158s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:40:27,829 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:40:27,829 INFO sqlalchemy.engine.Engine [cached since 569.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:40:27,830 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:40:27,830 INFO sqlalchemy.engine.Engine [cached since 569.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:40:27,830 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 17:40:27,830 INFO sqlalchemy.engine.Engine [cached since 569.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63223 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:40:27,831 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:40:30,202 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:40:30,202 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:40:30,202 INFO sqlalchemy.engine.Engine [cached since 1160s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:40:30,204 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:40:30,205 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:40:30,205 INFO sqlalchemy.engine.Engine [cached since 1160s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:40:30,206 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:40:30,206 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:40:30,206 INFO sqlalchemy.engine.Engine [cached since 1160s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:40:30,207 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:40:30,208 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:40:30,208 INFO sqlalchemy.engine.Engine [cached since 1160s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:40:30,209 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 17:40:30,210 INFO sqlalchemy.engine.Engine [cached since 568.4s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
2025-12-23 17:40:30,211 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 17:40:30,211 INFO sqlalchemy.engine.Engine [cached since 568.3s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
2025-12-23 17:40:30,212 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:40:30,212 INFO sqlalchemy.engine.Engine [cached since 568.3s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:40:30,213 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:40:30,213 INFO sqlalchemy.engine.Engine [cached since 1160s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63226 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 17:40:30,213 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63225 - "GET /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:63227 - "GET /users HTTP/1.1" 200 OK
INFO:     127.0.0.1:63228 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:40:30,215 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:40:30,215 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:40:30,215 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:40:30,216 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:40:30,216 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:40:30,216 INFO sqlalchemy.engine.Engine [cached since 1160s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:40:30,217 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:40:30,218 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:40:30,218 INFO sqlalchemy.engine.Engine [cached since 1160s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:40:30,221 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 17:40:30,221 INFO sqlalchemy.engine.Engine [cached since 568.3s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
2025-12-23 17:40:30,221 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 17:40:30,222 INFO sqlalchemy.engine.Engine [cached since 568.4s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
INFO:     127.0.0.1:63226 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 17:40:30,222 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63228 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 17:40:30,223 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:40:30,330 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:40:30,330 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:40:30,331 INFO sqlalchemy.engine.Engine [cached since 1160s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:40:30,335 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:40:30,335 INFO sqlalchemy.engine.Engine [cached since 568.4s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63227 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:40:30,337 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:40:31,043 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:40:31,044 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:40:31,044 INFO sqlalchemy.engine.Engine [cached since 1161s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:40:31,047 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:40:31,047 INFO sqlalchemy.engine.Engine [cached since 1161s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63227 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:40:31,049 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:40:31,349 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:40:31,349 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:40:31,349 INFO sqlalchemy.engine.Engine [cached since 1161s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:40:31,354 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 17:40:31,354 INFO sqlalchemy.engine.Engine [cached since 569.4s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:63227 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 17:40:31,357 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:43:44,663 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:43:44,666 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:43:44,667 INFO sqlalchemy.engine.Engine [cached since 1354s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:43:44,671 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:43:44,671 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:43:44,671 INFO sqlalchemy.engine.Engine [cached since 1354s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:43:44,672 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:43:44,672 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:43:44,672 INFO sqlalchemy.engine.Engine [cached since 1354s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:43:44,672 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:43:44,672 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:43:44,672 INFO sqlalchemy.engine.Engine [cached since 1354s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:43:44,689 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 17:43:44,689 INFO sqlalchemy.engine.Engine [cached since 762.9s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
2025-12-23 17:43:44,693 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 17:43:44,693 INFO sqlalchemy.engine.Engine [cached since 762.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
2025-12-23 17:43:44,693 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:43:44,693 INFO sqlalchemy.engine.Engine [cached since 1354s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:43:44,694 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:43:44,694 INFO sqlalchemy.engine.Engine [cached since 762.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63284 - "GET /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:63285 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 17:43:44,696 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:43:44,696 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63287 - "GET /users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:63286 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:43:44,697 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:43:44,697 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:43:45,477 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:43:45,478 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:43:45,478 INFO sqlalchemy.engine.Engine [cached since 1355s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:43:45,484 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:43:45,484 INFO sqlalchemy.engine.Engine [cached since 1355s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63284 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:43:45,485 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63285 - "OPTIONS /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 17:43:45,796 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:43:45,796 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:43:45,796 INFO sqlalchemy.engine.Engine [cached since 1356s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:43:45,800 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 17:43:45,800 INFO sqlalchemy.engine.Engine [cached since 763.9s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:63287 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 17:43:45,801 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:43:47,010 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:43:47,011 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:43:47,011 INFO sqlalchemy.engine.Engine [cached since 1357s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:43:47,014 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:43:47,017 INFO sqlalchemy.engine.Engine [cached since 1357s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63286 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:43:47,019 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:43:47,336 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:43:47,337 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:43:47,337 INFO sqlalchemy.engine.Engine [cached since 1357s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:43:47,339 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 17:43:47,339 INFO sqlalchemy.engine.Engine [cached since 765.4s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:63284 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 17:43:47,340 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:43:48,286 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:43:48,286 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:43:48,286 INFO sqlalchemy.engine.Engine [cached since 1358s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:43:48,287 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:43:48,287 INFO sqlalchemy.engine.Engine [cached since 1358s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63285 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:43:48,288 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:43:48,876 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:43:48,877 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:43:48,877 INFO sqlalchemy.engine.Engine [cached since 1359s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:43:48,878 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:43:48,879 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:43:48,880 INFO sqlalchemy.engine.Engine [cached since 1359s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:43:48,882 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:43:48,882 INFO sqlalchemy.engine.Engine [cached since 767s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:43:48,884 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:43:48,884 INFO sqlalchemy.engine.Engine [cached since 1359s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63287 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:43:48,885 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63286 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:43:48,885 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63317 - "OPTIONS /users HTTP/1.1" 200 OK
2025-12-23 17:45:07,804 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:45:07,806 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:45:07,807 INFO sqlalchemy.engine.Engine [cached since 1438s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:45:07,839 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:45:07,840 INFO sqlalchemy.engine.Engine [cached since 1438s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:45:08,119 INFO sqlalchemy.engine.Engine INSERT INTO users (id, tenant_id, username, hashed_password, roles, is_active, created_at) VALUES (%(id)s::VARCHAR, %(tenant_id)s::VARCHAR, %(username)s::VARCHAR, %(hashed_password)s::VARCHAR, %(roles)s::JSONB, %(is_active)s, %(created_at)s::TIMESTAMP WITHOUT TIME ZONE)
2025-12-23 17:45:08,119 INFO sqlalchemy.engine.Engine [generated in 0.00371s] {'id': 'c925af4f-bb05-42be-a9c2-669d47210bd6', 'tenant_id': '28f9a367-8132-4723-a360-333fbc5db17b', 'username': 'dr_patil', 'hashed_password': '$2b$12$9d7EGjoavLy.W2MDPiTLSeKL9ztNosT37XhHwwXu6KOILOu6wTLou', 'roles': Jsonb(['doctor']), 'is_active': True, 'created_at': datetime.datetime(2025, 12, 23, 12, 15, 8, 119272)}
2025-12-23 17:45:08,134 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:63317 - "POST /users HTTP/1.1" 200 OK
2025-12-23 17:45:08,154 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:45:08,155 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:45:08,155 INFO sqlalchemy.engine.Engine [cached since 1438s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:45:08,158 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:45:08,158 INFO sqlalchemy.engine.Engine [cached since 846.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63317 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:45:08,159 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63320 - "OPTIONS /settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:63321 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 17:45:36,134 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:45:36,136 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:45:36,136 INFO sqlalchemy.engine.Engine [cached since 1466s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:45:36,138 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:45:36,138 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:45:36,139 INFO sqlalchemy.engine.Engine [cached since 1466s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:45:36,172 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:45:36,172 INFO sqlalchemy.engine.Engine [generated in 0.00017s] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:45:36,173 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:45:36,173 INFO sqlalchemy.engine.Engine [cached since 1466s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63321 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:45:36,175 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63320 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 17:45:36,180 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:45:43,593 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:45:43,594 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:45:43,594 INFO sqlalchemy.engine.Engine [cached since 1473s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:45:43,595 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:45:43,596 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:45:43,596 INFO sqlalchemy.engine.Engine [cached since 1473s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:45:43,598 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:45:43,598 INFO sqlalchemy.engine.Engine [cached since 881.7s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:45:43,599 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:45:43,599 INFO sqlalchemy.engine.Engine [cached since 1473s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63325 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:45:43,601 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63326 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:45:43,602 INFO sqlalchemy.engine.Engine ROLLBACK
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [32258]
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Started server process [33441]
INFO:     Waiting for application startup.
2025-12-23 17:47:21,325 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 17:47:21,326 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 17:47:21,354 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 17:47:21,354 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 17:47:21,358 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 17:47:21,358 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 17:47:21,379 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:47:21,393 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:47:21,393 INFO sqlalchemy.engine.Engine [generated in 0.00034s] {'table_name': 'tenants', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:47:21,409 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:47:21,409 INFO sqlalchemy.engine.Engine [cached since 0.01621s ago] {'table_name': 'tenant_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:47:21,413 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:47:21,414 INFO sqlalchemy.engine.Engine [cached since 0.0204s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:47:21,414 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:47:21,414 INFO sqlalchemy.engine.Engine [cached since 0.02128s ago] {'table_name': 'patients', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:47:21,415 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:47:21,415 INFO sqlalchemy.engine.Engine [cached since 0.02214s ago] {'table_name': 'clinical_records', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:47:21,416 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:47:21,416 INFO sqlalchemy.engine.Engine [cached since 0.0231s ago] {'table_name': 'appointments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:47:21,418 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:47:21,418 INFO sqlalchemy.engine.Engine [cached since 0.02481s ago] {'table_name': 'attachments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:47:21,419 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:47:21,421 INFO sqlalchemy.engine.Engine [cached since 0.02833s ago] {'table_name': 'prescriptions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:47:21,422 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 17:47:21,423 INFO sqlalchemy.engine.Engine [cached since 0.02934s ago] {'table_name': 'invoices', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 17:47:21,423 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-12-23 17:47:21,544 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:47:21,559 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:47:21,559 INFO sqlalchemy.engine.Engine [generated in 0.00036s] {'username_1': 'apollo_admin'}
2025-12-23 17:47:21,567 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:47:21,567 INFO sqlalchemy.engine.Engine [generated in 0.00011s] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:47:21,570 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:47:21,571 INFO sqlalchemy.engine.Engine [generated in 0.00009s] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63357 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:47:21,573 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:47:21,619 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:47:21,619 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:47:21,619 INFO sqlalchemy.engine.Engine [cached since 0.06005s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:47:21,622 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:47:21,622 INFO sqlalchemy.engine.Engine [generated in 0.00009s] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63357 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:47:21,623 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:47:23,879 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:47:23,880 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:47:23,880 INFO sqlalchemy.engine.Engine [cached since 2.321s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:47:23,883 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:47:23,883 INFO sqlalchemy.engine.Engine [cached since 2.316s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:47:23,884 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:47:23,884 INFO sqlalchemy.engine.Engine [cached since 2.314s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63357 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:47:23,888 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:47:24,176 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:47:24,176 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:47:24,177 INFO sqlalchemy.engine.Engine [cached since 2.618s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:47:24,181 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 17:47:24,181 INFO sqlalchemy.engine.Engine [generated in 0.00025s] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:63357 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 17:47:24,185 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:48:03,413 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:48:03,416 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:48:03,417 INFO sqlalchemy.engine.Engine [cached since 41.86s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:48:03,440 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:48:03,440 INFO sqlalchemy.engine.Engine [cached since 41.87s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:48:03,441 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:48:03,441 INFO sqlalchemy.engine.Engine [cached since 41.87s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63364 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:48:03,443 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:48:04,557 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:48:04,558 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:48:04,558 INFO sqlalchemy.engine.Engine [cached since 43s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:48:04,562 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:48:04,562 INFO sqlalchemy.engine.Engine [cached since 42.94s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63364 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:48:04,567 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:48:04,656 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:48:04,656 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:48:04,656 INFO sqlalchemy.engine.Engine [cached since 43.1s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:48:04,661 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:48:04,661 INFO sqlalchemy.engine.Engine [cached since 43.09s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:48:04,662 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:48:04,663 INFO sqlalchemy.engine.Engine [cached since 43.09s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63365 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:48:04,665 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:48:06,697 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:48:06,698 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:48:06,698 INFO sqlalchemy.engine.Engine [cached since 45.14s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:48:06,700 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:48:06,700 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:48:06,700 INFO sqlalchemy.engine.Engine [cached since 45.14s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:48:06,702 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:48:06,702 INFO sqlalchemy.engine.Engine [cached since 45.13s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:48:06,703 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:48:06,703 INFO sqlalchemy.engine.Engine [cached since 45.14s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63364 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 17:48:06,704 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:48:06,705 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:48:06,705 INFO sqlalchemy.engine.Engine [cached since 45.13s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63365 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:48:06,707 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63379 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 17:48:46,201 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:48:46,207 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:48:46,207 INFO sqlalchemy.engine.Engine [cached since 84.65s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:48:46,241 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:48:46,242 INFO sqlalchemy.engine.Engine [cached since 84.67s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:48:46,244 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:48:46,244 INFO sqlalchemy.engine.Engine [cached since 84.67s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63379 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:48:46,246 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:49:17,906 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:49:17,909 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:49:17,911 INFO sqlalchemy.engine.Engine [cached since 116.4s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:49:17,973 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:49:17,973 INFO sqlalchemy.engine.Engine [cached since 116.4s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:49:17,976 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:49:17,976 INFO sqlalchemy.engine.Engine [cached since 116.4s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63393 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:49:17,978 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:49:20,365 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:49:20,369 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:49:20,369 INFO sqlalchemy.engine.Engine [cached since 118.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:49:20,374 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:49:20,374 INFO sqlalchemy.engine.Engine [cached since 118.8s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:49:20,375 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:49:20,375 INFO sqlalchemy.engine.Engine [cached since 118.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63393 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:49:20,376 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:49:20,406 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:49:20,407 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:49:20,407 INFO sqlalchemy.engine.Engine [cached since 118.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:49:20,409 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:49:20,410 INFO sqlalchemy.engine.Engine [cached since 118.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63393 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 17:49:20,411 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:49:21,083 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:49:21,083 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:49:21,083 INFO sqlalchemy.engine.Engine [cached since 119.5s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:49:21,092 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:49:21,092 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:49:21,092 INFO sqlalchemy.engine.Engine [cached since 119.5s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:49:21,093 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:49:21,093 INFO sqlalchemy.engine.Engine [cached since 119.5s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63393 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:49:21,095 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:49:21,095 INFO sqlalchemy.engine.Engine [cached since 119.5s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:49:21,096 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:49:21,096 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:49:21,096 INFO sqlalchemy.engine.Engine [cached since 119.5s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63399 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:49:21,097 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:49:23,376 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:49:23,377 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:49:23,377 INFO sqlalchemy.engine.Engine [cached since 121.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:49:23,379 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:49:23,379 INFO sqlalchemy.engine.Engine [cached since 121.8s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:49:23,383 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:49:23,383 INFO sqlalchemy.engine.Engine [cached since 121.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63393 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:49:23,385 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:49:23,394 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:49:23,395 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:49:23,395 INFO sqlalchemy.engine.Engine [cached since 121.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:49:23,402 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:49:23,402 INFO sqlalchemy.engine.Engine [cached since 121.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63399 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:49:23,407 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:49:32,453 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:49:32,454 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:49:32,454 INFO sqlalchemy.engine.Engine [cached since 130.9s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:63401 - "POST /token HTTP/1.1" 200 OK
2025-12-23 17:49:32,712 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:49:32,735 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:49:32,735 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:49:32,735 INFO sqlalchemy.engine.Engine [cached since 131.2s ago] {'username_1': 'admin'}
2025-12-23 17:49:32,742 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:49:32,742 INFO sqlalchemy.engine.Engine [cached since 131.2s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:49:32,744 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:49:32,744 INFO sqlalchemy.engine.Engine [cached since 131.2s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:63401 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:49:32,745 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63401 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
INFO:     127.0.0.1:63402 - "OPTIONS /tenants HTTP/1.1" 200 OK
INFO:     127.0.0.1:63403 - "OPTIONS /stats/growth HTTP/1.1" 200 OK
2025-12-23 17:49:32,780 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:49:32,780 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:49:32,780 INFO sqlalchemy.engine.Engine [cached since 131.2s ago] {'username_1': 'admin'}
2025-12-23 17:49:32,781 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:49:32,781 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:49:32,781 INFO sqlalchemy.engine.Engine [cached since 131.2s ago] {'username_1': 'admin'}
2025-12-23 17:49:32,787 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:49:32,788 INFO sqlalchemy.engine.Engine [cached since 131.2s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:49:32,791 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:49:32,791 INFO sqlalchemy.engine.Engine [cached since 131.2s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:49:32,803 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 17:49:32,803 INFO sqlalchemy.engine.Engine [generated in 0.00019s] {}
2025-12-23 17:49:32,805 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:49:32,805 INFO sqlalchemy.engine.Engine [generated in 0.00009s] {}
2025-12-23 17:49:32,811 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:49:32,811 INFO sqlalchemy.engine.Engine [generated in 0.00036s] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:49:32,813 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 17:49:32,813 INFO sqlalchemy.engine.Engine [generated in 0.00007s] {}
2025-12-23 17:49:32,813 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:49:32,813 INFO sqlalchemy.engine.Engine [cached since 0.002087s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:49:32,815 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE tenants.is_super_admin = false AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:49:32,815 INFO sqlalchemy.engine.Engine [generated in 0.00008s] {'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:63402 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:49:32,816 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63401 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:49:32,819 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:49:32,864 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:49:32,864 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:49:32,864 INFO sqlalchemy.engine.Engine [cached since 131.3s ago] {'username_1': 'admin'}
2025-12-23 17:49:32,866 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:49:32,866 INFO sqlalchemy.engine.Engine [cached since 131.3s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:63403 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 17:49:32,867 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:49:35,022 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:49:35,022 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:49:35,022 INFO sqlalchemy.engine.Engine [cached since 133.5s ago] {'username_1': 'admin'}
2025-12-23 17:49:35,024 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:49:35,024 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:49:35,024 INFO sqlalchemy.engine.Engine [cached since 133.5s ago] {'username_1': 'admin'}
2025-12-23 17:49:35,025 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:49:35,025 INFO sqlalchemy.engine.Engine [cached since 133.5s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:49:35,025 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:49:35,025 INFO sqlalchemy.engine.Engine [cached since 133.5s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:49:35,027 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:49:35,027 INFO sqlalchemy.engine.Engine [cached since 133.5s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:49:35,027 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:49:35,027 INFO sqlalchemy.engine.Engine [cached since 2.222s ago] {}
INFO:     127.0.0.1:63401 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:49:35,027 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:49:35,028 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:49:35,028 INFO sqlalchemy.engine.Engine [cached since 2.217s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:49:35,028 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:49:35,029 INFO sqlalchemy.engine.Engine [cached since 2.217s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:63402 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:49:35,029 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:49:38,958 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:49:38,961 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:49:38,961 INFO sqlalchemy.engine.Engine [cached since 137.4s ago] {'username_1': 'admin'}
2025-12-23 17:49:38,962 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:49:38,962 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:49:38,962 INFO sqlalchemy.engine.Engine [cached since 137.4s ago] {'username_1': 'admin'}
2025-12-23 17:49:38,963 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:49:38,963 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:49:38,963 INFO sqlalchemy.engine.Engine [cached since 137.4s ago] {'username_1': 'admin'}
2025-12-23 17:49:38,964 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:49:38,964 INFO sqlalchemy.engine.Engine [cached since 137.3s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:49:38,965 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:49:38,965 INFO sqlalchemy.engine.Engine [cached since 137.4s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:63401 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:49:38,967 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63402 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 17:49:38,969 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:49:38,969 INFO sqlalchemy.engine.Engine [cached since 137.4s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:49:38,969 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:49:38,970 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:49:38,970 INFO sqlalchemy.engine.Engine [cached since 137.4s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:63411 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:49:38,971 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:49:45,610 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:49:45,611 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:49:45,611 INFO sqlalchemy.engine.Engine [cached since 144.1s ago] {'username_1': 'admin'}
2025-12-23 17:49:45,613 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:49:45,613 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:49:45,613 INFO sqlalchemy.engine.Engine [cached since 144.1s ago] {'username_1': 'admin'}
2025-12-23 17:49:45,615 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:49:45,615 INFO sqlalchemy.engine.Engine [cached since 144s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:49:45,616 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 17:49:45,616 INFO sqlalchemy.engine.Engine [cached since 12.81s ago] {}
2025-12-23 17:49:45,617 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:49:45,617 INFO sqlalchemy.engine.Engine [cached since 144s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:49:45,619 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:49:45,619 INFO sqlalchemy.engine.Engine [cached since 12.81s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 17:49:45,620 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:49:45,620 INFO sqlalchemy.engine.Engine [cached since 144s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:49:45,620 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 17:49:45,620 INFO sqlalchemy.engine.Engine [cached since 12.81s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:63417 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:49:45,623 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63416 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 17:49:45,624 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63417 - "OPTIONS /tenants/28f9a367-8132-4723-a360-333fbc5db17b/impersonate HTTP/1.1" 200 OK
2025-12-23 17:49:49,118 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:49:49,118 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:49:49,118 INFO sqlalchemy.engine.Engine [cached since 147.6s ago] {'username_1': 'admin'}
2025-12-23 17:49:49,125 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:49:49,125 INFO sqlalchemy.engine.Engine [cached since 147.6s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 17:49:49,127 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER
2025-12-23 17:49:49,127 INFO sqlalchemy.engine.Engine [generated in 0.00022s] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 1}
2025-12-23 17:49:49,130 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:49:49,130 INFO sqlalchemy.engine.Engine [cached since 147.5s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63416 - "POST /tenants/28f9a367-8132-4723-a360-333fbc5db17b/impersonate HTTP/1.1" 200 OK
2025-12-23 17:49:49,132 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:49:49,350 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:49:49,351 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:49:49,351 INFO sqlalchemy.engine.Engine [cached since 147.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:49:49,355 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:49:49,355 INFO sqlalchemy.engine.Engine [cached since 147.8s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:49:49,357 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:49:49,357 INFO sqlalchemy.engine.Engine [cached since 147.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63417 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:49:49,358 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:49:49,376 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:49:49,376 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:49:49,377 INFO sqlalchemy.engine.Engine [cached since 147.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:49:49,378 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:49:49,378 INFO sqlalchemy.engine.Engine [cached since 147.8s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:49:49,380 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:49:49,380 INFO sqlalchemy.engine.Engine [generated in 0.00022s] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:49:49,384 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:49:49,384 INFO sqlalchemy.engine.Engine [generated in 0.00032s] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:49:49,387 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 17:49:49,387 INFO sqlalchemy.engine.Engine [generated in 0.00021s] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63416 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:49:49,390 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:49:50,713 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:49:50,713 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:49:50,713 INFO sqlalchemy.engine.Engine [cached since 149.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:49:50,714 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:49:50,714 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:49:50,714 INFO sqlalchemy.engine.Engine [cached since 149.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:49:50,716 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:49:50,716 INFO sqlalchemy.engine.Engine [cached since 149.1s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:49:50,717 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:49:50,717 INFO sqlalchemy.engine.Engine [cached since 149.1s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63417 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:49:50,718 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:49:50,718 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:49:50,718 INFO sqlalchemy.engine.Engine [cached since 149.1s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63416 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:49:50,719 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:50:02,414 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:50:02,418 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:50:02,419 INFO sqlalchemy.engine.Engine [cached since 160.9s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:50:02,421 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:50:02,422 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:50:02,422 INFO sqlalchemy.engine.Engine [cached since 160.9s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:50:02,428 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:50:02,428 INFO sqlalchemy.engine.Engine [cached since 160.9s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:50:02,429 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:50:02,429 INFO sqlalchemy.engine.Engine [cached since 160.9s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:50:02,429 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:50:02,429 INFO sqlalchemy.engine.Engine [cached since 160.9s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63428 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:50:02,430 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63427 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 17:50:02,431 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:50:06,988 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:50:06,988 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:50:06,988 INFO sqlalchemy.engine.Engine [cached since 165.4s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:50:06,990 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:50:06,991 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:50:06,991 INFO sqlalchemy.engine.Engine [cached since 165.4s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:50:06,993 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:50:06,994 INFO sqlalchemy.engine.Engine [cached since 165.4s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:50:06,995 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:50:06,995 INFO sqlalchemy.engine.Engine [cached since 165.4s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:50:06,995 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:50:06,995 INFO sqlalchemy.engine.Engine [cached since 165.4s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63428 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:50:06,996 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63427 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:50:06,997 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:50:35,652 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:50:35,662 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:50:35,662 INFO sqlalchemy.engine.Engine [cached since 194.1s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:50:35,701 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:50:35,701 INFO sqlalchemy.engine.Engine [cached since 194.1s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:50:35,702 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:50:35,702 INFO sqlalchemy.engine.Engine [cached since 194.1s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63440 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:50:35,704 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:50:35,726 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:50:35,727 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:50:35,727 INFO sqlalchemy.engine.Engine [cached since 194.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:50:35,728 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:50:35,728 INFO sqlalchemy.engine.Engine [cached since 194.1s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63440 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:50:35,729 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:50:36,576 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:50:36,577 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:50:36,577 INFO sqlalchemy.engine.Engine [cached since 195s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:50:36,579 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:50:36,580 INFO sqlalchemy.engine.Engine [cached since 195s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:50:36,580 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:50:36,580 INFO sqlalchemy.engine.Engine [cached since 195s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63440 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:50:36,581 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:50:36,592 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:50:36,593 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:50:36,593 INFO sqlalchemy.engine.Engine [cached since 195s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:50:36,594 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:50:36,594 INFO sqlalchemy.engine.Engine [cached since 195s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63440 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:50:36,595 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:50:37,045 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:50:37,045 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:50:37,045 INFO sqlalchemy.engine.Engine [cached since 195.5s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:50:37,046 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:50:37,046 INFO sqlalchemy.engine.Engine [cached since 195.5s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:50:37,046 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:50:37,046 INFO sqlalchemy.engine.Engine [cached since 195.5s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63440 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:50:37,047 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:50:37,059 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:50:37,059 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:50:37,059 INFO sqlalchemy.engine.Engine [cached since 195.5s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:50:37,060 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:50:37,060 INFO sqlalchemy.engine.Engine [cached since 195.4s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63440 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:50:37,061 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:50:37,218 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:50:37,218 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:50:37,218 INFO sqlalchemy.engine.Engine [cached since 195.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:50:37,219 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:50:37,219 INFO sqlalchemy.engine.Engine [cached since 195.6s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:50:37,219 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:50:37,219 INFO sqlalchemy.engine.Engine [cached since 195.6s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63440 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:50:37,220 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:50:37,233 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:50:37,233 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:50:37,233 INFO sqlalchemy.engine.Engine [cached since 195.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:50:37,234 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:50:37,234 INFO sqlalchemy.engine.Engine [cached since 195.6s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63440 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:50:37,235 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:50:37,522 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:50:37,522 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:50:37,522 INFO sqlalchemy.engine.Engine [cached since 196s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:50:37,524 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:50:37,524 INFO sqlalchemy.engine.Engine [cached since 196s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:50:37,525 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:50:37,525 INFO sqlalchemy.engine.Engine [cached since 196s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63440 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:50:37,526 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:50:37,543 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:50:37,543 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:50:37,543 INFO sqlalchemy.engine.Engine [cached since 196s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:50:37,545 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:50:37,545 INFO sqlalchemy.engine.Engine [cached since 195.9s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63440 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:50:37,546 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:50:37,788 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:50:37,788 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:50:37,788 INFO sqlalchemy.engine.Engine [cached since 196.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:50:37,791 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:50:37,791 INFO sqlalchemy.engine.Engine [cached since 196.2s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:50:37,792 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:50:37,793 INFO sqlalchemy.engine.Engine [cached since 196.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63440 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:50:37,794 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:50:37,806 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:50:37,806 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:50:37,806 INFO sqlalchemy.engine.Engine [cached since 196.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:50:37,808 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:50:37,808 INFO sqlalchemy.engine.Engine [cached since 196.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63440 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:50:37,809 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:50:38,085 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:50:38,085 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:50:38,085 INFO sqlalchemy.engine.Engine [cached since 196.5s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:50:38,087 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:50:38,087 INFO sqlalchemy.engine.Engine [cached since 196.5s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:50:38,088 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:50:38,088 INFO sqlalchemy.engine.Engine [cached since 196.5s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63440 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:50:38,089 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:50:38,098 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:50:38,098 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:50:38,098 INFO sqlalchemy.engine.Engine [cached since 196.5s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:50:38,100 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:50:38,100 INFO sqlalchemy.engine.Engine [cached since 196.5s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63440 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:50:38,101 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:50:38,375 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:50:38,375 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:50:38,376 INFO sqlalchemy.engine.Engine [cached since 196.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:50:38,378 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:50:38,378 INFO sqlalchemy.engine.Engine [cached since 196.8s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:50:38,379 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:50:38,379 INFO sqlalchemy.engine.Engine [cached since 196.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63440 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:50:38,380 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:50:38,391 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:50:38,391 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:50:38,391 INFO sqlalchemy.engine.Engine [cached since 196.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:50:38,393 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:50:38,393 INFO sqlalchemy.engine.Engine [cached since 196.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63440 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:50:38,394 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:50:38,628 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:50:38,628 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:50:38,629 INFO sqlalchemy.engine.Engine [cached since 197.1s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:50:38,630 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:50:38,630 INFO sqlalchemy.engine.Engine [cached since 197.1s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:50:38,631 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:50:38,631 INFO sqlalchemy.engine.Engine [cached since 197.1s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63440 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:50:38,633 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:50:38,643 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:50:38,643 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:50:38,643 INFO sqlalchemy.engine.Engine [cached since 197.1s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:50:38,645 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:50:38,645 INFO sqlalchemy.engine.Engine [cached since 197s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63440 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:50:38,646 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:50:38,813 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:50:38,813 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:50:38,814 INFO sqlalchemy.engine.Engine [cached since 197.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:50:38,815 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:50:38,815 INFO sqlalchemy.engine.Engine [cached since 197.2s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:50:38,817 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:50:38,817 INFO sqlalchemy.engine.Engine [cached since 197.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63440 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:50:38,818 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:50:38,827 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:50:38,827 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:50:38,827 INFO sqlalchemy.engine.Engine [cached since 197.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:50:38,829 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:50:38,829 INFO sqlalchemy.engine.Engine [cached since 197.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63440 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:50:38,830 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:50:42,223 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:50:42,224 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:50:42,224 INFO sqlalchemy.engine.Engine [cached since 200.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:50:42,226 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:50:42,226 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:50:42,226 INFO sqlalchemy.engine.Engine [cached since 200.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:50:42,227 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:50:42,227 INFO sqlalchemy.engine.Engine [cached since 200.7s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:50:42,229 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:50:42,229 INFO sqlalchemy.engine.Engine [cached since 52.85s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:50:42,230 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:50:42,230 INFO sqlalchemy.engine.Engine [cached since 200.7s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:50:42,230 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:50:42,231 INFO sqlalchemy.engine.Engine [cached since 200.7s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63453 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:50:42,232 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:50:42,236 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:50:42,236 INFO sqlalchemy.engine.Engine [cached since 52.85s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:50:42,238 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 17:50:42,238 INFO sqlalchemy.engine.Engine [cached since 52.85s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63440 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 17:50:42,243 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:51:23,063 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:51:23,065 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:51:23,066 INFO sqlalchemy.engine.Engine [cached since 241.5s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:51:23,067 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:51:23,067 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:51:23,067 INFO sqlalchemy.engine.Engine [cached since 241.5s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:51:23,077 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:51:23,077 INFO sqlalchemy.engine.Engine [cached since 241.5s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:51:23,078 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:51:23,078 INFO sqlalchemy.engine.Engine [cached since 241.5s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:51:23,078 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:51:23,078 INFO sqlalchemy.engine.Engine [cached since 241.5s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63457 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 17:51:23,080 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63458 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:51:23,080 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:51:33,943 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:51:33,944 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:51:33,944 INFO sqlalchemy.engine.Engine [cached since 252.4s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:51:33,945 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:51:33,945 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:51:33,945 INFO sqlalchemy.engine.Engine [cached since 252.4s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:51:33,947 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:51:33,947 INFO sqlalchemy.engine.Engine [cached since 252.4s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:51:33,948 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:51:33,948 INFO sqlalchemy.engine.Engine [cached since 252.3s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:51:33,948 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:51:33,949 INFO sqlalchemy.engine.Engine [cached since 252.4s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63461 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:51:33,949 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63462 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:51:33,950 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:52:04,405 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:52:04,406 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:52:04,406 INFO sqlalchemy.engine.Engine [cached since 282.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:52:04,414 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:52:04,414 INFO sqlalchemy.engine.Engine [cached since 282.8s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:52:04,682 INFO sqlalchemy.engine.Engine INSERT INTO users (id, tenant_id, username, hashed_password, roles, is_active, created_at) VALUES (%(id)s::VARCHAR, %(tenant_id)s::VARCHAR, %(username)s::VARCHAR, %(hashed_password)s::VARCHAR, %(roles)s::JSONB, %(is_active)s, %(created_at)s::TIMESTAMP WITHOUT TIME ZONE)
2025-12-23 17:52:04,682 INFO sqlalchemy.engine.Engine [generated in 0.00248s] {'id': '54b73b57-52b5-4d82-b48c-a896695eac23', 'tenant_id': '28f9a367-8132-4723-a360-333fbc5db17b', 'username': 'dr_aman', 'hashed_password': '$2b$12$k9dxTBeulqulv0l0hjwBfeqRdwZ1DyLbOTb.WY8Gez5gvKgrMLMc.', 'roles': Jsonb(['doctor', 'admin']), 'is_active': True, 'created_at': datetime.datetime(2025, 12, 23, 12, 22, 4, 682265)}
2025-12-23 17:52:04,692 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:63469 - "POST /users HTTP/1.1" 200 OK
2025-12-23 17:52:04,702 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:52:04,702 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:52:04,702 INFO sqlalchemy.engine.Engine [cached since 283.1s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:52:04,704 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:52:04,704 INFO sqlalchemy.engine.Engine [cached since 283.1s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63469 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:52:04,705 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:52:42,437 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:52:42,438 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:52:42,438 INFO sqlalchemy.engine.Engine [cached since 320.9s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:52:42,443 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:52:42,443 INFO sqlalchemy.engine.Engine [cached since 320.9s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:52:42,687 INFO sqlalchemy.engine.Engine INSERT INTO users (id, tenant_id, username, hashed_password, roles, is_active, created_at) VALUES (%(id)s::VARCHAR, %(tenant_id)s::VARCHAR, %(username)s::VARCHAR, %(hashed_password)s::VARCHAR, %(roles)s::JSONB, %(is_active)s, %(created_at)s::TIMESTAMP WITHOUT TIME ZONE)
2025-12-23 17:52:42,688 INFO sqlalchemy.engine.Engine [cached since 38.01s ago] {'id': '138031f1-0586-4147-b18d-c6085529154a', 'tenant_id': '28f9a367-8132-4723-a360-333fbc5db17b', 'username': 'dr_ajay', 'hashed_password': '$2b$12$UdZGoh8B3xz/xCdkcWc9sO86UQgPMLCkHzcZiu0ViohI1kPeZTpQe', 'roles': Jsonb(['doctor', 'front_desk', 'nurse']), 'is_active': True, 'created_at': datetime.datetime(2025, 12, 23, 12, 22, 42, 687937)}
2025-12-23 17:52:42,694 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:63483 - "POST /users HTTP/1.1" 200 OK
2025-12-23 17:52:42,703 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:52:42,703 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:52:42,703 INFO sqlalchemy.engine.Engine [cached since 321.1s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:52:42,705 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:52:42,705 INFO sqlalchemy.engine.Engine [cached since 321.1s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63483 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:52:42,706 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63500 - "OPTIONS /users/c925af4f-bb05-42be-a9c2-669d47210bd6 HTTP/1.1" 200 OK
2025-12-23 17:54:57,617 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:54:57,619 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:54:57,619 INFO sqlalchemy.engine.Engine [cached since 456.1s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:54:57,643 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:54:57,643 INFO sqlalchemy.engine.Engine [cached since 456.1s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:54:57,650 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.tenant_id AS users_tenant_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.roles AS users_roles, users.is_active AS users_is_active, users.created_at AS users_created_at 
FROM users 
WHERE users.id = %(pk_1)s::VARCHAR
2025-12-23 17:54:57,650 INFO sqlalchemy.engine.Engine [generated in 0.00009s] {'pk_1': 'c925af4f-bb05-42be-a9c2-669d47210bd6'}
2025-12-23 17:54:57,662 INFO sqlalchemy.engine.Engine UPDATE users SET is_active=%(is_active)s WHERE users.id = %(users_id)s::VARCHAR
2025-12-23 17:54:57,662 INFO sqlalchemy.engine.Engine [generated in 0.00009s] {'is_active': False, 'users_id': 'c925af4f-bb05-42be-a9c2-669d47210bd6'}
2025-12-23 17:54:57,668 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:63500 - "PATCH /users/c925af4f-bb05-42be-a9c2-669d47210bd6 HTTP/1.1" 200 OK
2025-12-23 17:55:01,778 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:55:01,778 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:55:01,778 INFO sqlalchemy.engine.Engine [cached since 460.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:55:01,783 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:55:01,783 INFO sqlalchemy.engine.Engine [cached since 460.2s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:55:01,784 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.tenant_id AS users_tenant_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.roles AS users_roles, users.is_active AS users_is_active, users.created_at AS users_created_at 
FROM users 
WHERE users.id = %(pk_1)s::VARCHAR
2025-12-23 17:55:01,784 INFO sqlalchemy.engine.Engine [cached since 4.134s ago] {'pk_1': 'c925af4f-bb05-42be-a9c2-669d47210bd6'}
2025-12-23 17:55:01,786 INFO sqlalchemy.engine.Engine UPDATE users SET is_active=%(is_active)s WHERE users.id = %(users_id)s::VARCHAR
2025-12-23 17:55:01,786 INFO sqlalchemy.engine.Engine [cached since 4.124s ago] {'is_active': True, 'users_id': 'c925af4f-bb05-42be-a9c2-669d47210bd6'}
2025-12-23 17:55:01,789 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:63500 - "PATCH /users/c925af4f-bb05-42be-a9c2-669d47210bd6 HTTP/1.1" 200 OK
2025-12-23 17:55:02,778 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:55:02,779 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:55:02,779 INFO sqlalchemy.engine.Engine [cached since 461.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:55:02,783 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:55:02,783 INFO sqlalchemy.engine.Engine [cached since 461.2s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:55:02,784 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.tenant_id AS users_tenant_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.roles AS users_roles, users.is_active AS users_is_active, users.created_at AS users_created_at 
FROM users 
WHERE users.id = %(pk_1)s::VARCHAR
2025-12-23 17:55:02,784 INFO sqlalchemy.engine.Engine [cached since 5.134s ago] {'pk_1': 'c925af4f-bb05-42be-a9c2-669d47210bd6'}
2025-12-23 17:55:02,785 INFO sqlalchemy.engine.Engine UPDATE users SET is_active=%(is_active)s WHERE users.id = %(users_id)s::VARCHAR
2025-12-23 17:55:02,785 INFO sqlalchemy.engine.Engine [cached since 5.123s ago] {'is_active': False, 'users_id': 'c925af4f-bb05-42be-a9c2-669d47210bd6'}
2025-12-23 17:55:02,788 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:63500 - "PATCH /users/c925af4f-bb05-42be-a9c2-669d47210bd6 HTTP/1.1" 200 OK
2025-12-23 17:55:04,230 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:55:04,231 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:55:04,231 INFO sqlalchemy.engine.Engine [cached since 462.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:55:04,234 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:55:04,234 INFO sqlalchemy.engine.Engine [cached since 462.7s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:55:04,235 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.tenant_id AS users_tenant_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.roles AS users_roles, users.is_active AS users_is_active, users.created_at AS users_created_at 
FROM users 
WHERE users.id = %(pk_1)s::VARCHAR
2025-12-23 17:55:04,235 INFO sqlalchemy.engine.Engine [cached since 6.586s ago] {'pk_1': 'c925af4f-bb05-42be-a9c2-669d47210bd6'}
2025-12-23 17:55:04,236 INFO sqlalchemy.engine.Engine UPDATE users SET is_active=%(is_active)s WHERE users.id = %(users_id)s::VARCHAR
2025-12-23 17:55:04,237 INFO sqlalchemy.engine.Engine [cached since 6.575s ago] {'is_active': True, 'users_id': 'c925af4f-bb05-42be-a9c2-669d47210bd6'}
2025-12-23 17:55:04,237 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:63500 - "PATCH /users/c925af4f-bb05-42be-a9c2-669d47210bd6 HTTP/1.1" 200 OK
2025-12-23 17:55:05,463 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:55:05,464 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:55:05,464 INFO sqlalchemy.engine.Engine [cached since 463.9s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:55:05,467 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:55:05,467 INFO sqlalchemy.engine.Engine [cached since 463.9s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:55:05,468 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.tenant_id AS users_tenant_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.roles AS users_roles, users.is_active AS users_is_active, users.created_at AS users_created_at 
FROM users 
WHERE users.id = %(pk_1)s::VARCHAR
2025-12-23 17:55:05,468 INFO sqlalchemy.engine.Engine [cached since 7.819s ago] {'pk_1': 'c925af4f-bb05-42be-a9c2-669d47210bd6'}
2025-12-23 17:55:05,469 INFO sqlalchemy.engine.Engine UPDATE users SET is_active=%(is_active)s WHERE users.id = %(users_id)s::VARCHAR
2025-12-23 17:55:05,469 INFO sqlalchemy.engine.Engine [cached since 7.807s ago] {'is_active': False, 'users_id': 'c925af4f-bb05-42be-a9c2-669d47210bd6'}
2025-12-23 17:55:05,471 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:63500 - "PATCH /users/c925af4f-bb05-42be-a9c2-669d47210bd6 HTTP/1.1" 200 OK
2025-12-23 17:55:07,111 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:55:07,112 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:55:07,112 INFO sqlalchemy.engine.Engine [cached since 465.6s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:55:07,115 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:55:07,115 INFO sqlalchemy.engine.Engine [cached since 465.5s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:55:07,116 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.tenant_id AS users_tenant_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.roles AS users_roles, users.is_active AS users_is_active, users.created_at AS users_created_at 
FROM users 
WHERE users.id = %(pk_1)s::VARCHAR
2025-12-23 17:55:07,116 INFO sqlalchemy.engine.Engine [cached since 9.467s ago] {'pk_1': 'c925af4f-bb05-42be-a9c2-669d47210bd6'}
2025-12-23 17:55:07,117 INFO sqlalchemy.engine.Engine UPDATE users SET is_active=%(is_active)s WHERE users.id = %(users_id)s::VARCHAR
2025-12-23 17:55:07,117 INFO sqlalchemy.engine.Engine [cached since 9.456s ago] {'is_active': True, 'users_id': 'c925af4f-bb05-42be-a9c2-669d47210bd6'}
2025-12-23 17:55:07,118 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:63500 - "PATCH /users/c925af4f-bb05-42be-a9c2-669d47210bd6 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63541 - "OPTIONS /users HTTP/1.1" 200 OK
2025-12-23 17:58:18,863 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:58:18,875 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:58:18,876 INFO sqlalchemy.engine.Engine [cached since 657.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:58:18,978 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:58:18,978 INFO sqlalchemy.engine.Engine [cached since 657.4s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63541 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:58:18,992 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63541 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 17:58:20,850 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:58:20,852 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:58:20,852 INFO sqlalchemy.engine.Engine [cached since 659.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:58:20,858 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:58:20,858 INFO sqlalchemy.engine.Engine [cached since 659.3s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:58:20,860 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:58:20,860 INFO sqlalchemy.engine.Engine [cached since 659.3s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63541 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:58:20,861 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:58:20,886 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:58:20,886 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:58:20,886 INFO sqlalchemy.engine.Engine [cached since 659.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:58:20,889 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:58:20,889 INFO sqlalchemy.engine.Engine [cached since 659.3s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63541 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:58:20,891 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:58:22,536 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:58:22,537 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:58:22,537 INFO sqlalchemy.engine.Engine [cached since 661s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:58:22,540 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:58:22,540 INFO sqlalchemy.engine.Engine [cached since 661s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:58:22,541 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:58:22,541 INFO sqlalchemy.engine.Engine [cached since 661s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63541 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 17:58:22,545 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 17:58:22,558 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:58:22,559 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:58:22,559 INFO sqlalchemy.engine.Engine [cached since 661s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:58:22,561 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:58:22,561 INFO sqlalchemy.engine.Engine [cached since 660.9s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63541 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:58:22,562 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63554 - "OPTIONS /users/138031f1-0586-4147-b18d-c6085529154a HTTP/1.1" 200 OK
2025-12-23 17:58:45,667 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:58:45,669 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:58:45,670 INFO sqlalchemy.engine.Engine [cached since 684.1s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:58:45,684 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:58:45,684 INFO sqlalchemy.engine.Engine [cached since 684.1s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:58:45,687 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.tenant_id AS users_tenant_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.roles AS users_roles, users.is_active AS users_is_active, users.created_at AS users_created_at 
FROM users 
WHERE users.id = %(pk_1)s::VARCHAR
2025-12-23 17:58:45,687 INFO sqlalchemy.engine.Engine [cached since 228s ago] {'pk_1': '138031f1-0586-4147-b18d-c6085529154a'}
2025-12-23 17:58:45,690 INFO sqlalchemy.engine.Engine UPDATE users SET roles=%(roles)s::JSONB WHERE users.id = %(users_id)s::VARCHAR
2025-12-23 17:58:45,690 INFO sqlalchemy.engine.Engine [generated in 0.00013s] {'roles': Jsonb(['doctor', 'front_desk']), 'users_id': '138031f1-0586-4147-b18d-c6085529154a'}
2025-12-23 17:58:45,696 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:63554 - "PATCH /users/138031f1-0586-4147-b18d-c6085529154a HTTP/1.1" 200 OK
2025-12-23 17:58:45,703 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:58:45,703 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:58:45,703 INFO sqlalchemy.engine.Engine [cached since 684.1s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:58:45,705 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:58:45,706 INFO sqlalchemy.engine.Engine [cached since 684.1s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63554 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:58:45,707 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63556 - "OPTIONS /users/54b73b57-52b5-4d82-b48c-a896695eac23 HTTP/1.1" 200 OK
2025-12-23 17:59:06,120 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:59:06,122 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:59:06,122 INFO sqlalchemy.engine.Engine [cached since 704.6s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:59:06,129 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 17:59:06,129 INFO sqlalchemy.engine.Engine [cached since 704.6s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 17:59:06,130 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.tenant_id AS users_tenant_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.roles AS users_roles, users.is_active AS users_is_active, users.created_at AS users_created_at 
FROM users 
WHERE users.id = %(pk_1)s::VARCHAR
2025-12-23 17:59:06,130 INFO sqlalchemy.engine.Engine [cached since 248.5s ago] {'pk_1': '54b73b57-52b5-4d82-b48c-a896695eac23'}
2025-12-23 17:59:06,134 INFO sqlalchemy.engine.Engine UPDATE users SET roles=%(roles)s::JSONB WHERE users.id = %(users_id)s::VARCHAR
2025-12-23 17:59:06,134 INFO sqlalchemy.engine.Engine [cached since 20.44s ago] {'roles': Jsonb(['doctor']), 'users_id': '54b73b57-52b5-4d82-b48c-a896695eac23'}
2025-12-23 17:59:06,136 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:63556 - "PATCH /users/54b73b57-52b5-4d82-b48c-a896695eac23 HTTP/1.1" 200 OK
2025-12-23 17:59:06,142 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 17:59:06,143 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 17:59:06,143 INFO sqlalchemy.engine.Engine [cached since 704.6s ago] {'username_1': 'apollo_admin'}
2025-12-23 17:59:06,146 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 17:59:06,146 INFO sqlalchemy.engine.Engine [cached since 704.5s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63556 - "GET /users HTTP/1.1" 200 OK
2025-12-23 17:59:06,147 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63573 - "OPTIONS /settings HTTP/1.1" 200 OK
2025-12-23 18:00:00,892 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:00:00,895 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:00:00,896 INFO sqlalchemy.engine.Engine [cached since 759.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:00:00,901 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:00:00,901 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:00:00,901 INFO sqlalchemy.engine.Engine [cached since 759.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:00:00,920 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:00:00,920 INFO sqlalchemy.engine.Engine [cached since 759.3s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:00:00,921 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:00:00,921 INFO sqlalchemy.engine.Engine [cached since 759.4s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63573 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 18:00:00,922 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:00:00,922 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:00:00,922 INFO sqlalchemy.engine.Engine [cached since 759.3s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63574 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:00:00,924 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:00:22,482 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:00:22,487 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:00:22,487 INFO sqlalchemy.engine.Engine [cached since 780.9s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:00:22,491 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:00:22,491 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:00:22,491 INFO sqlalchemy.engine.Engine [cached since 780.9s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:00:22,503 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:00:22,503 INFO sqlalchemy.engine.Engine [cached since 780.9s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:00:22,505 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:00:22,505 INFO sqlalchemy.engine.Engine [cached since 780.9s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63579 - "GET /users HTTP/1.1" 200 OK
2025-12-23 18:00:22,511 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:00:22,516 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:00:22,516 INFO sqlalchemy.engine.Engine [cached since 780.9s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63580 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:00:22,517 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63583 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:00:29,953 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:00:29,957 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:00:29,958 INFO sqlalchemy.engine.Engine [cached since 788.4s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:00:29,960 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:00:29,960 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:00:29,961 INFO sqlalchemy.engine.Engine [cached since 788.4s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:00:29,971 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:00:29,971 INFO sqlalchemy.engine.Engine [cached since 788.4s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:00:29,974 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:00:29,975 INFO sqlalchemy.engine.Engine [cached since 788.4s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:00:29,985 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:00:29,985 INFO sqlalchemy.engine.Engine [cached since 640.6s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:00:29,986 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:00:29,986 INFO sqlalchemy.engine.Engine [cached since 788.4s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63584 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:00:29,988 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:00:29,991 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:00:29,991 INFO sqlalchemy.engine.Engine [cached since 640.6s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:00:29,994 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:00:29,994 INFO sqlalchemy.engine.Engine [cached since 640.6s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63583 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:00:29,996 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63584 - "OPTIONS /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:63583 - "OPTIONS /patients HTTP/1.1" 200 OK
2025-12-23 18:00:31,048 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:00:31,048 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:00:31,048 INFO sqlalchemy.engine.Engine [cached since 789.5s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:00:31,049 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:00:31,050 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:00:31,050 INFO sqlalchemy.engine.Engine [cached since 789.5s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:00:31,051 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:00:31,051 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:00:31,051 INFO sqlalchemy.engine.Engine [cached since 789.5s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:00:31,065 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:00:31,065 INFO sqlalchemy.engine.Engine [cached since 789.4s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:00:31,073 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:00:31,073 INFO sqlalchemy.engine.Engine [cached since 786.9s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
2025-12-23 18:00:31,091 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 18:00:31,091 INFO sqlalchemy.engine.Engine [generated in 0.00019s] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
INFO:     127.0.0.1:63585 - "GET /users HTTP/1.1" 200 OK
INFO:     127.0.0.1:63583 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 18:00:31,098 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:00:31,098 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63584 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 18:00:31,104 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:00:31,198 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:00:31,199 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:00:31,199 INFO sqlalchemy.engine.Engine [cached since 789.6s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:00:31,206 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:00:31,206 INFO sqlalchemy.engine.Engine [cached since 789.6s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:00:31,207 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:00:31,207 INFO sqlalchemy.engine.Engine [cached since 789.6s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63586 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:00:31,208 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:00:31,860 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:00:31,860 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:00:31,860 INFO sqlalchemy.engine.Engine [cached since 790.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:00:31,862 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:00:31,862 INFO sqlalchemy.engine.Engine [cached since 790.3s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:00:31,862 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:00:31,862 INFO sqlalchemy.engine.Engine [cached since 790.3s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63585 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:00:31,863 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63583 - "OPTIONS /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 18:00:32,172 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:00:32,172 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:00:32,172 INFO sqlalchemy.engine.Engine [cached since 790.6s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:00:32,174 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:00:32,174 INFO sqlalchemy.engine.Engine [cached since 788s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:63584 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 18:00:32,175 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:00:32,797 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:00:32,798 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:00:32,799 INFO sqlalchemy.engine.Engine [cached since 791.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:00:32,803 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:00:32,803 INFO sqlalchemy.engine.Engine [cached since 791.2s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:00:32,804 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:00:32,804 INFO sqlalchemy.engine.Engine [cached since 791.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63586 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:00:32,805 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:00:33,381 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:00:33,381 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:00:33,381 INFO sqlalchemy.engine.Engine [cached since 791.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:00:33,382 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:00:33,382 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:00:33,382 INFO sqlalchemy.engine.Engine [cached since 791.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:00:33,383 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:00:33,383 INFO sqlalchemy.engine.Engine [cached since 791.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:00:33,384 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:00:33,384 INFO sqlalchemy.engine.Engine [cached since 791.8s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63585 - "GET /users HTTP/1.1" 200 OK
2025-12-23 18:00:33,385 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:00:33,385 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:00:33,385 INFO sqlalchemy.engine.Engine [cached since 791.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63583 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:00:33,386 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:00:34,084 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:00:34,085 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:00:34,085 INFO sqlalchemy.engine.Engine [cached since 792.5s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:00:34,086 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:00:34,086 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:00:34,086 INFO sqlalchemy.engine.Engine [cached since 792.5s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:00:34,088 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:00:34,088 INFO sqlalchemy.engine.Engine [cached since 792.5s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:00:34,089 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:00:34,089 INFO sqlalchemy.engine.Engine [cached since 792.5s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63584 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 18:00:34,090 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:00:34,090 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:00:34,091 INFO sqlalchemy.engine.Engine [cached since 792.5s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63586 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:00:34,092 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:00:35,179 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:00:35,183 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:00:35,184 INFO sqlalchemy.engine.Engine [cached since 793.6s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:00:35,187 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:00:35,187 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:00:35,187 INFO sqlalchemy.engine.Engine [cached since 793.6s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:00:35,193 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:00:35,193 INFO sqlalchemy.engine.Engine [cached since 793.6s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:00:35,194 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:00:35,194 INFO sqlalchemy.engine.Engine [cached since 793.6s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:00:35,195 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:00:35,195 INFO sqlalchemy.engine.Engine [cached since 645.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:00:35,196 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:00:35,196 INFO sqlalchemy.engine.Engine [cached since 793.6s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63583 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:00:35,198 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:00:35,199 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:00:35,199 INFO sqlalchemy.engine.Engine [cached since 645.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:00:35,201 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:00:35,201 INFO sqlalchemy.engine.Engine [cached since 645.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63585 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:00:35,204 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:01:22,477 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:01:22,480 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:01:22,480 INFO sqlalchemy.engine.Engine [cached since 840.9s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:01:22,504 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:01:22,505 INFO sqlalchemy.engine.Engine [cached since 840.9s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:01:22,506 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:01:22,506 INFO sqlalchemy.engine.Engine [cached since 840.9s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63616 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:01:22,508 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:01:22,533 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:01:22,534 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:01:22,534 INFO sqlalchemy.engine.Engine [cached since 841s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:01:22,540 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:01:22,540 INFO sqlalchemy.engine.Engine [cached since 841s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:01:22,542 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:01:22,542 INFO sqlalchemy.engine.Engine [cached since 693.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:01:22,543 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:01:22,543 INFO sqlalchemy.engine.Engine [cached since 693.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:01:22,545 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:01:22,545 INFO sqlalchemy.engine.Engine [cached since 693.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63616 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:01:22,548 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:01:23,488 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:01:23,489 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:01:23,489 INFO sqlalchemy.engine.Engine [cached since 841.9s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:01:23,492 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:01:23,492 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:01:23,492 INFO sqlalchemy.engine.Engine [cached since 841.9s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:01:23,494 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:01:23,494 INFO sqlalchemy.engine.Engine [cached since 841.9s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:01:23,495 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:01:23,495 INFO sqlalchemy.engine.Engine [cached since 841.9s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:01:23,495 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:01:23,495 INFO sqlalchemy.engine.Engine [cached since 841.9s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63616 - "GET /users HTTP/1.1" 200 OK
2025-12-23 18:01:23,496 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63617 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:01:23,497 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:01:42,173 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:01:42,174 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:01:42,174 INFO sqlalchemy.engine.Engine [cached since 860.6s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:01:42,185 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:01:42,185 INFO sqlalchemy.engine.Engine [cached since 860.6s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:01:42,187 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.tenant_id AS users_tenant_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.roles AS users_roles, users.is_active AS users_is_active, users.created_at AS users_created_at 
FROM users 
WHERE users.id = %(pk_1)s::VARCHAR
2025-12-23 18:01:42,187 INFO sqlalchemy.engine.Engine [cached since 404.5s ago] {'pk_1': '138031f1-0586-4147-b18d-c6085529154a'}
2025-12-23 18:01:42,191 INFO sqlalchemy.engine.Engine UPDATE users SET is_active=%(is_active)s WHERE users.id = %(users_id)s::VARCHAR
2025-12-23 18:01:42,191 INFO sqlalchemy.engine.Engine [cached since 404.5s ago] {'is_active': False, 'users_id': '138031f1-0586-4147-b18d-c6085529154a'}
2025-12-23 18:01:42,198 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:63618 - "PATCH /users/138031f1-0586-4147-b18d-c6085529154a HTTP/1.1" 200 OK
2025-12-23 18:01:42,926 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:01:42,927 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:01:42,927 INFO sqlalchemy.engine.Engine [cached since 861.4s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:01:42,929 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:01:42,929 INFO sqlalchemy.engine.Engine [cached since 861.4s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:01:42,930 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.tenant_id AS users_tenant_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.roles AS users_roles, users.is_active AS users_is_active, users.created_at AS users_created_at 
FROM users 
WHERE users.id = %(pk_1)s::VARCHAR
2025-12-23 18:01:42,930 INFO sqlalchemy.engine.Engine [cached since 405.3s ago] {'pk_1': '138031f1-0586-4147-b18d-c6085529154a'}
2025-12-23 18:01:42,931 INFO sqlalchemy.engine.Engine UPDATE users SET is_active=%(is_active)s WHERE users.id = %(users_id)s::VARCHAR
2025-12-23 18:01:42,931 INFO sqlalchemy.engine.Engine [cached since 405.3s ago] {'is_active': True, 'users_id': '138031f1-0586-4147-b18d-c6085529154a'}
2025-12-23 18:01:42,935 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:63618 - "PATCH /users/138031f1-0586-4147-b18d-c6085529154a HTTP/1.1" 200 OK
2025-12-23 18:01:43,461 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:01:43,462 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:01:43,462 INFO sqlalchemy.engine.Engine [cached since 861.9s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:01:43,464 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:01:43,465 INFO sqlalchemy.engine.Engine [cached since 861.9s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:01:43,466 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.tenant_id AS users_tenant_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.roles AS users_roles, users.is_active AS users_is_active, users.created_at AS users_created_at 
FROM users 
WHERE users.id = %(pk_1)s::VARCHAR
2025-12-23 18:01:43,466 INFO sqlalchemy.engine.Engine [cached since 405.8s ago] {'pk_1': '138031f1-0586-4147-b18d-c6085529154a'}
2025-12-23 18:01:43,467 INFO sqlalchemy.engine.Engine UPDATE users SET is_active=%(is_active)s WHERE users.id = %(users_id)s::VARCHAR
2025-12-23 18:01:43,467 INFO sqlalchemy.engine.Engine [cached since 405.8s ago] {'is_active': False, 'users_id': '138031f1-0586-4147-b18d-c6085529154a'}
2025-12-23 18:01:43,469 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:63618 - "PATCH /users/138031f1-0586-4147-b18d-c6085529154a HTTP/1.1" 200 OK
2025-12-23 18:01:45,194 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:01:45,195 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:01:45,195 INFO sqlalchemy.engine.Engine [cached since 863.6s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:01:45,198 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:01:45,199 INFO sqlalchemy.engine.Engine [cached since 863.6s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:01:45,200 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.tenant_id AS users_tenant_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.roles AS users_roles, users.is_active AS users_is_active, users.created_at AS users_created_at 
FROM users 
WHERE users.id = %(pk_1)s::VARCHAR
2025-12-23 18:01:45,200 INFO sqlalchemy.engine.Engine [cached since 407.5s ago] {'pk_1': '138031f1-0586-4147-b18d-c6085529154a'}
2025-12-23 18:01:45,201 INFO sqlalchemy.engine.Engine UPDATE users SET is_active=%(is_active)s WHERE users.id = %(users_id)s::VARCHAR
2025-12-23 18:01:45,201 INFO sqlalchemy.engine.Engine [cached since 407.5s ago] {'is_active': True, 'users_id': '138031f1-0586-4147-b18d-c6085529154a'}
2025-12-23 18:01:45,204 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:63618 - "PATCH /users/138031f1-0586-4147-b18d-c6085529154a HTTP/1.1" 200 OK
2025-12-23 18:02:27,786 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:02:27,797 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:02:27,798 INFO sqlalchemy.engine.Engine [cached since 906.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:02:27,804 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:02:27,804 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:02:27,804 INFO sqlalchemy.engine.Engine [cached since 906.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:02:27,841 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:02:27,841 INFO sqlalchemy.engine.Engine [cached since 906.3s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:02:27,841 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:02:27,841 INFO sqlalchemy.engine.Engine [cached since 906.3s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63626 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 18:02:27,847 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:02:27,847 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:02:27,847 INFO sqlalchemy.engine.Engine [cached since 906.3s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63627 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:02:27,848 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:02:28,811 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:02:28,811 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:02:28,811 INFO sqlalchemy.engine.Engine [cached since 907.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:02:28,812 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:02:28,812 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:02:28,812 INFO sqlalchemy.engine.Engine [cached since 907.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:02:28,816 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:02:28,816 INFO sqlalchemy.engine.Engine [cached since 907.2s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:02:28,817 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:02:28,817 INFO sqlalchemy.engine.Engine [cached since 907.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63627 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:02:28,818 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:02:28,819 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:02:28,819 INFO sqlalchemy.engine.Engine [cached since 907.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63626 - "GET /users HTTP/1.1" 200 OK
2025-12-23 18:02:28,821 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:02:36,511 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:02:36,512 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:02:36,512 INFO sqlalchemy.engine.Engine [cached since 914.9s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:02:36,517 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:02:36,517 INFO sqlalchemy.engine.Engine [cached since 914.9s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:02:36,518 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.tenant_id AS users_tenant_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.roles AS users_roles, users.is_active AS users_is_active, users.created_at AS users_created_at 
FROM users 
WHERE users.id = %(pk_1)s::VARCHAR
2025-12-23 18:02:36,518 INFO sqlalchemy.engine.Engine [cached since 458.9s ago] {'pk_1': '54b73b57-52b5-4d82-b48c-a896695eac23'}
2025-12-23 18:02:36,520 INFO sqlalchemy.engine.Engine UPDATE users SET is_active=%(is_active)s WHERE users.id = %(users_id)s::VARCHAR
2025-12-23 18:02:36,520 INFO sqlalchemy.engine.Engine [cached since 458.9s ago] {'is_active': False, 'users_id': '54b73b57-52b5-4d82-b48c-a896695eac23'}
2025-12-23 18:02:36,524 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:63632 - "PATCH /users/54b73b57-52b5-4d82-b48c-a896695eac23 HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [33441]
WARNING:  WatchFiles detected changes in 'main.py'. Reloading...
INFO:     Started server process [33949]
INFO:     Waiting for application startup.
2025-12-23 18:02:43,884 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 18:02:43,884 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 18:02:43,887 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 18:02:43,887 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 18:02:43,888 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 18:02:43,888 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 18:02:43,896 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:02:43,898 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 18:02:43,898 INFO sqlalchemy.engine.Engine [generated in 0.00012s] {'table_name': 'tenants', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 18:02:43,904 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 18:02:43,907 INFO sqlalchemy.engine.Engine [cached since 0.009282s ago] {'table_name': 'tenant_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 18:02:43,907 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 18:02:43,907 INFO sqlalchemy.engine.Engine [cached since 0.00974s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 18:02:43,908 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 18:02:43,908 INFO sqlalchemy.engine.Engine [cached since 0.01008s ago] {'table_name': 'patients', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 18:02:43,908 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 18:02:43,908 INFO sqlalchemy.engine.Engine [cached since 0.01038s ago] {'table_name': 'clinical_records', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 18:02:43,908 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 18:02:43,908 INFO sqlalchemy.engine.Engine [cached since 0.01067s ago] {'table_name': 'appointments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 18:02:43,909 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 18:02:43,909 INFO sqlalchemy.engine.Engine [cached since 0.01126s ago] {'table_name': 'attachments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 18:02:43,909 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 18:02:43,909 INFO sqlalchemy.engine.Engine [cached since 0.01151s ago] {'table_name': 'prescriptions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 18:02:43,909 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 18:02:43,909 INFO sqlalchemy.engine.Engine [cached since 0.01176s ago] {'table_name': 'invoices', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 18:02:43,910 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
INFO:     Started server process [33952]
INFO:     Waiting for application startup.
2025-12-23 18:02:44,529 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-12-23 18:02:44,530 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 18:02:44,530 INFO sqlalchemy.engine.Engine select current_schema()
2025-12-23 18:02:44,530 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 18:02:44,531 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-12-23 18:02:44,531 INFO sqlalchemy.engine.Engine [raw sql] {}
2025-12-23 18:02:44,532 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:02:44,534 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 18:02:44,534 INFO sqlalchemy.engine.Engine [generated in 0.00010s] {'table_name': 'tenants', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 18:02:44,535 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 18:02:44,535 INFO sqlalchemy.engine.Engine [cached since 0.001223s ago] {'table_name': 'tenant_settings', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 18:02:44,535 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 18:02:44,535 INFO sqlalchemy.engine.Engine [cached since 0.001609s ago] {'table_name': 'users', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 18:02:44,536 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 18:02:44,536 INFO sqlalchemy.engine.Engine [cached since 0.001974s ago] {'table_name': 'patients', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 18:02:44,536 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 18:02:44,536 INFO sqlalchemy.engine.Engine [cached since 0.002279s ago] {'table_name': 'clinical_records', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 18:02:44,536 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 18:02:44,536 INFO sqlalchemy.engine.Engine [cached since 0.002577s ago] {'table_name': 'appointments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 18:02:44,537 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 18:02:44,537 INFO sqlalchemy.engine.Engine [cached since 0.002982s ago] {'table_name': 'attachments', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 18:02:44,537 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 18:02:44,537 INFO sqlalchemy.engine.Engine [cached since 0.003254s ago] {'table_name': 'prescriptions', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 18:02:44,537 INFO sqlalchemy.engine.Engine SELECT pg_catalog.pg_class.relname 
FROM pg_catalog.pg_class JOIN pg_catalog.pg_namespace ON pg_catalog.pg_namespace.oid = pg_catalog.pg_class.relnamespace 
WHERE pg_catalog.pg_class.relname = %(table_name)s::VARCHAR AND pg_catalog.pg_class.relkind = ANY (ARRAY[%(param_1)s::VARCHAR, %(param_2)s::VARCHAR, %(param_3)s::VARCHAR, %(param_4)s::VARCHAR, %(param_5)s::VARCHAR]) AND pg_catalog.pg_table_is_visible(pg_catalog.pg_class.oid) AND pg_catalog.pg_namespace.nspname != %(nspname_1)s::VARCHAR
2025-12-23 18:02:44,537 INFO sqlalchemy.engine.Engine [cached since 0.003511s ago] {'table_name': 'invoices', 'param_1': 'r', 'param_2': 'p', 'param_3': 'f', 'param_4': 'v', 'param_5': 'm', 'nspname_1': 'pg_catalog'}
2025-12-23 18:02:44,538 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Application startup complete.
2025-12-23 18:02:52,023 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:02:52,037 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:02:52,037 INFO sqlalchemy.engine.Engine [generated in 0.00020s] {'username_1': 'apollo_admin'}
2025-12-23 18:02:52,044 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:02:52,044 INFO sqlalchemy.engine.Engine [generated in 0.00012s] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:02:52,047 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.tenant_id AS users_tenant_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.roles AS users_roles, users.is_active AS users_is_active, users.created_at AS users_created_at 
FROM users 
WHERE users.id = %(pk_1)s::VARCHAR
2025-12-23 18:02:52,047 INFO sqlalchemy.engine.Engine [generated in 0.00012s] {'pk_1': '54b73b57-52b5-4d82-b48c-a896695eac23'}
2025-12-23 18:02:52,049 INFO sqlalchemy.engine.Engine UPDATE users SET is_active=%(is_active)s WHERE users.id = %(users_id)s::VARCHAR
2025-12-23 18:02:52,049 INFO sqlalchemy.engine.Engine [generated in 0.00011s] {'is_active': True, 'users_id': '54b73b57-52b5-4d82-b48c-a896695eac23'}
2025-12-23 18:02:52,051 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:63646 - "PATCH /users/54b73b57-52b5-4d82-b48c-a896695eac23 HTTP/1.1" 200 OK
2025-12-23 18:02:52,661 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:02:52,661 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:02:52,661 INFO sqlalchemy.engine.Engine [cached since 0.6247s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:02:52,664 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:02:52,664 INFO sqlalchemy.engine.Engine [cached since 0.6202s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:02:52,666 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.tenant_id AS users_tenant_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.roles AS users_roles, users.is_active AS users_is_active, users.created_at AS users_created_at 
FROM users 
WHERE users.id = %(pk_1)s::VARCHAR
2025-12-23 18:02:52,666 INFO sqlalchemy.engine.Engine [cached since 0.6187s ago] {'pk_1': '54b73b57-52b5-4d82-b48c-a896695eac23'}
2025-12-23 18:02:52,667 INFO sqlalchemy.engine.Engine UPDATE users SET is_active=%(is_active)s WHERE users.id = %(users_id)s::VARCHAR
2025-12-23 18:02:52,667 INFO sqlalchemy.engine.Engine [cached since 0.6182s ago] {'is_active': False, 'users_id': '54b73b57-52b5-4d82-b48c-a896695eac23'}
2025-12-23 18:02:52,668 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:63646 - "PATCH /users/54b73b57-52b5-4d82-b48c-a896695eac23 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63797 - "GET / HTTP/1.1" 404 Not Found
INFO:     127.0.0.1:63804 - "OPTIONS /users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:63805 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 18:09:10,739 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:09:10,753 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:09:10,754 INFO sqlalchemy.engine.Engine [cached since 378.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:09:10,819 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:09:10,819 INFO sqlalchemy.engine.Engine [cached since 378.8s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:10,829 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:09:10,829 INFO sqlalchemy.engine.Engine [generated in 0.00011s] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:10,842 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:09:11,996 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:09:11,996 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:09:11,996 INFO sqlalchemy.engine.Engine [cached since 380s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:09:11,997 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:09:11,997 INFO sqlalchemy.engine.Engine [cached since 380s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:11,997 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:09:11,997 INFO sqlalchemy.engine.Engine [cached since 1.168s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63805 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:09:11,998 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:09:11,999 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:09:11,999 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:09:11,999 INFO sqlalchemy.engine.Engine [cached since 380s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:09:12,000 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:09:12,000 INFO sqlalchemy.engine.Engine [cached since 380s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:12,000 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:09:12,000 INFO sqlalchemy.engine.Engine [cached since 1.171s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63805 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:09:12,001 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63805 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
INFO:     127.0.0.1:63806 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:09:12,115 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:09:12,115 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:09:12,115 INFO sqlalchemy.engine.Engine [cached since 380.1s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:09:12,117 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:09:12,117 INFO sqlalchemy.engine.Engine [cached since 380.1s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:12,135 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:09:12,135 INFO sqlalchemy.engine.Engine [generated in 0.00015s] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:12,145 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:09:12,145 INFO sqlalchemy.engine.Engine [generated in 0.00010s] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:12,146 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:09:12,146 INFO sqlalchemy.engine.Engine [generated in 0.00008s] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63805 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:09:12,152 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:09:12,153 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:09:12,153 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:09:12,153 INFO sqlalchemy.engine.Engine [cached since 380.1s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:09:12,154 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:09:12,154 INFO sqlalchemy.engine.Engine [cached since 380.1s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:12,154 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:09:12,155 INFO sqlalchemy.engine.Engine [cached since 0.01977s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:12,155 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:09:12,155 INFO sqlalchemy.engine.Engine [cached since 0.009959s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:12,155 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:09:12,155 INFO sqlalchemy.engine.Engine [cached since 0.009341s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63805 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:09:12,156 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:09:12,157 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:09:12,157 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:09:12,157 INFO sqlalchemy.engine.Engine [cached since 380.1s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:09:12,158 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:09:12,158 INFO sqlalchemy.engine.Engine [cached since 380.1s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:12,158 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:09:12,158 INFO sqlalchemy.engine.Engine [cached since 0.02354s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:12,159 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:09:12,159 INFO sqlalchemy.engine.Engine [cached since 0.01373s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:12,159 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:09:12,159 INFO sqlalchemy.engine.Engine [cached since 0.01295s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63805 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:09:12,160 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:09:22,430 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:09:22,432 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:09:22,432 INFO sqlalchemy.engine.Engine [cached since 390.4s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:09:22,440 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:09:22,440 INFO sqlalchemy.engine.Engine [cached since 390.4s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:22,441 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:09:22,441 INFO sqlalchemy.engine.Engine [cached since 11.61s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63809 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:09:22,443 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:09:22,444 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:09:22,444 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:09:22,444 INFO sqlalchemy.engine.Engine [cached since 390.4s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:09:22,445 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:09:22,445 INFO sqlalchemy.engine.Engine [cached since 390.4s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:22,445 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:09:22,445 INFO sqlalchemy.engine.Engine [cached since 11.62s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63809 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:09:22,446 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:09:22,453 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:09:22,453 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:09:22,454 INFO sqlalchemy.engine.Engine [cached since 390.4s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:09:22,454 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:09:22,454 INFO sqlalchemy.engine.Engine [cached since 390.4s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:22,455 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:09:22,455 INFO sqlalchemy.engine.Engine [cached since 10.32s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:22,456 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:09:22,456 INFO sqlalchemy.engine.Engine [cached since 10.31s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:22,457 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:09:22,457 INFO sqlalchemy.engine.Engine [cached since 10.31s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63809 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:09:22,457 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:09:22,458 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:09:22,458 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:09:22,458 INFO sqlalchemy.engine.Engine [cached since 390.4s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:09:22,459 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:09:22,459 INFO sqlalchemy.engine.Engine [cached since 390.4s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:22,459 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:09:22,459 INFO sqlalchemy.engine.Engine [cached since 10.32s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:22,460 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:09:22,460 INFO sqlalchemy.engine.Engine [cached since 10.31s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:22,460 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:09:22,461 INFO sqlalchemy.engine.Engine [cached since 10.31s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63809 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:09:22,461 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:09:22,462 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:09:22,462 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:09:22,462 INFO sqlalchemy.engine.Engine [cached since 390.4s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:09:22,463 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:09:22,463 INFO sqlalchemy.engine.Engine [cached since 390.4s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:22,463 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:09:22,463 INFO sqlalchemy.engine.Engine [cached since 10.33s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:22,464 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:09:22,464 INFO sqlalchemy.engine.Engine [cached since 10.32s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:22,464 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:09:22,464 INFO sqlalchemy.engine.Engine [cached since 10.32s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63809 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:09:22,465 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63809 - "OPTIONS /users HTTP/1.1" 200 OK
2025-12-23 18:09:24,012 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:09:24,013 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:09:24,013 INFO sqlalchemy.engine.Engine [cached since 392s ago] {'username_1': 'apollo_admin'}
INFO:     127.0.0.1:63816 - "OPTIONS /users HTTP/1.1" 200 OK
2025-12-23 18:09:24,028 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:09:24,028 INFO sqlalchemy.engine.Engine [cached since 392s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:24,032 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:09:24,033 INFO sqlalchemy.engine.Engine [cached since 13.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63815 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:09:24,054 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:09:24,214 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:09:24,216 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:09:24,216 INFO sqlalchemy.engine.Engine [cached since 392.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:09:24,222 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:09:24,222 INFO sqlalchemy.engine.Engine [generated in 0.00026s] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63809 - "GET /users HTTP/1.1" 200 OK
2025-12-23 18:09:24,227 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:09:24,228 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:09:24,229 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:09:24,229 INFO sqlalchemy.engine.Engine [cached since 392.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:09:24,230 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:09:24,230 INFO sqlalchemy.engine.Engine [cached since 0.007713s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63809 - "GET /users HTTP/1.1" 200 OK
2025-12-23 18:09:24,231 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63809 - "OPTIONS /users/54b73b57-52b5-4d82-b48c-a896695eac23 HTTP/1.1" 200 OK
2025-12-23 18:09:28,346 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:09:28,347 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:09:28,347 INFO sqlalchemy.engine.Engine [cached since 396.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:09:28,356 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:09:28,356 INFO sqlalchemy.engine.Engine [cached since 396.3s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:28,360 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.tenant_id AS users_tenant_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.roles AS users_roles, users.is_active AS users_is_active, users.created_at AS users_created_at 
FROM users 
WHERE users.id = %(pk_1)s::VARCHAR
2025-12-23 18:09:28,360 INFO sqlalchemy.engine.Engine [cached since 396.3s ago] {'pk_1': '54b73b57-52b5-4d82-b48c-a896695eac23'}
2025-12-23 18:09:28,362 INFO sqlalchemy.engine.Engine UPDATE users SET is_active=%(is_active)s WHERE users.id = %(users_id)s::VARCHAR
2025-12-23 18:09:28,362 INFO sqlalchemy.engine.Engine [cached since 396.3s ago] {'is_active': True, 'users_id': '54b73b57-52b5-4d82-b48c-a896695eac23'}
2025-12-23 18:09:28,368 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:63815 - "PATCH /users/54b73b57-52b5-4d82-b48c-a896695eac23 HTTP/1.1" 200 OK
2025-12-23 18:09:29,055 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:09:29,056 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:09:29,056 INFO sqlalchemy.engine.Engine [cached since 397s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:09:29,059 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:09:29,059 INFO sqlalchemy.engine.Engine [cached since 397s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:29,061 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.tenant_id AS users_tenant_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.roles AS users_roles, users.is_active AS users_is_active, users.created_at AS users_created_at 
FROM users 
WHERE users.id = %(pk_1)s::VARCHAR
2025-12-23 18:09:29,061 INFO sqlalchemy.engine.Engine [cached since 397s ago] {'pk_1': '54b73b57-52b5-4d82-b48c-a896695eac23'}
2025-12-23 18:09:29,062 INFO sqlalchemy.engine.Engine UPDATE users SET is_active=%(is_active)s WHERE users.id = %(users_id)s::VARCHAR
2025-12-23 18:09:29,062 INFO sqlalchemy.engine.Engine [cached since 397s ago] {'is_active': False, 'users_id': '54b73b57-52b5-4d82-b48c-a896695eac23'}
2025-12-23 18:09:29,064 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:63815 - "PATCH /users/54b73b57-52b5-4d82-b48c-a896695eac23 HTTP/1.1" 200 OK
2025-12-23 18:09:36,451 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:09:36,453 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:09:36,454 INFO sqlalchemy.engine.Engine [cached since 404.4s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:09:36,466 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:09:36,466 INFO sqlalchemy.engine.Engine [cached since 404.4s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:36,467 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.tenant_id AS users_tenant_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.roles AS users_roles, users.is_active AS users_is_active, users.created_at AS users_created_at 
FROM users 
WHERE users.id = %(pk_1)s::VARCHAR
2025-12-23 18:09:36,467 INFO sqlalchemy.engine.Engine [cached since 404.4s ago] {'pk_1': '54b73b57-52b5-4d82-b48c-a896695eac23'}
2025-12-23 18:09:36,474 INFO sqlalchemy.engine.Engine DELETE FROM users WHERE users.id = %(id)s::VARCHAR
2025-12-23 18:09:36,474 INFO sqlalchemy.engine.Engine [generated in 0.00011s] {'id': '54b73b57-52b5-4d82-b48c-a896695eac23'}
2025-12-23 18:09:36,482 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:63817 - "DELETE /users/54b73b57-52b5-4d82-b48c-a896695eac23 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63825 - "OPTIONS /users/138031f1-0586-4147-b18d-c6085529154a HTTP/1.1" 200 OK
2025-12-23 18:09:42,760 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:09:42,762 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:09:42,762 INFO sqlalchemy.engine.Engine [cached since 410.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:09:42,769 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:09:42,769 INFO sqlalchemy.engine.Engine [cached since 410.7s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:42,769 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.tenant_id AS users_tenant_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.roles AS users_roles, users.is_active AS users_is_active, users.created_at AS users_created_at 
FROM users 
WHERE users.id = %(pk_1)s::VARCHAR
2025-12-23 18:09:42,769 INFO sqlalchemy.engine.Engine [cached since 410.7s ago] {'pk_1': '138031f1-0586-4147-b18d-c6085529154a'}
2025-12-23 18:09:42,770 INFO sqlalchemy.engine.Engine DELETE FROM users WHERE users.id = %(id)s::VARCHAR
2025-12-23 18:09:42,770 INFO sqlalchemy.engine.Engine [cached since 6.297s ago] {'id': '138031f1-0586-4147-b18d-c6085529154a'}
2025-12-23 18:09:42,772 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:63825 - "DELETE /users/138031f1-0586-4147-b18d-c6085529154a HTTP/1.1" 200 OK
2025-12-23 18:09:45,408 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:09:45,408 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:09:45,408 INFO sqlalchemy.engine.Engine [cached since 413.4s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:09:45,410 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:09:45,410 INFO sqlalchemy.engine.Engine [cached since 413.4s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:45,411 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:09:45,411 INFO sqlalchemy.engine.Engine [cached since 34.58s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63825 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:09:45,413 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:09:45,414 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:09:45,414 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:09:45,414 INFO sqlalchemy.engine.Engine [cached since 413.4s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:09:45,415 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:09:45,415 INFO sqlalchemy.engine.Engine [cached since 413.4s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:09:45,415 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:09:45,415 INFO sqlalchemy.engine.Engine [cached since 34.59s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63825 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:09:45,416 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:09:45,444 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:09:45,445 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:09:45,445 INFO sqlalchemy.engine.Engine [cached since 413.4s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:09:45,445 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:09:45,445 INFO sqlalchemy.engine.Engine [cached since 21.22s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63825 - "GET /users HTTP/1.1" 200 OK
2025-12-23 18:09:45,446 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:09:45,447 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:09:45,447 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:09:45,447 INFO sqlalchemy.engine.Engine [cached since 413.4s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:09:45,448 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:09:45,448 INFO sqlalchemy.engine.Engine [cached since 21.23s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63825 - "GET /users HTTP/1.1" 200 OK
2025-12-23 18:09:45,448 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63858 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 18:11:16,219 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:16,223 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:16,223 INFO sqlalchemy.engine.Engine [cached since 504.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:11:16,262 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:11:16,263 INFO sqlalchemy.engine.Engine [cached since 504.2s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:16,267 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:16,267 INFO sqlalchemy.engine.Engine [cached since 125.4s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63858 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:11:16,268 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63858 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:11:16,341 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:16,341 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:16,341 INFO sqlalchemy.engine.Engine [cached since 504.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:11:16,344 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:11:16,344 INFO sqlalchemy.engine.Engine [cached since 504.3s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:16,345 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:16,345 INFO sqlalchemy.engine.Engine [cached since 124.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:16,347 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:16,348 INFO sqlalchemy.engine.Engine [cached since 124.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:16,349 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:11:16,349 INFO sqlalchemy.engine.Engine [cached since 124.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63858 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:11:16,352 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63858 - "OPTIONS /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:63859 - "OPTIONS /patients HTTP/1.1" 200 OK
INFO:     127.0.0.1:63860 - "OPTIONS /users HTTP/1.1" 200 OK
2025-12-23 18:11:18,200 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:18,200 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:18,200 INFO sqlalchemy.engine.Engine [cached since 506.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:11:18,204 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:18,204 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:18,204 INFO sqlalchemy.engine.Engine [cached since 506.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:11:18,212 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:11:18,212 INFO sqlalchemy.engine.Engine [cached since 506.2s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:18,236 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 18:11:18,236 INFO sqlalchemy.engine.Engine [generated in 0.00014s] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
2025-12-23 18:11:18,237 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:18,237 INFO sqlalchemy.engine.Engine [cached since 127.4s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63861 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:11:18,238 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63858 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 18:11:18,243 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:11:18,296 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:18,296 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:18,296 INFO sqlalchemy.engine.Engine [cached since 506.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:11:18,296 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:18,296 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:18,296 INFO sqlalchemy.engine.Engine [cached since 506.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:11:18,305 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:11:18,305 INFO sqlalchemy.engine.Engine [generated in 0.00010s] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
2025-12-23 18:11:18,305 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:18,305 INFO sqlalchemy.engine.Engine [cached since 114.1s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63860 - "GET /users HTTP/1.1" 200 OK
2025-12-23 18:11:18,306 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63859 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 18:11:18,306 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:11:19,347 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:19,347 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:19,347 INFO sqlalchemy.engine.Engine [cached since 507.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:11:19,348 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:19,348 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:19,349 INFO sqlalchemy.engine.Engine [cached since 507.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:11:19,350 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:11:19,350 INFO sqlalchemy.engine.Engine [cached since 507.3s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:19,351 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:11:19,351 INFO sqlalchemy.engine.Engine [cached since 507.3s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:19,353 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:19,353 INFO sqlalchemy.engine.Engine [cached since 127.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:19,354 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:19,354 INFO sqlalchemy.engine.Engine [cached since 128.5s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63858 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:11:19,355 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:11:19,356 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:19,356 INFO sqlalchemy.engine.Engine [cached since 127.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:19,361 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:11:19,361 INFO sqlalchemy.engine.Engine [cached since 127.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63861 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:11:19,363 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:11:20,226 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:20,227 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:20,227 INFO sqlalchemy.engine.Engine [cached since 508.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:11:20,228 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:20,228 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:20,228 INFO sqlalchemy.engine.Engine [cached since 508.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:11:20,229 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:20,230 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:20,230 INFO sqlalchemy.engine.Engine [cached since 508.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:11:20,230 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:20,231 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:20,231 INFO sqlalchemy.engine.Engine [cached since 508.2s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:11:20,234 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:20,234 INFO sqlalchemy.engine.Engine [cached since 116s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:20,236 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:11:20,236 INFO sqlalchemy.engine.Engine [cached since 1.932s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
2025-12-23 18:11:20,238 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:11:20,238 INFO sqlalchemy.engine.Engine [cached since 508.2s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:20,239 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 18:11:20,239 INFO sqlalchemy.engine.Engine [cached since 2.003s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
INFO:     127.0.0.1:63858 - "GET /users HTTP/1.1" 200 OK
INFO:     127.0.0.1:63859 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 18:11:20,240 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:20,240 INFO sqlalchemy.engine.Engine [cached since 129.4s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:20,240 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:11:20,240 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63861 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:11:20,241 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63860 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 18:11:20,241 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:11:21,025 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:21,026 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:21,026 INFO sqlalchemy.engine.Engine [cached since 509s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:11:21,028 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:11:21,028 INFO sqlalchemy.engine.Engine [cached since 509s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:21,029 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:21,029 INFO sqlalchemy.engine.Engine [cached since 130.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63858 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:11:21,031 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63859 - "OPTIONS /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 18:11:21,330 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:21,331 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:21,331 INFO sqlalchemy.engine.Engine [cached since 509.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:11:21,332 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:11:21,332 INFO sqlalchemy.engine.Engine [cached since 3.028s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:63861 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 18:11:21,333 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:11:22,884 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:22,885 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:22,885 INFO sqlalchemy.engine.Engine [cached since 510.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:11:22,887 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:11:22,887 INFO sqlalchemy.engine.Engine [cached since 510.8s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:22,888 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:22,888 INFO sqlalchemy.engine.Engine [cached since 132.1s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63860 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:11:22,890 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:11:23,747 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:23,754 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:23,754 INFO sqlalchemy.engine.Engine [cached since 511.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:11:23,756 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:23,757 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:23,757 INFO sqlalchemy.engine.Engine [cached since 511.7s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:11:23,759 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:11:23,759 INFO sqlalchemy.engine.Engine [cached since 511.7s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:23,759 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:23,759 INFO sqlalchemy.engine.Engine [cached since 119.5s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:23,760 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:23,760 INFO sqlalchemy.engine.Engine [cached since 132.9s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63858 - "GET /users HTTP/1.1" 200 OK
2025-12-23 18:11:23,761 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63859 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:11:23,761 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63860 - "OPTIONS /settings HTTP/1.1" 200 OK
2025-12-23 18:11:26,809 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:26,811 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:26,811 INFO sqlalchemy.engine.Engine [cached since 514.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:11:26,837 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:26,837 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:26,837 INFO sqlalchemy.engine.Engine [cached since 514.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:11:26,841 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:11:26,841 INFO sqlalchemy.engine.Engine [cached since 514.8s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:26,841 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:26,842 INFO sqlalchemy.engine.Engine [cached since 136s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63859 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 18:11:26,852 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:11:26,855 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:26,855 INFO sqlalchemy.engine.Engine [cached since 136s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63858 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:11:26,856 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:11:41,261 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:41,263 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:41,263 INFO sqlalchemy.engine.Engine [cached since 529.2s ago] {'username_1': 'dr_patil'}
INFO:     127.0.0.1:63872 - "POST /token HTTP/1.1" 200 OK
2025-12-23 18:11:41,719 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:11:41,776 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:41,779 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:41,784 INFO sqlalchemy.engine.Engine [cached since 529.7s ago] {'username_1': 'dr_patil'}
2025-12-23 18:11:41,815 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:11:41,815 INFO sqlalchemy.engine.Engine [cached since 529.8s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:41,820 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:41,820 INFO sqlalchemy.engine.Engine [cached since 151s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63872 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:11:41,821 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:11:41,839 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:41,840 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:41,840 INFO sqlalchemy.engine.Engine [cached since 529.8s ago] {'username_1': 'dr_patil'}
2025-12-23 18:11:41,843 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:11:41,843 INFO sqlalchemy.engine.Engine [cached since 529.8s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:41,845 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:41,845 INFO sqlalchemy.engine.Engine [cached since 149.7s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:41,847 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:41,847 INFO sqlalchemy.engine.Engine [cached since 149.7s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:41,884 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:11:41,884 INFO sqlalchemy.engine.Engine [cached since 149.7s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63872 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:11:41,886 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:11:43,732 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:43,735 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:43,735 INFO sqlalchemy.engine.Engine [cached since 531.7s ago] {'username_1': 'dr_patil'}
2025-12-23 18:11:43,742 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:43,742 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:43,742 INFO sqlalchemy.engine.Engine [cached since 531.7s ago] {'username_1': 'dr_patil'}
2025-12-23 18:11:43,750 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 18:11:43,750 INFO sqlalchemy.engine.Engine [cached since 25.51s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
2025-12-23 18:11:43,754 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:43,754 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:43,755 INFO sqlalchemy.engine.Engine [cached since 531.7s ago] {'username_1': 'dr_patil'}
2025-12-23 18:11:43,756 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:43,757 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:43,757 INFO sqlalchemy.engine.Engine [cached since 531.7s ago] {'username_1': 'dr_patil'}
INFO:     127.0.0.1:63872 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 18:11:43,759 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:11:43,760 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:11:43,760 INFO sqlalchemy.engine.Engine [cached since 25.46s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
2025-12-23 18:11:43,761 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:43,761 INFO sqlalchemy.engine.Engine [cached since 139.5s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63875 - "GET /users HTTP/1.1" 200 OK
2025-12-23 18:11:43,767 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:11:43,773 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:11:43,773 INFO sqlalchemy.engine.Engine [cached since 531.7s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63874 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 18:11:43,774 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:11:43,775 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:43,775 INFO sqlalchemy.engine.Engine [cached since 152.9s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63876 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:11:43,778 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:11:44,575 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:44,575 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:44,575 INFO sqlalchemy.engine.Engine [cached since 532.5s ago] {'username_1': 'dr_patil'}
2025-12-23 18:11:44,577 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:11:44,577 INFO sqlalchemy.engine.Engine [cached since 532.5s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:44,579 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:44,579 INFO sqlalchemy.engine.Engine [cached since 153.7s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63872 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:11:44,580 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:11:44,880 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:44,881 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:44,881 INFO sqlalchemy.engine.Engine [cached since 532.8s ago] {'username_1': 'dr_patil'}
2025-12-23 18:11:44,885 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:11:44,885 INFO sqlalchemy.engine.Engine [cached since 26.58s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:63875 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 18:11:44,886 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:11:45,741 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:45,743 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:45,743 INFO sqlalchemy.engine.Engine [cached since 533.7s ago] {'username_1': 'dr_patil'}
2025-12-23 18:11:45,747 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:11:45,747 INFO sqlalchemy.engine.Engine [cached since 533.7s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:45,750 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:45,750 INFO sqlalchemy.engine.Engine [cached since 154.9s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63874 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:11:45,752 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:11:47,103 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:47,104 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:47,104 INFO sqlalchemy.engine.Engine [cached since 535.1s ago] {'username_1': 'dr_patil'}
2025-12-23 18:11:47,105 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:47,105 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:47,105 INFO sqlalchemy.engine.Engine [cached since 535.1s ago] {'username_1': 'dr_patil'}
2025-12-23 18:11:47,108 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:11:47,108 INFO sqlalchemy.engine.Engine [cached since 535.1s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:47,108 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:11:47,108 INFO sqlalchemy.engine.Engine [cached since 535.1s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:47,108 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:47,108 INFO sqlalchemy.engine.Engine [cached since 156.3s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:47,111 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:47,111 INFO sqlalchemy.engine.Engine [cached since 155s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63872 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:11:47,112 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:11:47,113 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:47,113 INFO sqlalchemy.engine.Engine [cached since 155s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:47,114 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:11:47,114 INFO sqlalchemy.engine.Engine [cached since 155s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63876 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:11:47,115 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:11:47,117 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:47,118 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:47,118 INFO sqlalchemy.engine.Engine [cached since 535.1s ago] {'username_1': 'dr_patil'}
2025-12-23 18:11:47,120 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:11:47,120 INFO sqlalchemy.engine.Engine [cached since 535.1s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:47,121 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:47,121 INFO sqlalchemy.engine.Engine [cached since 155s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:47,122 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:47,122 INFO sqlalchemy.engine.Engine [cached since 155s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:47,123 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:11:47,123 INFO sqlalchemy.engine.Engine [cached since 155s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63875 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:11:47,124 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:11:51,600 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:51,601 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:51,601 INFO sqlalchemy.engine.Engine [cached since 539.6s ago] {'username_1': 'dr_patil'}
2025-12-23 18:11:51,603 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:51,603 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:51,603 INFO sqlalchemy.engine.Engine [cached since 539.6s ago] {'username_1': 'dr_patil'}
2025-12-23 18:11:51,604 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:51,604 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:51,605 INFO sqlalchemy.engine.Engine [cached since 539.6s ago] {'username_1': 'dr_patil'}
2025-12-23 18:11:51,606 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:51,606 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:51,606 INFO sqlalchemy.engine.Engine [cached since 539.6s ago] {'username_1': 'dr_patil'}
2025-12-23 18:11:51,607 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 18:11:51,607 INFO sqlalchemy.engine.Engine [cached since 33.37s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
2025-12-23 18:11:51,609 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:11:51,609 INFO sqlalchemy.engine.Engine [cached since 33.3s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
2025-12-23 18:11:51,609 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:51,609 INFO sqlalchemy.engine.Engine [cached since 147.4s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63872 - "GET /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:63876 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 18:11:51,611 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:11:51,611 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63875 - "GET /users HTTP/1.1" 200 OK
2025-12-23 18:11:51,612 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:11:51,613 INFO sqlalchemy.engine.Engine [cached since 539.6s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:51,613 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:11:51,614 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:51,614 INFO sqlalchemy.engine.Engine [cached since 160.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63882 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:11:51,615 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:11:52,760 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:52,765 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:52,765 INFO sqlalchemy.engine.Engine [cached since 540.7s ago] {'username_1': 'dr_patil'}
2025-12-23 18:11:52,779 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:11:52,779 INFO sqlalchemy.engine.Engine [cached since 540.7s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:52,781 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:52,781 INFO sqlalchemy.engine.Engine [cached since 162s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63872 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:11:52,783 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:11:53,034 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:53,034 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:53,034 INFO sqlalchemy.engine.Engine [cached since 541s ago] {'username_1': 'dr_patil'}
2025-12-23 18:11:53,037 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:11:53,037 INFO sqlalchemy.engine.Engine [cached since 34.73s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:63876 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 18:11:53,038 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:11:53,769 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:53,773 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:53,773 INFO sqlalchemy.engine.Engine [cached since 541.7s ago] {'username_1': 'dr_patil'}
2025-12-23 18:11:53,776 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:53,776 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:53,777 INFO sqlalchemy.engine.Engine [cached since 541.7s ago] {'username_1': 'dr_patil'}
2025-12-23 18:11:53,777 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:53,778 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:53,778 INFO sqlalchemy.engine.Engine [cached since 541.7s ago] {'username_1': 'dr_patil'}
2025-12-23 18:11:53,779 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:11:53,779 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:11:53,779 INFO sqlalchemy.engine.Engine [cached since 541.7s ago] {'username_1': 'dr_patil'}
2025-12-23 18:11:53,788 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:11:53,788 INFO sqlalchemy.engine.Engine [cached since 35.48s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
2025-12-23 18:11:53,789 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:53,789 INFO sqlalchemy.engine.Engine [cached since 149.6s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:53,791 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 18:11:53,791 INFO sqlalchemy.engine.Engine [cached since 35.55s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
2025-12-23 18:11:53,792 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:11:53,792 INFO sqlalchemy.engine.Engine [cached since 541.7s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63882 - "GET /patients HTTP/1.1" 200 OK
INFO:     127.0.0.1:63872 - "GET /users HTTP/1.1" 200 OK
2025-12-23 18:11:53,800 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:11:53,801 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63875 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 18:11:53,802 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:11:53,802 INFO sqlalchemy.engine.Engine [cached since 163s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:11:53,802 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63876 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:11:53,803 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:12:00,197 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:12:00,200 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:12:00,200 INFO sqlalchemy.engine.Engine [cached since 548.2s ago] {'username_1': 'dr_patil'}
2025-12-23 18:12:00,206 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:12:00,206 INFO sqlalchemy.engine.Engine [cached since 548.2s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:12:00,207 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:12:00,207 INFO sqlalchemy.engine.Engine [cached since 169.4s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63886 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:12:00,210 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:12:00,456 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:12:00,456 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:12:00,456 INFO sqlalchemy.engine.Engine [cached since 548.4s ago] {'username_1': 'dr_patil'}
2025-12-23 18:12:00,460 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:12:00,460 INFO sqlalchemy.engine.Engine [cached since 42.15s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:63886 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 18:12:00,462 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:12:02,112 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:12:02,113 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:12:02,113 INFO sqlalchemy.engine.Engine [cached since 550.1s ago] {'username_1': 'dr_patil'}
2025-12-23 18:12:02,116 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:12:02,116 INFO sqlalchemy.engine.Engine [cached since 550.1s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:12:02,117 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:12:02,118 INFO sqlalchemy.engine.Engine [cached since 171.3s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63886 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:12:02,119 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:12:03,480 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:12:03,481 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:12:03,481 INFO sqlalchemy.engine.Engine [cached since 551.4s ago] {'username_1': 'dr_patil'}
2025-12-23 18:12:03,485 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:12:03,485 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:12:03,486 INFO sqlalchemy.engine.Engine [cached since 551.4s ago] {'username_1': 'dr_patil'}
2025-12-23 18:12:03,488 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:12:03,488 INFO sqlalchemy.engine.Engine [cached since 551.4s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:12:03,489 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:12:03,489 INFO sqlalchemy.engine.Engine [cached since 551.4s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:12:03,490 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:12:03,490 INFO sqlalchemy.engine.Engine [cached since 171.4s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:12:03,491 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:12:03,491 INFO sqlalchemy.engine.Engine [cached since 172.7s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63890 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:12:03,492 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:12:03,493 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:12:03,493 INFO sqlalchemy.engine.Engine [cached since 171.3s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:12:03,494 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:12:03,494 INFO sqlalchemy.engine.Engine [cached since 171.3s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63886 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:12:03,495 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:12:20,634 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:12:20,636 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:12:20,637 INFO sqlalchemy.engine.Engine [cached since 568.6s ago] {'username_1': 'apollo_admin'}
INFO:     127.0.0.1:63891 - "POST /token HTTP/1.1" 200 OK
2025-12-23 18:12:20,882 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:12:20,913 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:12:20,915 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:12:20,915 INFO sqlalchemy.engine.Engine [cached since 568.9s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:12:20,920 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:12:20,920 INFO sqlalchemy.engine.Engine [cached since 568.9s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:12:20,921 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:12:20,921 INFO sqlalchemy.engine.Engine [cached since 190.1s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63891 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:12:20,922 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:12:20,929 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:12:20,929 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:12:20,929 INFO sqlalchemy.engine.Engine [cached since 568.9s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:12:20,931 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:12:20,931 INFO sqlalchemy.engine.Engine [cached since 568.9s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:12:20,931 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:12:20,931 INFO sqlalchemy.engine.Engine [cached since 188.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:12:20,932 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:12:20,932 INFO sqlalchemy.engine.Engine [cached since 188.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:12:20,932 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:12:20,932 INFO sqlalchemy.engine.Engine [cached since 188.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63891 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:12:20,933 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:12:26,298 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:12:26,298 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:12:26,299 INFO sqlalchemy.engine.Engine [cached since 574.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:12:26,301 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:12:26,302 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:12:26,302 INFO sqlalchemy.engine.Engine [cached since 574.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:12:26,305 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:12:26,306 INFO sqlalchemy.engine.Engine [cached since 574.3s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:12:26,307 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:12:26,307 INFO sqlalchemy.engine.Engine [cached since 195.5s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:12:26,307 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:12:26,307 INFO sqlalchemy.engine.Engine [cached since 182.1s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63896 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:12:26,308 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63895 - "GET /users HTTP/1.1" 200 OK
2025-12-23 18:12:26,309 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63923 - "OPTIONS /users HTTP/1.1" 200 OK
2025-12-23 18:14:14,562 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:14:14,565 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:14:14,566 INFO sqlalchemy.engine.Engine [cached since 682.5s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:14:14,591 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:14:14,591 INFO sqlalchemy.engine.Engine [cached since 682.5s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:14:14,838 INFO sqlalchemy.engine.Engine INSERT INTO users (id, tenant_id, username, hashed_password, roles, is_active, created_at) VALUES (%(id)s::VARCHAR, %(tenant_id)s::VARCHAR, %(username)s::VARCHAR, %(hashed_password)s::VARCHAR, %(roles)s::JSONB, %(is_active)s, %(created_at)s::TIMESTAMP WITHOUT TIME ZONE)
2025-12-23 18:14:14,839 INFO sqlalchemy.engine.Engine [generated in 0.00135s] {'id': '2333eb21-641a-4251-9254-848673a2d026', 'tenant_id': '28f9a367-8132-4723-a360-333fbc5db17b', 'username': 'nurse_joy', 'hashed_password': '$2b$12$DDW5F/ZSFRZMcVU2sSj41e3btx4657Yks4L5aPILvt/VyPbERG8LO', 'roles': Jsonb(['nurse']), 'is_active': True, 'created_at': datetime.datetime(2025, 12, 23, 12, 44, 14, 838578)}
2025-12-23 18:14:14,848 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:63923 - "POST /users HTTP/1.1" 200 OK
2025-12-23 18:14:14,862 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:14:14,862 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:14:14,862 INFO sqlalchemy.engine.Engine [cached since 682.8s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:14:14,864 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:14:14,864 INFO sqlalchemy.engine.Engine [cached since 290.6s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63923 - "GET /users HTTP/1.1" 200 OK
2025-12-23 18:14:14,865 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:14:42,032 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:14:42,034 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:14:42,034 INFO sqlalchemy.engine.Engine [cached since 710s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:14:42,044 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:14:42,044 INFO sqlalchemy.engine.Engine [cached since 710s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:14:42,282 INFO sqlalchemy.engine.Engine INSERT INTO users (id, tenant_id, username, hashed_password, roles, is_active, created_at) VALUES (%(id)s::VARCHAR, %(tenant_id)s::VARCHAR, %(username)s::VARCHAR, %(hashed_password)s::VARCHAR, %(roles)s::JSONB, %(is_active)s, %(created_at)s::TIMESTAMP WITHOUT TIME ZONE)
2025-12-23 18:14:42,282 INFO sqlalchemy.engine.Engine [cached since 27.45s ago] {'id': 'e3e3513d-8b03-4d55-841c-7e5d50c6760a', 'tenant_id': '28f9a367-8132-4723-a360-333fbc5db17b', 'username': 'desk_person', 'hashed_password': '$2b$12$fvfi2aYwyM8upy8HEBZ.RuIYj2HaWaZACTtZOH5lDnaKpiZRSruwq', 'roles': Jsonb(['front_desk']), 'is_active': True, 'created_at': datetime.datetime(2025, 12, 23, 12, 44, 42, 282711)}
2025-12-23 18:14:42,286 INFO sqlalchemy.engine.Engine COMMIT
INFO:     127.0.0.1:63932 - "POST /users HTTP/1.1" 200 OK
2025-12-23 18:14:42,297 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:14:42,297 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:14:42,297 INFO sqlalchemy.engine.Engine [cached since 710.3s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:14:42,299 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:14:42,299 INFO sqlalchemy.engine.Engine [cached since 318.1s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63932 - "GET /users HTTP/1.1" 200 OK
2025-12-23 18:14:42,300 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:14:58,087 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:14:58,088 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:14:58,088 INFO sqlalchemy.engine.Engine [cached since 726s ago] {'username_1': 'nurse_joy'}
INFO:     127.0.0.1:63938 - "POST /token HTTP/1.1" 200 OK
2025-12-23 18:14:58,337 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:14:58,352 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:14:58,352 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:14:58,352 INFO sqlalchemy.engine.Engine [cached since 726.3s ago] {'username_1': 'nurse_joy'}
2025-12-23 18:14:58,356 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:14:58,356 INFO sqlalchemy.engine.Engine [cached since 726.3s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:14:58,357 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:14:58,357 INFO sqlalchemy.engine.Engine [cached since 347.5s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63938 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:14:58,358 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:14:58,365 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:14:58,365 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:14:58,365 INFO sqlalchemy.engine.Engine [cached since 726.3s ago] {'username_1': 'nurse_joy'}
2025-12-23 18:14:58,366 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:14:58,366 INFO sqlalchemy.engine.Engine [cached since 726.3s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:14:58,366 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:14:58,366 INFO sqlalchemy.engine.Engine [cached since 346.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:14:58,368 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:14:58,368 INFO sqlalchemy.engine.Engine [cached since 346.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:14:58,368 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:14:58,368 INFO sqlalchemy.engine.Engine [cached since 346.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63938 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:14:58,369 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:15:04,601 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:15:04,601 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:15:04,602 INFO sqlalchemy.engine.Engine [cached since 732.6s ago] {'username_1': 'nurse_joy'}
2025-12-23 18:15:04,604 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:15:04,604 INFO sqlalchemy.engine.Engine [cached since 732.6s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:15:04,605 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:15:04,605 INFO sqlalchemy.engine.Engine [cached since 353.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63940 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:15:04,606 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:15:04,906 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:15:04,907 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:15:04,907 INFO sqlalchemy.engine.Engine [cached since 732.9s ago] {'username_1': 'nurse_joy'}
2025-12-23 18:15:04,911 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:15:04,911 INFO sqlalchemy.engine.Engine [cached since 226.6s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:63940 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 18:15:04,913 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:15:07,538 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:15:07,539 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:15:07,539 INFO sqlalchemy.engine.Engine [cached since 735.5s ago] {'username_1': 'nurse_joy'}
2025-12-23 18:15:07,541 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:15:07,541 INFO sqlalchemy.engine.Engine [cached since 735.5s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:15:07,542 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:15:07,542 INFO sqlalchemy.engine.Engine [cached since 356.7s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63940 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:15:07,543 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:15:25,110 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:15:25,114 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:15:25,114 INFO sqlalchemy.engine.Engine [cached since 753.1s ago] {'username_1': 'desk_person'}
INFO:     127.0.0.1:63941 - "POST /token HTTP/1.1" 200 OK
2025-12-23 18:15:25,348 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:15:25,373 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:15:25,374 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:15:25,374 INFO sqlalchemy.engine.Engine [cached since 753.3s ago] {'username_1': 'desk_person'}
2025-12-23 18:15:25,376 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:15:25,376 INFO sqlalchemy.engine.Engine [cached since 753.3s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:15:25,377 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:15:25,377 INFO sqlalchemy.engine.Engine [cached since 374.5s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63941 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:15:25,378 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:15:25,386 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:15:25,386 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:15:25,386 INFO sqlalchemy.engine.Engine [cached since 753.3s ago] {'username_1': 'desk_person'}
2025-12-23 18:15:25,387 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:15:25,387 INFO sqlalchemy.engine.Engine [cached since 753.3s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:15:25,388 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:15:25,388 INFO sqlalchemy.engine.Engine [cached since 373.3s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:15:25,390 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:15:25,390 INFO sqlalchemy.engine.Engine [cached since 373.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:15:25,391 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:15:25,391 INFO sqlalchemy.engine.Engine [cached since 373.2s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63941 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:15:25,392 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:15:26,850 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:15:26,851 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:15:26,851 INFO sqlalchemy.engine.Engine [cached since 754.8s ago] {'username_1': 'desk_person'}
2025-12-23 18:15:26,853 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:15:26,853 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:15:26,853 INFO sqlalchemy.engine.Engine [cached since 754.8s ago] {'username_1': 'desk_person'}
2025-12-23 18:15:26,855 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:15:26,855 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:15:26,855 INFO sqlalchemy.engine.Engine [cached since 754.8s ago] {'username_1': 'desk_person'}
2025-12-23 18:15:26,856 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:15:26,857 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:15:26,857 INFO sqlalchemy.engine.Engine [cached since 754.8s ago] {'username_1': 'desk_person'}
2025-12-23 18:15:26,858 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 18:15:26,858 INFO sqlalchemy.engine.Engine [cached since 248.6s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
2025-12-23 18:15:26,859 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:15:26,859 INFO sqlalchemy.engine.Engine [cached since 248.6s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
INFO:     127.0.0.1:63941 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 18:15:26,860 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:15:26,860 INFO sqlalchemy.engine.Engine [cached since 362.6s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:15:26,860 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63942 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 18:15:26,861 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:15:26,862 INFO sqlalchemy.engine.Engine [cached since 754.8s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:15:26,862 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63943 - "GET /users HTTP/1.1" 200 OK
2025-12-23 18:15:26,863 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:15:26,863 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:15:26,863 INFO sqlalchemy.engine.Engine [cached since 376s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63944 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:15:26,864 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:15:29,809 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:15:29,809 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:15:29,809 INFO sqlalchemy.engine.Engine [cached since 757.8s ago] {'username_1': 'desk_person'}
2025-12-23 18:15:29,811 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:15:29,811 INFO sqlalchemy.engine.Engine [cached since 757.8s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:15:29,813 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:15:29,813 INFO sqlalchemy.engine.Engine [cached since 379s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63941 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:15:29,814 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:15:30,114 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:15:30,115 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:15:30,115 INFO sqlalchemy.engine.Engine [cached since 758.1s ago] {'username_1': 'desk_person'}
2025-12-23 18:15:30,119 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:15:30,119 INFO sqlalchemy.engine.Engine [cached since 251.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:63942 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 18:15:30,121 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:15:32,955 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:15:32,956 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:15:32,956 INFO sqlalchemy.engine.Engine [cached since 760.9s ago] {'username_1': 'desk_person'}
2025-12-23 18:15:32,959 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:15:32,959 INFO sqlalchemy.engine.Engine [cached since 760.9s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:15:32,960 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:15:32,960 INFO sqlalchemy.engine.Engine [cached since 382.1s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63941 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:15:32,961 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:16:02,828 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:16:02,830 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:16:02,830 INFO sqlalchemy.engine.Engine [cached since 790.8s ago] {'username_1': 'dr_patil'}
INFO:     127.0.0.1:63953 - "POST /token HTTP/1.1" 200 OK
2025-12-23 18:16:03,071 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:16:03,089 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:16:03,089 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:16:03,089 INFO sqlalchemy.engine.Engine [cached since 791s ago] {'username_1': 'dr_patil'}
2025-12-23 18:16:03,093 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:16:03,093 INFO sqlalchemy.engine.Engine [cached since 791s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:16:03,094 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:16:03,094 INFO sqlalchemy.engine.Engine [cached since 412.3s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63953 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:16:03,095 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:16:03,104 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:16:03,104 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:16:03,104 INFO sqlalchemy.engine.Engine [cached since 791.1s ago] {'username_1': 'dr_patil'}
2025-12-23 18:16:03,106 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:16:03,106 INFO sqlalchemy.engine.Engine [cached since 791.1s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:16:03,107 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:16:03,107 INFO sqlalchemy.engine.Engine [cached since 411s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:16:03,107 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:16:03,107 INFO sqlalchemy.engine.Engine [cached since 411s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:16:03,108 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:16:03,108 INFO sqlalchemy.engine.Engine [cached since 411s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:63953 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:16:03,109 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:16:05,192 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:16:05,192 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:16:05,192 INFO sqlalchemy.engine.Engine [cached since 793.2s ago] {'username_1': 'dr_patil'}
2025-12-23 18:16:05,194 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:16:05,195 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:16:05,195 INFO sqlalchemy.engine.Engine [cached since 793.2s ago] {'username_1': 'dr_patil'}
2025-12-23 18:16:05,196 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:16:05,196 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:16:05,196 INFO sqlalchemy.engine.Engine [cached since 793.2s ago] {'username_1': 'dr_patil'}
2025-12-23 18:16:05,200 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:16:05,200 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:16:05,200 INFO sqlalchemy.engine.Engine [cached since 793.2s ago] {'username_1': 'dr_patil'}
2025-12-23 18:16:05,202 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 18:16:05,202 INFO sqlalchemy.engine.Engine [cached since 287s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
2025-12-23 18:16:05,204 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:16:05,204 INFO sqlalchemy.engine.Engine [cached since 286.9s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
2025-12-23 18:16:05,206 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:16:05,206 INFO sqlalchemy.engine.Engine [cached since 401s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63953 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 18:16:05,209 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:16:05,209 INFO sqlalchemy.engine.Engine [cached since 793.2s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63954 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 18:16:05,210 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:16:05,210 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63955 - "GET /users HTTP/1.1" 200 OK
2025-12-23 18:16:05,212 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:16:05,212 INFO sqlalchemy.engine.Engine [cached since 414.4s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:16:05,212 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:63956 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:16:05,213 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:16:05,838 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:16:05,838 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:16:05,838 INFO sqlalchemy.engine.Engine [cached since 793.8s ago] {'username_1': 'dr_patil'}
2025-12-23 18:16:05,841 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:16:05,841 INFO sqlalchemy.engine.Engine [cached since 793.8s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:16:05,842 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:16:05,843 INFO sqlalchemy.engine.Engine [cached since 415s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63953 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:16:05,845 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:16:06,137 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:16:06,138 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:16:06,138 INFO sqlalchemy.engine.Engine [cached since 794.1s ago] {'username_1': 'dr_patil'}
2025-12-23 18:16:06,140 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:16:06,140 INFO sqlalchemy.engine.Engine [cached since 287.8s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:63954 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 18:16:06,142 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:16:06,378 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:16:06,378 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:16:06,378 INFO sqlalchemy.engine.Engine [cached since 794.3s ago] {'username_1': 'dr_patil'}
2025-12-23 18:16:06,380 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:16:06,381 INFO sqlalchemy.engine.Engine [cached since 794.3s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:16:06,382 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:16:06,382 INFO sqlalchemy.engine.Engine [cached since 415.6s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:63955 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:16:06,384 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:64086 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 18:24:30,078 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:24:30,081 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:24:30,081 INFO sqlalchemy.engine.Engine [cached since 1298s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:24:30,302 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:24:30,302 INFO sqlalchemy.engine.Engine [cached since 1298s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:24:30,310 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:24:30,310 INFO sqlalchemy.engine.Engine [cached since 919.5s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64086 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:24:30,311 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:24:30,929 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:24:30,930 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:24:30,930 INFO sqlalchemy.engine.Engine [cached since 1299s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:24:30,934 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:24:30,934 INFO sqlalchemy.engine.Engine [cached since 1299s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:24:30,938 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:24:30,938 INFO sqlalchemy.engine.Engine [cached since 920.1s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64086 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:24:30,939 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:64117 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 18:25:25,030 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:25:25,043 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:25:25,048 INFO sqlalchemy.engine.Engine [cached since 1353s ago] {'username_1': 'dr_patil'}
2025-12-23 18:25:25,120 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:25:25,120 INFO sqlalchemy.engine.Engine [cached since 1353s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:25:25,129 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:25:25,129 INFO sqlalchemy.engine.Engine [cached since 974.3s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:25:25,133 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:27:00,507 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:27:00,516 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:27:00,516 INFO sqlalchemy.engine.Engine [cached since 1448s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:27:00,581 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:27:00,581 INFO sqlalchemy.engine.Engine [cached since 1449s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:27:00,624 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:27:00,636 INFO sqlalchemy.engine.Engine [cached since 1070s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64169 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:27:00,686 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:27:00,971 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:27:00,971 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:27:00,971 INFO sqlalchemy.engine.Engine [cached since 1449s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:27:00,979 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:27:00,979 INFO sqlalchemy.engine.Engine [cached since 1449s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:27:00,981 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:27:00,982 INFO sqlalchemy.engine.Engine [cached since 1070s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64169 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:27:00,984 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:27:57,938 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:27:57,941 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:27:57,942 INFO sqlalchemy.engine.Engine [cached since 1506s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:27:57,966 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:27:57,966 INFO sqlalchemy.engine.Engine [cached since 1506s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:27:57,969 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:27:57,969 INFO sqlalchemy.engine.Engine [cached since 1127s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64207 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:27:57,973 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:27:57,976 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:27:57,977 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:27:57,977 INFO sqlalchemy.engine.Engine [cached since 1506s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:27:57,983 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:27:57,983 INFO sqlalchemy.engine.Engine [cached since 1506s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:27:57,984 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:27:57,984 INFO sqlalchemy.engine.Engine [cached since 1127s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64207 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:27:57,985 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:30:17,029 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:17,033 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:17,033 INFO sqlalchemy.engine.Engine [cached since 1645s ago] {'username_1': 'admin'}
INFO:     127.0.0.1:64256 - "POST /token HTTP/1.1" 200 OK
2025-12-23 18:30:17,290 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:30:17,306 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:17,306 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:17,306 INFO sqlalchemy.engine.Engine [cached since 1645s ago] {'username_1': 'admin'}
2025-12-23 18:30:17,311 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:30:17,311 INFO sqlalchemy.engine.Engine [cached since 1645s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 18:30:17,317 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:30:17,317 INFO sqlalchemy.engine.Engine [cached since 1266s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:64256 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:30:17,321 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:64256 - "OPTIONS /stats/overview HTTP/1.1" 200 OK
INFO:     127.0.0.1:64257 - "OPTIONS /tenants HTTP/1.1" 200 OK
INFO:     127.0.0.1:64258 - "OPTIONS /stats/growth HTTP/1.1" 200 OK
2025-12-23 18:30:17,366 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:17,366 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:17,366 INFO sqlalchemy.engine.Engine [cached since 1645s ago] {'username_1': 'admin'}
2025-12-23 18:30:17,375 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:17,375 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:17,375 INFO sqlalchemy.engine.Engine [cached since 1645s ago] {'username_1': 'admin'}
2025-12-23 18:30:17,376 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:17,377 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:17,377 INFO sqlalchemy.engine.Engine [cached since 1645s ago] {'username_1': 'admin'}
2025-12-23 18:30:17,380 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:30:17,380 INFO sqlalchemy.engine.Engine [cached since 1645s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 18:30:17,383 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:30:17,383 INFO sqlalchemy.engine.Engine [cached since 1645s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 18:30:17,384 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:30:17,384 INFO sqlalchemy.engine.Engine [cached since 1645s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:64258 - "GET /stats/growth HTTP/1.1" 200 OK
2025-12-23 18:30:17,411 INFO sqlalchemy.engine.Engine SELECT count(tenants.id) AS count_1 
FROM tenants 
WHERE tenants.is_super_admin = false
2025-12-23 18:30:17,411 INFO sqlalchemy.engine.Engine [generated in 0.00025s] {}
2025-12-23 18:30:17,411 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:30:17,416 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 18:30:17,416 INFO sqlalchemy.engine.Engine [generated in 0.00018s] {}
2025-12-23 18:30:17,429 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 18:30:17,429 INFO sqlalchemy.engine.Engine [generated in 0.00044s] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 18:30:17,430 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients
2025-12-23 18:30:17,430 INFO sqlalchemy.engine.Engine [generated in 0.00009s] {}
2025-12-23 18:30:17,436 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users JOIN tenants ON users.tenant_id = tenants.id 
WHERE tenants.is_super_admin = false AND users.roles @> %(roles_1)s::JSONB
2025-12-23 18:30:17,436 INFO sqlalchemy.engine.Engine [generated in 0.00041s] {'roles_1': Jsonb(['admin'])}
2025-12-23 18:30:17,438 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 18:30:17,438 INFO sqlalchemy.engine.Engine [cached since 0.00939s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:64257 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 18:30:17,439 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:64256 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:30:17,441 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:30:19,920 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:19,920 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:19,920 INFO sqlalchemy.engine.Engine [cached since 1648s ago] {'username_1': 'admin'}
2025-12-23 18:30:19,921 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:19,921 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:19,922 INFO sqlalchemy.engine.Engine [cached since 1648s ago] {'username_1': 'admin'}
2025-12-23 18:30:19,923 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:30:19,923 INFO sqlalchemy.engine.Engine [cached since 1648s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 18:30:19,924 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:30:19,924 INFO sqlalchemy.engine.Engine [cached since 1648s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 18:30:19,925 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 18:30:19,925 INFO sqlalchemy.engine.Engine [cached since 2.509s ago] {}
2025-12-23 18:30:19,926 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:30:19,926 INFO sqlalchemy.engine.Engine [cached since 1269s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:64257 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:30:19,928 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:30:19,929 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 18:30:19,929 INFO sqlalchemy.engine.Engine [cached since 2.501s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
2025-12-23 18:30:19,930 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 18:30:19,931 INFO sqlalchemy.engine.Engine [cached since 2.502s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:64258 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 18:30:19,931 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:64257 - "OPTIONS /users HTTP/1.1" 200 OK
INFO:     127.0.0.1:64258 - "OPTIONS /settings HTTP/1.1" 200 OK
2025-12-23 18:30:22,675 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:22,675 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:22,675 INFO sqlalchemy.engine.Engine [cached since 1651s ago] {'username_1': 'admin'}
2025-12-23 18:30:22,677 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:22,677 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:22,677 INFO sqlalchemy.engine.Engine [cached since 1651s ago] {'username_1': 'admin'}
2025-12-23 18:30:22,679 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:22,679 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:22,679 INFO sqlalchemy.engine.Engine [cached since 1651s ago] {'username_1': 'admin'}
2025-12-23 18:30:22,681 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:30:22,681 INFO sqlalchemy.engine.Engine [cached since 1651s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 18:30:22,682 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:30:22,682 INFO sqlalchemy.engine.Engine [cached since 1258s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 18:30:22,682 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:30:22,682 INFO sqlalchemy.engine.Engine [cached since 1272s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 18:30:22,683 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:30:22,683 INFO sqlalchemy.engine.Engine [cached since 1272s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
INFO:     127.0.0.1:64257 - "GET /users HTTP/1.1" 200 OK
2025-12-23 18:30:22,685 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:64258 - "GET /settings HTTP/1.1" 200 OK
INFO:     127.0.0.1:64259 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:30:22,687 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:30:22,687 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:30:25,004 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:25,005 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:25,006 INFO sqlalchemy.engine.Engine [cached since 1653s ago] {'username_1': 'admin'}
2025-12-23 18:30:25,007 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:25,008 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:25,008 INFO sqlalchemy.engine.Engine [cached since 1653s ago] {'username_1': 'admin'}
2025-12-23 18:30:25,009 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:30:25,010 INFO sqlalchemy.engine.Engine [cached since 1653s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 18:30:25,011 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:30:25,012 INFO sqlalchemy.engine.Engine [cached since 1653s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 18:30:25,013 INFO sqlalchemy.engine.Engine SELECT tenants.id, tenants.name, tenants.domain, tenants.created_at, tenants.is_super_admin 
FROM tenants ORDER BY tenants.created_at
2025-12-23 18:30:25,013 INFO sqlalchemy.engine.Engine [cached since 7.597s ago] {}
2025-12-23 18:30:25,014 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:30:25,014 INFO sqlalchemy.engine.Engine [cached since 1274s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 18:30:25,015 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 18:30:25,015 INFO sqlalchemy.engine.Engine [cached since 7.587s ago] {'tenant_id_1': '318f4587-b8b2-41f4-820b-7def3037858b', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:64258 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:30:25,017 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:30:25,018 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR AND users.roles @> %(roles_1)s::JSONB
2025-12-23 18:30:25,018 INFO sqlalchemy.engine.Engine [cached since 7.589s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'roles_1': Jsonb(['admin'])}
INFO:     127.0.0.1:64257 - "GET /tenants HTTP/1.1" 200 OK
2025-12-23 18:30:25,019 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:64259 - "OPTIONS /tenants/28f9a367-8132-4723-a360-333fbc5db17b/impersonate HTTP/1.1" 200 OK
2025-12-23 18:30:27,585 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:27,585 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:27,585 INFO sqlalchemy.engine.Engine [cached since 1656s ago] {'username_1': 'admin'}
2025-12-23 18:30:27,588 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:30:27,589 INFO sqlalchemy.engine.Engine [cached since 1656s ago] {'pk_1': '318f4587-b8b2-41f4-820b-7def3037858b'}
2025-12-23 18:30:27,591 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER
2025-12-23 18:30:27,591 INFO sqlalchemy.engine.Engine [generated in 0.00021s] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 1}
2025-12-23 18:30:27,593 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:30:27,593 INFO sqlalchemy.engine.Engine [cached since 1263s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64258 - "POST /tenants/28f9a367-8132-4723-a360-333fbc5db17b/impersonate HTTP/1.1" 200 OK
2025-12-23 18:30:27,595 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:30:28,040 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:28,040 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:28,040 INFO sqlalchemy.engine.Engine [cached since 1656s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:30:28,041 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:30:28,041 INFO sqlalchemy.engine.Engine [cached since 1656s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:30:28,042 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:30:28,042 INFO sqlalchemy.engine.Engine [cached since 1277s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64257 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:30:28,042 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:30:28,060 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:28,061 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:28,061 INFO sqlalchemy.engine.Engine [cached since 1656s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:30:28,062 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:30:28,062 INFO sqlalchemy.engine.Engine [cached since 1656s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:30:28,063 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:30:28,063 INFO sqlalchemy.engine.Engine [cached since 1276s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:30:28,064 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:30:28,064 INFO sqlalchemy.engine.Engine [cached since 1276s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:30:28,064 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:30:28,065 INFO sqlalchemy.engine.Engine [cached since 1276s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:64259 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:30:28,066 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:30:29,950 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:29,951 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:29,951 INFO sqlalchemy.engine.Engine [cached since 1658s ago] {'username_1': 'apollo_admin'}
INFO:     127.0.0.1:64257 - "OPTIONS /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:64259 - "OPTIONS /patients HTTP/1.1" 200 OK
2025-12-23 18:30:29,953 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:29,954 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:29,954 INFO sqlalchemy.engine.Engine [cached since 1658s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:30:29,957 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:30:29,957 INFO sqlalchemy.engine.Engine [cached since 1658s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:30:29,959 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:29,960 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:29,960 INFO sqlalchemy.engine.Engine [cached since 1658s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:30:29,961 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:29,962 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:29,962 INFO sqlalchemy.engine.Engine [cached since 1658s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:30:29,962 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:30:29,962 INFO sqlalchemy.engine.Engine [cached since 1279s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:30:29,963 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:30:29,963 INFO sqlalchemy.engine.Engine [cached since 1266s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64258 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:30:29,965 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 18:30:29,966 INFO sqlalchemy.engine.Engine [cached since 1152s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
INFO:     127.0.0.1:64269 - "GET /users HTTP/1.1" 200 OK
2025-12-23 18:30:29,966 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:30:29,966 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:30:29,968 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:30:29,968 INFO sqlalchemy.engine.Engine [cached since 1152s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
INFO:     127.0.0.1:64257 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 18:30:29,969 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:64259 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 18:30:29,970 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:30:31,196 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:31,197 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:31,197 INFO sqlalchemy.engine.Engine [cached since 1659s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:30:31,198 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:30:31,199 INFO sqlalchemy.engine.Engine [cached since 1659s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:30:31,199 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:30:31,200 INFO sqlalchemy.engine.Engine [cached since 1280s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64258 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:30:31,201 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:64269 - "OPTIONS /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 18:30:31,500 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:31,500 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:31,501 INFO sqlalchemy.engine.Engine [cached since 1659s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:30:31,505 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:30:31,505 INFO sqlalchemy.engine.Engine [cached since 1153s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:64257 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 18:30:31,507 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:30:32,159 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:32,159 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:32,159 INFO sqlalchemy.engine.Engine [cached since 1660s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:30:32,160 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:30:32,161 INFO sqlalchemy.engine.Engine [cached since 1660s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:30:32,162 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:30:32,162 INFO sqlalchemy.engine.Engine [cached since 1281s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64259 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:30:32,163 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:30:33,166 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:33,167 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:33,167 INFO sqlalchemy.engine.Engine [cached since 1661s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:30:33,168 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:33,169 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:33,169 INFO sqlalchemy.engine.Engine [cached since 1661s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:30:33,170 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:30:33,170 INFO sqlalchemy.engine.Engine [cached since 1661s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:30:33,171 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:30:33,171 INFO sqlalchemy.engine.Engine [cached since 1269s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:30:33,172 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:30:33,172 INFO sqlalchemy.engine.Engine [cached since 1282s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64258 - "GET /users HTTP/1.1" 200 OK
2025-12-23 18:30:33,173 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:64269 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:30:33,173 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:30:37,360 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:37,362 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:37,362 INFO sqlalchemy.engine.Engine [cached since 1665s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:30:37,364 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:37,365 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:37,365 INFO sqlalchemy.engine.Engine [cached since 1665s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:30:37,372 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:30:37,372 INFO sqlalchemy.engine.Engine [cached since 1665s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:30:37,373 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:30:37,373 INFO sqlalchemy.engine.Engine [cached since 1287s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:30:37,374 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:30:37,374 INFO sqlalchemy.engine.Engine [cached since 1287s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64258 - "GET /settings HTTP/1.1" 200 OK
2025-12-23 18:30:37,376 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:64269 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:30:37,377 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:30:49,183 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:49,184 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:49,184 INFO sqlalchemy.engine.Engine [cached since 1677s ago] {'username_1': 'dr_patil'}
INFO:     127.0.0.1:64270 - "POST /token HTTP/1.1" 200 OK
2025-12-23 18:30:49,431 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:30:49,449 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:49,449 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:49,449 INFO sqlalchemy.engine.Engine [cached since 1677s ago] {'username_1': 'dr_patil'}
2025-12-23 18:30:49,462 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:30:49,463 INFO sqlalchemy.engine.Engine [cached since 1677s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:30:49,464 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:30:49,464 INFO sqlalchemy.engine.Engine [cached since 1299s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64270 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:30:49,466 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:30:49,473 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:49,473 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:49,473 INFO sqlalchemy.engine.Engine [cached since 1677s ago] {'username_1': 'dr_patil'}
2025-12-23 18:30:49,474 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:30:49,474 INFO sqlalchemy.engine.Engine [cached since 1677s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:30:49,475 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:30:49,475 INFO sqlalchemy.engine.Engine [cached since 1297s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:30:49,476 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:30:49,476 INFO sqlalchemy.engine.Engine [cached since 1297s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:30:49,476 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:30:49,476 INFO sqlalchemy.engine.Engine [cached since 1297s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:64270 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:30:49,477 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:30:52,100 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:52,101 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:52,101 INFO sqlalchemy.engine.Engine [cached since 1680s ago] {'username_1': 'dr_patil'}
2025-12-23 18:30:52,103 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:52,104 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:52,104 INFO sqlalchemy.engine.Engine [cached since 1680s ago] {'username_1': 'dr_patil'}
2025-12-23 18:30:52,105 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:30:52,105 INFO sqlalchemy.engine.Engine [cached since 1680s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:30:52,106 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:52,106 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:52,106 INFO sqlalchemy.engine.Engine [cached since 1680s ago] {'username_1': 'dr_patil'}
2025-12-23 18:30:52,106 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:52,107 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:52,107 INFO sqlalchemy.engine.Engine [cached since 1680s ago] {'username_1': 'dr_patil'}
2025-12-23 18:30:52,107 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:30:52,107 INFO sqlalchemy.engine.Engine [cached since 1301s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:30:52,109 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 18:30:52,109 INFO sqlalchemy.engine.Engine [cached since 1174s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
INFO:     127.0.0.1:64270 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:30:52,111 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:30:52,111 INFO sqlalchemy.engine.Engine [cached since 1174s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
2025-12-23 18:30:52,111 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:30:52,111 INFO sqlalchemy.engine.Engine [cached since 1288s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:30:52,112 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:64271 - "GET /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:64272 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 18:30:52,112 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:30:52,113 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:64273 - "GET /users HTTP/1.1" 200 OK
2025-12-23 18:30:52,114 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:30:53,242 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:53,243 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:53,243 INFO sqlalchemy.engine.Engine [cached since 1681s ago] {'username_1': 'dr_patil'}
2025-12-23 18:30:53,245 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:30:53,245 INFO sqlalchemy.engine.Engine [cached since 1681s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:30:53,246 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:30:53,246 INFO sqlalchemy.engine.Engine [cached since 1302s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64270 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:30:53,247 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:30:53,550 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:53,551 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:53,551 INFO sqlalchemy.engine.Engine [cached since 1682s ago] {'username_1': 'dr_patil'}
2025-12-23 18:30:53,555 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:30:53,555 INFO sqlalchemy.engine.Engine [cached since 1175s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:64272 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 18:30:53,559 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:30:55,094 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:55,096 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:55,096 INFO sqlalchemy.engine.Engine [cached since 1683s ago] {'username_1': 'dr_patil'}
2025-12-23 18:30:55,100 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:30:55,100 INFO sqlalchemy.engine.Engine [cached since 1683s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:30:55,101 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:30:55,101 INFO sqlalchemy.engine.Engine [cached since 1304s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64271 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:30:55,102 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:30:57,933 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:57,934 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:57,934 INFO sqlalchemy.engine.Engine [cached since 1686s ago] {'username_1': 'dr_patil'}
2025-12-23 18:30:57,936 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:57,936 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:57,936 INFO sqlalchemy.engine.Engine [cached since 1686s ago] {'username_1': 'dr_patil'}
2025-12-23 18:30:57,940 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:30:57,940 INFO sqlalchemy.engine.Engine [cached since 1686s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:30:57,941 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:30:57,941 INFO sqlalchemy.engine.Engine [cached since 1686s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:30:57,942 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:30:57,942 INFO sqlalchemy.engine.Engine [cached since 1306s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:30:57,943 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:30:57,943 INFO sqlalchemy.engine.Engine [cached since 1307s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:30:57,944 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:30:57,944 INFO sqlalchemy.engine.Engine [cached since 1306s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64272 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:30:57,945 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:30:57,946 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:30:57,946 INFO sqlalchemy.engine.Engine [cached since 1306s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:64270 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:30:57,947 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:30:57,951 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:30:57,951 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:30:57,951 INFO sqlalchemy.engine.Engine [cached since 1686s ago] {'username_1': 'dr_patil'}
2025-12-23 18:30:57,953 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:30:57,953 INFO sqlalchemy.engine.Engine [cached since 1686s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:30:57,954 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:30:57,954 INFO sqlalchemy.engine.Engine [cached since 1306s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:30:57,955 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:30:57,955 INFO sqlalchemy.engine.Engine [cached since 1306s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:30:57,956 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:30:57,956 INFO sqlalchemy.engine.Engine [cached since 1306s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:64271 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:30:57,957 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:31:10,381 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:31:10,383 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:31:10,383 INFO sqlalchemy.engine.Engine [cached since 1698s ago] {'username_1': 'nurse_joy'}
INFO:     127.0.0.1:64280 - "POST /token HTTP/1.1" 200 OK
2025-12-23 18:31:10,624 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:31:10,638 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:31:10,639 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:31:10,639 INFO sqlalchemy.engine.Engine [cached since 1699s ago] {'username_1': 'nurse_joy'}
2025-12-23 18:31:10,640 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:31:10,640 INFO sqlalchemy.engine.Engine [cached since 1699s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:31:10,641 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:31:10,641 INFO sqlalchemy.engine.Engine [cached since 1320s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64280 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:31:10,641 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:31:10,649 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:31:10,649 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:31:10,649 INFO sqlalchemy.engine.Engine [cached since 1699s ago] {'username_1': 'nurse_joy'}
2025-12-23 18:31:10,650 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:31:10,650 INFO sqlalchemy.engine.Engine [cached since 1699s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:31:10,651 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:31:10,651 INFO sqlalchemy.engine.Engine [cached since 1319s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:31:10,651 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:31:10,651 INFO sqlalchemy.engine.Engine [cached since 1319s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:31:10,652 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:31:10,652 INFO sqlalchemy.engine.Engine [cached since 1319s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:64280 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:31:10,652 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:31:12,974 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:31:12,975 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:31:12,975 INFO sqlalchemy.engine.Engine [cached since 1701s ago] {'username_1': 'nurse_joy'}
2025-12-23 18:31:12,977 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:31:12,977 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:31:12,977 INFO sqlalchemy.engine.Engine [cached since 1701s ago] {'username_1': 'nurse_joy'}
2025-12-23 18:31:12,978 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:31:12,979 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:31:12,979 INFO sqlalchemy.engine.Engine [cached since 1701s ago] {'username_1': 'nurse_joy'}
2025-12-23 18:31:12,980 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:31:12,980 INFO sqlalchemy.engine.Engine [cached since 1701s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:31:12,981 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:31:12,981 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:31:12,981 INFO sqlalchemy.engine.Engine [cached since 1701s ago] {'username_1': 'nurse_joy'}
2025-12-23 18:31:12,982 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:31:12,982 INFO sqlalchemy.engine.Engine [cached since 1322s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:31:12,983 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 18:31:12,983 INFO sqlalchemy.engine.Engine [cached since 1195s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
2025-12-23 18:31:12,984 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:31:12,984 INFO sqlalchemy.engine.Engine [cached since 1195s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
INFO:     127.0.0.1:64280 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:31:12,985 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:31:12,987 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:31:12,987 INFO sqlalchemy.engine.Engine [cached since 1309s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64281 - "GET /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:64282 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 18:31:12,988 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:31:12,988 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:64283 - "GET /users HTTP/1.1" 200 OK
2025-12-23 18:31:12,989 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:31:13,968 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:31:13,969 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:31:13,969 INFO sqlalchemy.engine.Engine [cached since 1702s ago] {'username_1': 'nurse_joy'}
2025-12-23 18:31:13,970 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:31:13,971 INFO sqlalchemy.engine.Engine [cached since 1702s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:31:13,972 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:31:13,972 INFO sqlalchemy.engine.Engine [cached since 1323s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64280 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:31:13,973 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:31:14,274 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:31:14,275 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:31:14,275 INFO sqlalchemy.engine.Engine [cached since 1702s ago] {'username_1': 'nurse_joy'}
2025-12-23 18:31:14,278 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:31:14,278 INFO sqlalchemy.engine.Engine [cached since 1196s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:64281 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 18:31:14,279 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:31:15,058 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:31:15,058 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:31:15,058 INFO sqlalchemy.engine.Engine [cached since 1703s ago] {'username_1': 'nurse_joy'}
2025-12-23 18:31:15,060 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:31:15,060 INFO sqlalchemy.engine.Engine [cached since 1703s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:31:15,061 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:31:15,061 INFO sqlalchemy.engine.Engine [cached since 1324s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64282 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:31:15,062 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:31:16,618 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:31:16,619 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:31:16,619 INFO sqlalchemy.engine.Engine [cached since 1705s ago] {'username_1': 'nurse_joy'}
2025-12-23 18:31:16,620 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:31:16,620 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:31:16,620 INFO sqlalchemy.engine.Engine [cached since 1705s ago] {'username_1': 'nurse_joy'}
2025-12-23 18:31:16,622 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:31:16,622 INFO sqlalchemy.engine.Engine [cached since 1705s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:31:16,623 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:31:16,623 INFO sqlalchemy.engine.Engine [cached since 1705s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:31:16,624 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:31:16,624 INFO sqlalchemy.engine.Engine [cached since 1326s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:31:16,625 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:31:16,625 INFO sqlalchemy.engine.Engine [cached since 1324s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64280 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:31:16,626 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:31:16,626 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:31:16,626 INFO sqlalchemy.engine.Engine [cached since 1324s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:31:16,627 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:31:16,627 INFO sqlalchemy.engine.Engine [cached since 1324s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:64283 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:31:16,628 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:31:16,632 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:31:16,632 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:31:16,632 INFO sqlalchemy.engine.Engine [cached since 1705s ago] {'username_1': 'nurse_joy'}
2025-12-23 18:31:16,634 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:31:16,634 INFO sqlalchemy.engine.Engine [cached since 1705s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:31:16,635 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:31:16,635 INFO sqlalchemy.engine.Engine [cached since 1324s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:31:16,636 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:31:16,636 INFO sqlalchemy.engine.Engine [cached since 1324s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:31:16,637 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:31:16,637 INFO sqlalchemy.engine.Engine [cached since 1324s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:64281 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:31:16,638 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:31:17,368 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:31:17,369 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:31:17,370 INFO sqlalchemy.engine.Engine [cached since 1705s ago] {'username_1': 'nurse_joy'}
2025-12-23 18:31:17,372 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:31:17,372 INFO sqlalchemy.engine.Engine [cached since 1705s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:31:17,373 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:31:17,373 INFO sqlalchemy.engine.Engine [cached since 1327s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64282 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:31:17,374 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:31:17,669 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:31:17,670 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:31:17,670 INFO sqlalchemy.engine.Engine [cached since 1706s ago] {'username_1': 'nurse_joy'}
2025-12-23 18:31:17,672 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:31:17,672 INFO sqlalchemy.engine.Engine [cached since 1199s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:64280 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 18:31:17,673 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:22,694 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:22,696 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:22,697 INFO sqlalchemy.engine.Engine [cached since 1771s ago] {'username_1': 'nurse_joy'}
2025-12-23 18:32:22,700 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:22,700 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:22,700 INFO sqlalchemy.engine.Engine [cached since 1771s ago] {'username_1': 'nurse_joy'}
2025-12-23 18:32:22,718 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:32:22,718 INFO sqlalchemy.engine.Engine [cached since 1771s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:22,719 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:32:22,719 INFO sqlalchemy.engine.Engine [cached since 1771s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:22,720 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:32:22,720 INFO sqlalchemy.engine.Engine [cached since 1392s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:22,721 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:32:22,721 INFO sqlalchemy.engine.Engine [cached since 1391s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64296 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:32:22,722 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:22,723 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:32:22,723 INFO sqlalchemy.engine.Engine [cached since 1391s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:22,724 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:32:22,724 INFO sqlalchemy.engine.Engine [cached since 1391s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:64295 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:32:22,725 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:22,729 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:22,729 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:22,729 INFO sqlalchemy.engine.Engine [cached since 1771s ago] {'username_1': 'nurse_joy'}
2025-12-23 18:32:22,732 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:32:22,732 INFO sqlalchemy.engine.Engine [cached since 1771s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:22,732 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:32:22,732 INFO sqlalchemy.engine.Engine [cached since 1391s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:22,733 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:32:22,733 INFO sqlalchemy.engine.Engine [cached since 1391s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:22,733 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:32:22,734 INFO sqlalchemy.engine.Engine [cached since 1391s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:64296 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:32:22,734 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:38,518 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:38,519 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:38,519 INFO sqlalchemy.engine.Engine [cached since 1786s ago] {'username_1': 'desk_person'}
INFO:     127.0.0.1:64297 - "POST /token HTTP/1.1" 200 OK
2025-12-23 18:32:38,766 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:38,784 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:38,784 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:38,784 INFO sqlalchemy.engine.Engine [cached since 1787s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:38,787 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:32:38,787 INFO sqlalchemy.engine.Engine [cached since 1787s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:38,788 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:32:38,788 INFO sqlalchemy.engine.Engine [cached since 1408s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64297 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:32:38,789 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:38,795 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:38,795 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:38,795 INFO sqlalchemy.engine.Engine [cached since 1787s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:38,796 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:32:38,796 INFO sqlalchemy.engine.Engine [cached since 1787s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:38,796 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:32:38,796 INFO sqlalchemy.engine.Engine [cached since 1407s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:38,797 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:32:38,797 INFO sqlalchemy.engine.Engine [cached since 1407s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:38,797 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:32:38,797 INFO sqlalchemy.engine.Engine [cached since 1407s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:64297 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:32:38,798 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:40,368 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:40,368 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:40,369 INFO sqlalchemy.engine.Engine [cached since 1788s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:40,372 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:32:40,372 INFO sqlalchemy.engine.Engine [cached since 1788s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:40,374 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:40,374 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:40,374 INFO sqlalchemy.engine.Engine [cached since 1788s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:40,375 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:40,375 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:40,375 INFO sqlalchemy.engine.Engine [cached since 1788s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:40,376 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:32:40,376 INFO sqlalchemy.engine.Engine [cached since 1410s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:40,377 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:40,377 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:40,377 INFO sqlalchemy.engine.Engine [cached since 1788s ago] {'username_1': 'desk_person'}
INFO:     127.0.0.1:64297 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:32:40,378 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:40,379 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 18:32:40,379 INFO sqlalchemy.engine.Engine [cached since 1282s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
2025-12-23 18:32:40,380 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:32:40,380 INFO sqlalchemy.engine.Engine [cached since 1282s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
2025-12-23 18:32:40,381 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:32:40,381 INFO sqlalchemy.engine.Engine [cached since 1396s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64298 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 18:32:40,382 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:64299 - "GET /patients HTTP/1.1" 200 OK
INFO:     127.0.0.1:64300 - "GET /users HTTP/1.1" 200 OK
2025-12-23 18:32:40,383 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:40,383 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:41,660 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:41,660 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:41,661 INFO sqlalchemy.engine.Engine [cached since 1790s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:41,663 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:32:41,663 INFO sqlalchemy.engine.Engine [cached since 1790s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:41,664 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:32:41,664 INFO sqlalchemy.engine.Engine [cached since 1411s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64297 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:32:41,665 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:41,963 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:41,964 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:41,964 INFO sqlalchemy.engine.Engine [cached since 1790s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:41,967 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:32:41,968 INFO sqlalchemy.engine.Engine [cached since 1284s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:64298 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 18:32:41,970 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:42,922 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:42,922 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:42,922 INFO sqlalchemy.engine.Engine [cached since 1791s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:42,923 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:42,923 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:42,923 INFO sqlalchemy.engine.Engine [cached since 1791s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:42,926 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:32:42,926 INFO sqlalchemy.engine.Engine [cached since 1791s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:42,927 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:32:42,927 INFO sqlalchemy.engine.Engine [cached since 1791s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:42,928 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:32:42,928 INFO sqlalchemy.engine.Engine [cached since 1412s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:42,929 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:32:42,929 INFO sqlalchemy.engine.Engine [cached since 1411s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64300 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:32:42,930 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:42,930 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:32:42,930 INFO sqlalchemy.engine.Engine [cached since 1411s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:42,931 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:32:42,931 INFO sqlalchemy.engine.Engine [cached since 1411s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:64299 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:32:42,932 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:43,758 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:43,758 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:43,759 INFO sqlalchemy.engine.Engine [cached since 1792s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:43,760 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:43,760 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:43,761 INFO sqlalchemy.engine.Engine [cached since 1792s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:43,761 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:43,762 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:43,762 INFO sqlalchemy.engine.Engine [cached since 1792s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:43,763 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:43,763 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:43,763 INFO sqlalchemy.engine.Engine [cached since 1792s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:43,765 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:32:43,765 INFO sqlalchemy.engine.Engine [cached since 1792s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:43,767 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 18:32:43,767 INFO sqlalchemy.engine.Engine [cached since 1286s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
2025-12-23 18:32:43,768 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:32:43,768 INFO sqlalchemy.engine.Engine [cached since 1285s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
2025-12-23 18:32:43,770 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:32:43,770 INFO sqlalchemy.engine.Engine [cached since 1400s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:43,770 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:32:43,770 INFO sqlalchemy.engine.Engine [cached since 1413s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64298 - "GET /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:64300 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 18:32:43,772 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:43,772 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:64299 - "GET /users HTTP/1.1" 200 OK
INFO:     127.0.0.1:64297 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:32:43,773 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:43,773 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:44,458 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:44,458 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:44,458 INFO sqlalchemy.engine.Engine [cached since 1792s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:44,461 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:32:44,461 INFO sqlalchemy.engine.Engine [cached since 1792s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:44,462 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:32:44,462 INFO sqlalchemy.engine.Engine [cached since 1414s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64298 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:32:44,463 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:44,764 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:44,765 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:44,765 INFO sqlalchemy.engine.Engine [cached since 1793s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:44,768 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:32:44,768 INFO sqlalchemy.engine.Engine [cached since 1286s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:64300 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 18:32:44,770 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:48,921 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:48,922 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:48,922 INFO sqlalchemy.engine.Engine [cached since 1797s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:48,923 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:48,924 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:48,924 INFO sqlalchemy.engine.Engine [cached since 1797s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:48,926 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:32:48,926 INFO sqlalchemy.engine.Engine [cached since 1797s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:48,927 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:32:48,927 INFO sqlalchemy.engine.Engine [cached since 1797s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:48,928 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:32:48,928 INFO sqlalchemy.engine.Engine [cached since 1418s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:48,929 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:32:48,929 INFO sqlalchemy.engine.Engine [cached since 1417s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64300 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:32:48,930 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:48,930 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:32:48,930 INFO sqlalchemy.engine.Engine [cached since 1417s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:48,931 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:32:48,931 INFO sqlalchemy.engine.Engine [cached since 1417s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:64298 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:32:48,933 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:50,025 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:50,026 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:50,026 INFO sqlalchemy.engine.Engine [cached since 1798s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:50,028 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:50,028 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:50,029 INFO sqlalchemy.engine.Engine [cached since 1798s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:50,031 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:50,032 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:50,032 INFO sqlalchemy.engine.Engine [cached since 1798s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:50,034 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:50,034 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:50,034 INFO sqlalchemy.engine.Engine [cached since 1798s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:50,036 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:32:50,036 INFO sqlalchemy.engine.Engine [cached since 1798s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:50,037 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 18:32:50,037 INFO sqlalchemy.engine.Engine [cached since 1292s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
2025-12-23 18:32:50,038 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:32:50,038 INFO sqlalchemy.engine.Engine [cached since 1419s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:50,039 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:32:50,039 INFO sqlalchemy.engine.Engine [cached since 1292s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
2025-12-23 18:32:50,040 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:32:50,040 INFO sqlalchemy.engine.Engine [cached since 1406s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64300 - "GET /users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:64298 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 18:32:50,041 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:50,041 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:64302 - "GET /users HTTP/1.1" 200 OK
INFO:     127.0.0.1:64301 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 18:32:50,043 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:50,043 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:50,745 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:50,745 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:50,745 INFO sqlalchemy.engine.Engine [cached since 1799s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:50,747 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:32:50,747 INFO sqlalchemy.engine.Engine [cached since 1799s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:50,748 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:32:50,748 INFO sqlalchemy.engine.Engine [cached since 1420s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64300 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:32:50,749 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:51,052 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:51,053 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:51,053 INFO sqlalchemy.engine.Engine [cached since 1799s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:51,056 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:32:51,056 INFO sqlalchemy.engine.Engine [cached since 1293s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:64298 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 18:32:51,057 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:53,610 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:53,610 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:53,610 INFO sqlalchemy.engine.Engine [cached since 1802s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:53,612 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:53,613 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:53,613 INFO sqlalchemy.engine.Engine [cached since 1802s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:53,614 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:53,614 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:53,614 INFO sqlalchemy.engine.Engine [cached since 1802s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:53,615 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:53,615 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:53,616 INFO sqlalchemy.engine.Engine [cached since 1802s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:53,620 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:32:53,620 INFO sqlalchemy.engine.Engine [cached since 1802s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:53,621 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 18:32:53,621 INFO sqlalchemy.engine.Engine [cached since 1295s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
2025-12-23 18:32:53,622 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:32:53,622 INFO sqlalchemy.engine.Engine [cached since 1295s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
2025-12-23 18:32:53,623 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:32:53,623 INFO sqlalchemy.engine.Engine [cached since 1409s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:53,623 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:32:53,623 INFO sqlalchemy.engine.Engine [cached since 1423s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64301 - "GET /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:64300 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 18:32:53,624 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:53,624 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:64298 - "GET /users HTTP/1.1" 200 OK
INFO:     127.0.0.1:64302 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:32:53,626 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:53,627 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:54,222 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:54,222 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:54,222 INFO sqlalchemy.engine.Engine [cached since 1802s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:54,224 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:54,224 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:54,224 INFO sqlalchemy.engine.Engine [cached since 1802s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:54,227 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:32:54,227 INFO sqlalchemy.engine.Engine [cached since 1802s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:54,228 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:32:54,229 INFO sqlalchemy.engine.Engine [cached since 1802s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:54,229 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:32:54,230 INFO sqlalchemy.engine.Engine [cached since 1422s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:54,230 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:32:54,230 INFO sqlalchemy.engine.Engine [cached since 1423s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:54,231 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:32:54,231 INFO sqlalchemy.engine.Engine [cached since 1422s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64300 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:32:54,234 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:54,236 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:32:54,236 INFO sqlalchemy.engine.Engine [cached since 1422s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:64301 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:32:54,237 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:54,974 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:54,975 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:54,975 INFO sqlalchemy.engine.Engine [cached since 1803s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:54,978 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:32:54,978 INFO sqlalchemy.engine.Engine [cached since 1803s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:32:54,980 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:32:54,980 INFO sqlalchemy.engine.Engine [cached since 1424s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64298 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:32:54,984 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:32:55,280 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:32:55,281 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:32:55,281 INFO sqlalchemy.engine.Engine [cached since 1803s ago] {'username_1': 'desk_person'}
2025-12-23 18:32:55,284 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:32:55,284 INFO sqlalchemy.engine.Engine [cached since 1297s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:64302 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 18:32:55,286 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:33:41,476 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:33:41,478 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:33:41,479 INFO sqlalchemy.engine.Engine [cached since 1849s ago] {'username_1': 'desk_person'}
2025-12-23 18:33:41,480 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:33:41,480 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:33:41,480 INFO sqlalchemy.engine.Engine [cached since 1849s ago] {'username_1': 'desk_person'}
2025-12-23 18:33:41,483 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:33:41,483 INFO sqlalchemy.engine.Engine [cached since 1849s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:33:41,484 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:33:41,484 INFO sqlalchemy.engine.Engine [cached since 1849s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:33:41,484 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:33:41,484 INFO sqlalchemy.engine.Engine [cached since 1469s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:33:41,485 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:33:41,485 INFO sqlalchemy.engine.Engine [cached since 1471s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:33:41,485 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:33:41,485 INFO sqlalchemy.engine.Engine [cached since 1469s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64317 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:33:41,486 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:33:41,486 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:33:41,486 INFO sqlalchemy.engine.Engine [cached since 1469s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:64316 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:33:41,487 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:33:41,492 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:33:41,492 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:33:41,492 INFO sqlalchemy.engine.Engine [cached since 1849s ago] {'username_1': 'desk_person'}
2025-12-23 18:33:41,493 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:33:41,493 INFO sqlalchemy.engine.Engine [cached since 1849s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:33:41,494 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:33:41,494 INFO sqlalchemy.engine.Engine [cached since 1469s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:33:41,495 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:33:41,495 INFO sqlalchemy.engine.Engine [cached since 1469s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:33:41,496 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:33:41,496 INFO sqlalchemy.engine.Engine [cached since 1469s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:64317 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:33:41,497 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:33:42,518 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:33:42,518 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:33:42,518 INFO sqlalchemy.engine.Engine [cached since 1850s ago] {'username_1': 'desk_person'}
2025-12-23 18:33:42,519 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:33:42,520 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:33:42,520 INFO sqlalchemy.engine.Engine [cached since 1850s ago] {'username_1': 'desk_person'}
2025-12-23 18:33:42,521 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:33:42,521 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:33:42,521 INFO sqlalchemy.engine.Engine [cached since 1850s ago] {'username_1': 'desk_person'}
2025-12-23 18:33:42,522 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:33:42,522 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:33:42,522 INFO sqlalchemy.engine.Engine [cached since 1850s ago] {'username_1': 'desk_person'}
2025-12-23 18:33:42,523 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:33:42,523 INFO sqlalchemy.engine.Engine [cached since 1850s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:33:42,525 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 18:33:42,525 INFO sqlalchemy.engine.Engine [cached since 1344s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
2025-12-23 18:33:42,526 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:33:42,526 INFO sqlalchemy.engine.Engine [cached since 1472s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64317 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 18:33:42,531 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:33:42,531 INFO sqlalchemy.engine.Engine [cached since 1344s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
2025-12-23 18:33:42,532 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:33:42,532 INFO sqlalchemy.engine.Engine [cached since 1458s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:33:42,532 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:64316 - "GET /users/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:64318 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 18:33:42,533 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:33:42,533 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:64319 - "GET /users HTTP/1.1" 200 OK
2025-12-23 18:33:42,534 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:33:43,431 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:33:43,432 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:33:43,432 INFO sqlalchemy.engine.Engine [cached since 1851s ago] {'username_1': 'desk_person'}
2025-12-23 18:33:43,436 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:33:43,436 INFO sqlalchemy.engine.Engine [cached since 1851s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:33:43,437 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:33:43,437 INFO sqlalchemy.engine.Engine [cached since 1473s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64317 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:33:43,438 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:33:43,732 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:33:43,732 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:33:43,732 INFO sqlalchemy.engine.Engine [cached since 1852s ago] {'username_1': 'desk_person'}
2025-12-23 18:33:43,734 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:33:43,734 INFO sqlalchemy.engine.Engine [cached since 1345s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:64316 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 18:33:43,735 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:33:44,224 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:33:44,225 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:33:44,225 INFO sqlalchemy.engine.Engine [cached since 1852s ago] {'username_1': 'desk_person'}
2025-12-23 18:33:44,227 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:33:44,227 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:33:44,227 INFO sqlalchemy.engine.Engine [cached since 1852s ago] {'username_1': 'desk_person'}
2025-12-23 18:33:44,229 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:33:44,229 INFO sqlalchemy.engine.Engine [cached since 1852s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:33:44,230 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:33:44,230 INFO sqlalchemy.engine.Engine [cached since 1852s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:33:44,230 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:33:44,231 INFO sqlalchemy.engine.Engine [cached since 1472s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:33:44,231 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:33:44,231 INFO sqlalchemy.engine.Engine [cached since 1473s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:33:44,232 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:33:44,232 INFO sqlalchemy.engine.Engine [cached since 1472s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64319 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:33:44,233 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:33:44,233 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:33:44,234 INFO sqlalchemy.engine.Engine [cached since 1472s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:64318 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:33:44,234 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:33:44,239 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:33:44,239 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:33:44,239 INFO sqlalchemy.engine.Engine [cached since 1852s ago] {'username_1': 'desk_person'}
2025-12-23 18:33:44,241 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:33:44,241 INFO sqlalchemy.engine.Engine [cached since 1852s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:33:44,241 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:33:44,242 INFO sqlalchemy.engine.Engine [cached since 1472s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:33:44,242 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:33:44,242 INFO sqlalchemy.engine.Engine [cached since 1472s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:33:44,243 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:33:44,243 INFO sqlalchemy.engine.Engine [cached since 1472s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:64317 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:33:44,244 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:33:45,060 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:33:45,061 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:33:45,061 INFO sqlalchemy.engine.Engine [cached since 1853s ago] {'username_1': 'desk_person'}
2025-12-23 18:33:45,062 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:33:45,062 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:33:45,063 INFO sqlalchemy.engine.Engine [cached since 1853s ago] {'username_1': 'desk_person'}
2025-12-23 18:33:45,065 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:33:45,066 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:33:45,066 INFO sqlalchemy.engine.Engine [cached since 1853s ago] {'username_1': 'desk_person'}
2025-12-23 18:33:45,067 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:33:45,069 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:33:45,069 INFO sqlalchemy.engine.Engine [cached since 1853s ago] {'username_1': 'desk_person'}
2025-12-23 18:33:45,072 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:33:45,072 INFO sqlalchemy.engine.Engine [cached since 1853s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:33:45,073 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 18:33:45,074 INFO sqlalchemy.engine.Engine [cached since 1347s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
2025-12-23 18:33:45,075 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:33:45,075 INFO sqlalchemy.engine.Engine [cached since 1347s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
2025-12-23 18:33:45,076 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:33:45,076 INFO sqlalchemy.engine.Engine [cached since 1461s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:33:45,077 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:33:45,077 INFO sqlalchemy.engine.Engine [cached since 1474s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64319 - "GET /appointments HTTP/1.1" 200 OK
INFO:     127.0.0.1:64318 - "GET /patients HTTP/1.1" 200 OK
INFO:     127.0.0.1:64317 - "GET /users HTTP/1.1" 200 OK
INFO:     127.0.0.1:64316 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:33:45,083 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:33:45,083 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:33:45,083 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:33:45,083 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:33:45,638 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:33:45,638 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:33:45,638 INFO sqlalchemy.engine.Engine [cached since 1854s ago] {'username_1': 'desk_person'}
2025-12-23 18:33:45,639 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:33:45,639 INFO sqlalchemy.engine.Engine [cached since 1854s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:33:45,640 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:33:45,640 INFO sqlalchemy.engine.Engine [cached since 1475s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64319 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:33:45,641 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:33:45,940 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:33:45,940 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:33:45,940 INFO sqlalchemy.engine.Engine [cached since 1854s ago] {'username_1': 'desk_person'}
2025-12-23 18:33:45,941 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:33:45,941 INFO sqlalchemy.engine.Engine [cached since 1348s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:64316 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 18:33:45,942 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:33:46,609 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:33:46,609 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:33:46,610 INFO sqlalchemy.engine.Engine [cached since 1855s ago] {'username_1': 'desk_person'}
2025-12-23 18:33:46,611 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:33:46,611 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:33:46,611 INFO sqlalchemy.engine.Engine [cached since 1855s ago] {'username_1': 'desk_person'}
2025-12-23 18:33:46,615 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:33:46,615 INFO sqlalchemy.engine.Engine [cached since 1855s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:33:46,618 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:33:46,618 INFO sqlalchemy.engine.Engine [cached since 1855s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:33:46,620 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:33:46,621 INFO sqlalchemy.engine.Engine [cached since 1474s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:33:46,621 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:33:46,621 INFO sqlalchemy.engine.Engine [cached since 1476s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:33:46,622 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:33:46,622 INFO sqlalchemy.engine.Engine [cached since 1474s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64317 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:33:46,623 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:33:46,624 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:33:46,624 INFO sqlalchemy.engine.Engine [cached since 1474s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:64318 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:33:46,625 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:33:46,628 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:33:46,629 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:33:46,629 INFO sqlalchemy.engine.Engine [cached since 1855s ago] {'username_1': 'desk_person'}
2025-12-23 18:33:46,630 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:33:46,630 INFO sqlalchemy.engine.Engine [cached since 1855s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:33:46,631 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:33:46,631 INFO sqlalchemy.engine.Engine [cached since 1474s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:33:46,632 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:33:46,632 INFO sqlalchemy.engine.Engine [cached since 1474s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:33:46,633 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:33:46,633 INFO sqlalchemy.engine.Engine [cached since 1474s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:64319 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:33:46,634 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:33:53,581 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:33:53,584 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:33:53,585 INFO sqlalchemy.engine.Engine [cached since 1862s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:33:53,587 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:33:53,587 INFO sqlalchemy.engine.Engine [cached since 1862s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:33:53,589 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:33:53,589 INFO sqlalchemy.engine.Engine [cached since 1483s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64329 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:33:53,594 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:33:53,907 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:33:53,908 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:33:53,908 INFO sqlalchemy.engine.Engine [cached since 1862s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:33:53,910 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:33:53,910 INFO sqlalchemy.engine.Engine [cached since 1862s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:33:53,910 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:33:53,910 INFO sqlalchemy.engine.Engine [cached since 1483s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64329 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:33:53,911 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:34:04,058 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:34:04,060 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:34:04,061 INFO sqlalchemy.engine.Engine [cached since 1872s ago] {'username_1': 'apollo_admin'}
INFO:     127.0.0.1:64337 - "POST /token HTTP/1.1" 200 OK
2025-12-23 18:34:04,306 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:34:04,331 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:34:04,331 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:34:04,331 INFO sqlalchemy.engine.Engine [cached since 1872s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:34:04,336 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:34:04,336 INFO sqlalchemy.engine.Engine [cached since 1872s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:34:04,338 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:34:04,338 INFO sqlalchemy.engine.Engine [cached since 1494s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64337 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:34:04,339 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:34:04,364 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:34:04,366 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:34:04,366 INFO sqlalchemy.engine.Engine [cached since 1872s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:34:04,372 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:34:04,372 INFO sqlalchemy.engine.Engine [cached since 1872s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:34:04,372 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:34:04,373 INFO sqlalchemy.engine.Engine [cached since 1492s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:34:04,373 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:34:04,373 INFO sqlalchemy.engine.Engine [cached since 1492s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:34:04,374 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:34:04,374 INFO sqlalchemy.engine.Engine [cached since 1492s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:64337 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:34:04,375 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:34:06,703 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:34:06,710 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:34:06,711 INFO sqlalchemy.engine.Engine [cached since 1875s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:34:06,715 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:34:06,715 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:34:06,715 INFO sqlalchemy.engine.Engine [cached since 1875s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:34:06,715 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:34:06,716 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:34:06,716 INFO sqlalchemy.engine.Engine [cached since 1875s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:34:06,723 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:34:06,723 INFO sqlalchemy.engine.Engine [cached since 1875s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:34:06,730 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:34:06,731 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:34:06,731 INFO sqlalchemy.engine.Engine [cached since 1875s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:34:06,736 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 18:34:06,736 INFO sqlalchemy.engine.Engine [cached since 1368s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
2025-12-23 18:34:06,737 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:34:06,737 INFO sqlalchemy.engine.Engine [cached since 1496s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:34:06,739 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:34:06,739 INFO sqlalchemy.engine.Engine [cached since 1368s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
INFO:     127.0.0.1:64339 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 18:34:06,740 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:64337 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:34:06,743 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:34:06,743 INFO sqlalchemy.engine.Engine [cached since 1483s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64340 - "GET /patients HTTP/1.1" 200 OK
2025-12-23 18:34:06,744 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:34:06,744 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:64341 - "GET /users HTTP/1.1" 200 OK
2025-12-23 18:34:06,748 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:34:07,996 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:34:07,998 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:34:07,998 INFO sqlalchemy.engine.Engine [cached since 1876s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:34:07,999 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:34:08,000 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:34:08,000 INFO sqlalchemy.engine.Engine [cached since 1876s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:34:08,006 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:34:08,006 INFO sqlalchemy.engine.Engine [cached since 1876s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:34:08,007 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:34:08,007 INFO sqlalchemy.engine.Engine [cached since 1876s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:34:08,007 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:34:08,007 INFO sqlalchemy.engine.Engine [cached since 1496s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:34:08,008 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:34:08,008 INFO sqlalchemy.engine.Engine [cached since 1497s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:34:08,008 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:34:08,008 INFO sqlalchemy.engine.Engine [cached since 1496s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64337 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:34:08,009 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:34:08,009 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:34:08,009 INFO sqlalchemy.engine.Engine [cached since 1496s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:64339 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:34:08,010 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:34:08,013 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:34:08,013 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:34:08,013 INFO sqlalchemy.engine.Engine [cached since 1876s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:34:08,016 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:34:08,016 INFO sqlalchemy.engine.Engine [cached since 1876s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:34:08,016 INFO sqlalchemy.engine.Engine SELECT count(patients.id) AS count_1 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:34:08,016 INFO sqlalchemy.engine.Engine [cached since 1496s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:34:08,017 INFO sqlalchemy.engine.Engine SELECT count(users.id) AS count_1 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:34:08,017 INFO sqlalchemy.engine.Engine [cached since 1496s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:34:08,017 INFO sqlalchemy.engine.Engine SELECT count(appointments.id) AS count_1 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR AND appointments.start_time >= %(start_time_1)s::DATE AND appointments.start_time < %(start_time_2)s::DATE
2025-12-23 18:34:08,017 INFO sqlalchemy.engine.Engine [cached since 1496s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'start_time_1': datetime.date(2025, 12, 23), 'start_time_2': datetime.date(2025, 12, 24)}
INFO:     127.0.0.1:64340 - "GET /stats/overview HTTP/1.1" 200 OK
2025-12-23 18:34:08,018 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:34:18,134 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:34:18,137 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:34:18,137 INFO sqlalchemy.engine.Engine [cached since 1886s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:34:18,139 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:34:18,140 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:34:18,140 INFO sqlalchemy.engine.Engine [cached since 1886s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:34:18,140 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:34:18,141 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:34:18,141 INFO sqlalchemy.engine.Engine [cached since 1886s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:34:18,142 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:34:18,142 INFO sqlalchemy.engine.Engine [cached since 1886s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:34:18,143 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:34:18,143 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:34:18,143 INFO sqlalchemy.engine.Engine [cached since 1886s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:34:18,143 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:34:18,143 INFO sqlalchemy.engine.Engine [cached since 1507s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:34:18,146 INFO sqlalchemy.engine.Engine SELECT appointments.id, appointments.tenant_id, appointments.patient_id, appointments.doctor_id, appointments.start_time, appointments.end_time, appointments.status, appointments.reason 
FROM appointments 
WHERE appointments.tenant_id = %(tenant_id_1)s::VARCHAR ORDER BY appointments.start_time DESC 
 LIMIT %(param_1)s::INTEGER
2025-12-23 18:34:18,147 INFO sqlalchemy.engine.Engine [cached since 1380s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 200}
INFO:     127.0.0.1:64343 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:34:18,148 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:34:18,148 INFO sqlalchemy.engine.Engine [cached since 1380s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 100, 'param_2': 0}
2025-12-23 18:34:18,148 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:34:18,150 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:34:18,150 INFO sqlalchemy.engine.Engine [cached since 1494s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64344 - "GET /appointments HTTP/1.1" 200 OK
2025-12-23 18:34:18,150 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:64345 - "GET /patients HTTP/1.1" 200 OK
INFO:     127.0.0.1:64346 - "GET /users HTTP/1.1" 200 OK
2025-12-23 18:34:18,151 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:34:18,151 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:34:18,952 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:34:18,953 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:34:18,953 INFO sqlalchemy.engine.Engine [cached since 1887s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:34:18,954 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:34:18,954 INFO sqlalchemy.engine.Engine [cached since 1887s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:34:18,955 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:34:18,955 INFO sqlalchemy.engine.Engine [cached since 1508s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64343 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:34:18,957 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:34:19,260 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:34:19,261 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:34:19,261 INFO sqlalchemy.engine.Engine [cached since 1887s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:34:19,264 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:34:19,264 INFO sqlalchemy.engine.Engine [cached since 1381s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:64344 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 18:34:19,266 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:64369 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 18:35:29,550 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:35:29,554 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:35:29,555 INFO sqlalchemy.engine.Engine [cached since 1958s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:35:29,601 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:35:29,601 INFO sqlalchemy.engine.Engine [cached since 1958s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:35:29,607 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:35:29,607 INFO sqlalchemy.engine.Engine [cached since 1579s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64369 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:35:29,616 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:35:29,999 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:35:29,999 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:35:29,999 INFO sqlalchemy.engine.Engine [cached since 1958s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:35:30,007 INFO sqlalchemy.engine.Engine SELECT patients.id, patients.tenant_id, patients.mrn, patients.name, patients.dob, patients.gender, patients.mobile, patients.blood_group, patients.allergies, patients.address, patients.created_at 
FROM patients 
WHERE patients.tenant_id = %(tenant_id_1)s::VARCHAR 
 LIMIT %(param_1)s::INTEGER OFFSET %(param_2)s::INTEGER
2025-12-23 18:35:30,007 INFO sqlalchemy.engine.Engine [cached since 1452s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b', 'param_1': 10, 'param_2': 0}
INFO:     127.0.0.1:64369 - "GET /patients?skip=0&limit=10 HTTP/1.1" 200 OK
2025-12-23 18:35:30,010 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     127.0.0.1:64415 - "OPTIONS /users/me HTTP/1.1" 200 OK
2025-12-23 18:38:16,260 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:38:16,319 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:38:16,336 INFO sqlalchemy.engine.Engine [cached since 2124s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:38:16,428 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:38:16,428 INFO sqlalchemy.engine.Engine [cached since 2124s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:38:16,436 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:38:16,437 INFO sqlalchemy.engine.Engine [cached since 1746s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64415 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:38:16,442 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:38:16,447 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:38:16,448 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:38:16,448 INFO sqlalchemy.engine.Engine [cached since 2124s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:38:16,475 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:38:16,475 INFO sqlalchemy.engine.Engine [cached since 2124s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:38:16,479 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:38:16,479 INFO sqlalchemy.engine.Engine [cached since 1746s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64415 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:38:16,481 INFO sqlalchemy.engine.Engine ROLLBACK
2025-12-23 18:38:23,753 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-12-23 18:38:23,757 INFO sqlalchemy.engine.Engine SELECT users.id, users.tenant_id, users.username, users.hashed_password, users.roles, users.is_active, users.created_at 
FROM users 
WHERE users.username = %(username_1)s::VARCHAR
2025-12-23 18:38:23,760 INFO sqlalchemy.engine.Engine [cached since 2132s ago] {'username_1': 'apollo_admin'}
2025-12-23 18:38:23,858 INFO sqlalchemy.engine.Engine SELECT tenants.id AS tenants_id, tenants.name AS tenants_name, tenants.domain AS tenants_domain, tenants.created_at AS tenants_created_at, tenants.is_super_admin AS tenants_is_super_admin 
FROM tenants 
WHERE tenants.id = %(pk_1)s::VARCHAR
2025-12-23 18:38:23,858 INFO sqlalchemy.engine.Engine [cached since 2132s ago] {'pk_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
2025-12-23 18:38:23,865 INFO sqlalchemy.engine.Engine SELECT tenant_settings.id, tenant_settings.tenant_id, tenant_settings.clinic_name, tenant_settings.logo_url, tenant_settings.address, tenant_settings.phone, tenant_settings.website 
FROM tenant_settings 
WHERE tenant_settings.tenant_id = %(tenant_id_1)s::VARCHAR
2025-12-23 18:38:23,866 INFO sqlalchemy.engine.Engine [cached since 1753s ago] {'tenant_id_1': '28f9a367-8132-4723-a360-333fbc5db17b'}
INFO:     127.0.0.1:64420 - "GET /users/me HTTP/1.1" 200 OK
2025-12-23 18:38:23,869 INFO sqlalchemy.engine.Engine ROLLBACK
